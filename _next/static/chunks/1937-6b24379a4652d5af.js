(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1937],{71845:function(e,t,n){"use strict";var a,i=n(94746);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:15,height:8,fill:"none"},e),a||(a=i.createElement("path",{fill:"currentColor",d:"M7.096 8c.315 0 .596-.141.785-.363a1 1 0 0 0 .207-.157l5.832-5.886a.937.937 0 0 0-.002-1.322l-.004-.004a.925.925 0 0 0-1.308.006l-5.51 5.56-5.51-5.56-.029-.028a.925.925 0 0 0-1.28.022L.274.272l-.028.03a.94.94 0 0 0 .027 1.292L6.104 7.48l.03.029a1 1 0 0 0 .177.128A1.03 1.03 0 0 0 7.096 8"})))}},59365:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(57437);function i(e){var t,n;return(0,a.jsx)("img",{src:"/images/icon-eth.svg",width:null!==(t=e.width)&&void 0!==t?t:20,height:null!==(n=e.height)&&void 0!==n?n:20,alt:"ETH",className:e.className})}},40066:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(57437);function i(e){var t,n;let i=null!==(t=e.defsPrexId)&&void 0!==t?t:"paint0";return(0,a.jsxs)("svg",{viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:null!==(n=e.className)&&void 0!==n?n:"",children:[(0,a.jsx)("path",{d:"M3.99681 6.00318H1.99045V3.66242C1.99045 3.15287 2.0913 2.67781 2.29299 2.23726C2.49469 1.79671 2.77335 1.40924 3.12898 1.07484C3.48461 0.740446 3.90393 0.477707 4.38694 0.286624C4.86996 0.0955414 5.39809 -1.03773e-08 5.97134 0C6.48089 0 6.97187 0.0955414 7.44427 0.286624C7.91667 0.477707 8.33599 0.740446 8.70223 1.07484C9.06847 1.40924 9.3604 1.79671 9.57802 2.23726C9.79565 2.67781 9.90446 3.15287 9.90446 3.66242V6.00318H7.97771V4.10828C7.97771 3.43949 7.79193 2.92197 7.42038 2.55573C7.04883 2.18949 6.54459 2.00637 5.90764 2.00637C5.33439 2.00637 4.87261 2.18949 4.52229 2.55573C4.17197 2.92197 3.99681 3.43949 3.99681 4.10828V6.00318ZM10.8599 6.9586C11.1465 6.9586 11.3933 7.0621 11.6003 7.26911C11.8073 7.47611 11.9108 7.72293 11.9108 8.00955V12.9459C11.9108 13.2325 11.8604 13.5005 11.7596 13.75C11.6587 13.9995 11.5207 14.2171 11.3455 14.4029C11.1704 14.5886 10.9634 14.7346 10.7245 14.8408C10.4857 14.9469 10.2229 15 9.93631 15H1.8949C1.60828 15 1.3482 14.9469 1.11465 14.8408C0.881104 14.7346 0.682059 14.5939 0.517516 14.4188C0.352972 14.2436 0.225584 14.0393 0.13535 13.8057C0.0451166 13.5722 0 13.3227 0 13.0573V8.00955C0 7.72293 0.100849 7.47611 0.302548 7.26911C0.504246 7.0621 0.748407 6.9586 1.03503 6.9586H1.99045H3.99681H7.97771H9.90446H10.8599Z",fill:"url(#".concat(i,"_linear_20_507)")}),(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"".concat(i,"_linear_20_507"),x1:"-0.000176537",y1:"7.49995",x2:"11.9108",y2:"7.49995",gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{stopColor:"#E700E6"}),(0,a.jsx)("stop",{offset:"1",stopColor:"#4B4BDF"})]})})]})}},41525:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var a=n(57437);n(2265),n(34159);var i=n(22448),s=n(10867),r=n(3682);function u(e){let{chainId:t,hash:n,text:u,children:o,className:p,...l}=e,d=(0,a.jsx)(i.Z,{children:n}),y=new r.Q(t).getTXUrl(n);return(0,a.jsx)(s.Z,{placement:"top",speaker:d,trigger:"hover",children:(0,a.jsx)("a",{className:"component-chain-hash-link pointer hover underline ".concat(null!=p?p:""),href:y,target:"_blank",...l,children:null!=u?u:n})})}},66917:function(e,t,n){"use strict";var a=n(57437),i=n(2265),s=n(71845),r=n(53335);t.Z=i.forwardRef(function(e,t){let{text:n,className:i,...u}=e;return(0,a.jsxs)("p",{ref:t,className:(0,r.m6)("mt-5 text-tip flex justify-center items-center gap-2 component-load-more",i),...u,children:[n," ",(0,a.jsx)(s.Z,{})]})})},52926:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(57437);n(2265),n(75546);var i=n(18030);function s(e){let{text:t,className:n,children:s,...r}=e;return(0,a.jsxs)("div",{className:"component-loading text-secondary text-center ".concat(null!=n?n:""),children:[(0,a.jsx)(i.Z,{className:"icon mx-auto"}),t?(0,a.jsx)("p",{className:"text-tip text-[14px]",children:t}):null,s]})}},97644:function(e,t,n){"use strict";n.d(t,{ZP:function(){return c}});var a=n(57437),i=n(2265),s=n(63671),r=n(10433),u=n(74439),o=n(72525),p=n(72790),l=n(11340),d=n(52926),y=n(20605);n(83123),n(66917),n(41849),n(43949);var m=n(53335);function c(e){var t,n;let c=null!==(t=e.needRelocationAfterUpdate)&&void 0!==t&&t,T=null!==(n=e.offsetY)&&void 0!==n?n:-70,f=i.useRef(null),[w,g]=i.useState((0,s.ki)(e.pageInfo)),[b,k]=i.useTransition(),v=e.pageInfo.page||1,h=e.pageInfo.totalPage||0,I=i.useRef({isLoading:e.isLoading,emptyText:e.emptyText,loadingText:e.loadingText,onPaginationChange:e.onPaginationChange});function M(t){console.log("changePagination called with page:",t);let n=e=>{};return I.current.isLoading||w.isLoading?console.log("Loading, cannot change page"):(g({...w,isLoading:!0,isError:!1}),k(async()=>{console.log("Starting page change transition to page:",t);try{let a=I.current.onPaginationChange({page:t});if(n=a.cancel,await a.promise.catch(e=>{if(y.Z.canBeIgnore(e))return Promise.resolve();r.Z.E(JSON.stringify(e)),g({...w,isLoading:!1,isError:!0})}),console.log("Page change completed successfully"),g({...w,isLoading:!1,isError:!1}),!(null==f?void 0:f.current)||0===e.pageInfo.page||!c)return;u.Z.sleepForAnimationFrame(16).promise.then(()=>{if(!f.current)return;let e=u.Z.getOffsetTop(f.current)+T;r.Z.I("scroll to y: ",e),u.Z.scrollTo({y:e})})}catch(e){console.error("Error in page change:",e)}})),n}i.useEffect(()=>{I.current={isLoading:e.isLoading,emptyText:e.emptyText,loadingText:e.loadingText,onPaginationChange:e.onPaginationChange}},[e.isLoading,e.emptyText,e.loadingText,e.onPaginationChange]),i.useEffect(()=>{let t=u.Z.sleepForAnimationFrame();return t.promise.then(()=>{var t;M(null!==(t=e.pageInfo.page)&&void 0!==t?t:1)}),()=>t.cancel("useEffect callback")},[]);let x=i.useMemo(()=>{if(h<=5)return Array.from({length:h},(e,t)=>t+1);let e=1;return e=v<=3?1:v>=h-2?h-4:v-2,Array.from({length:5},(t,n)=>e+n)},[v,h]),{showLeftEllipsis:C,showRightEllipsis:S}=i.useMemo(()=>({showLeftEllipsis:h>5&&v>3,showRightEllipsis:h>5&&v<h-2}),[v,h]),A=e=>{console.log("Clicked on page ".concat(e,", current page is ").concat(v)),M(e)};return(0,a.jsxs)(o.Z,{className:(0,m.m6)("paginate-table-container",e.className),children:[(0,a.jsxs)(o.Z,{className:"paginate-wrapper w-full",children:[(0,a.jsx)("div",{className:"paginate-content w-full",ref:f,children:e.children}),(0,a.jsx)("div",{className:"h-[40px] flex justify-center items-center",children:(0,a.jsxs)(p.Z,{horizontalArrangement:l.cV.Center,verticalAlignment:l.v2.Center,className:"status-contain",children:[b||I.current.isLoading||w.isLoading?(0,a.jsx)(d.Z,{children:I.current.loadingText}):"",I.current.isLoading||w.isLoading||0!==h||!I.current.emptyText?"":(0,a.jsx)("div",{className:"paginate-table-placeholder",children:I.current.emptyText})]})})]}),h>0&&(0,a.jsx)("div",{className:"paginate-contain",children:(0,a.jsx)("div",{className:"pagination-custom",children:(0,a.jsxs)("ul",{className:"flex items-center",children:[(0,a.jsx)("li",{className:"previous ".concat(v<=1?"disabled":""),children:(0,a.jsx)("a",{onClick:()=>M(Math.max(1,v-1)),children:"<"})}),h<=5?(0,a.jsx)(a.Fragment,{children:Array.from({length:h},(e,t)=>{let n=t+1;return(0,a.jsx)("li",{className:n===v?"selected":"",children:(0,a.jsx)("a",{onClick:()=>A(n),children:n})},n)})}):x.map(e=>(0,a.jsx)("li",{className:e===v?"selected":"",children:(0,a.jsx)("a",{onClick:()=>A(e),children:e})},e)),(0,a.jsx)("li",{className:"pagination-break ".concat(S&&h>5?"":"opacity-0"),children:(0,a.jsx)("a",{className:"pagination-break-link",children:"..."})}),(0,a.jsx)("li",{className:"next ".concat(v>=h?"disabled":""),children:(0,a.jsx)("a",{onClick:()=>M(Math.min(h,v+1)),children:">"})})]})})})]})}},41849:function(e,t,n){"use strict";var a=n(57437),i=n(2265),s=n(53335);t.Z=i.forwardRef(function(e,t){var n,i;return(0,a.jsxs)("p",{ref:t,className:(0,s.m6)("my-5 text-tip flex justify-center items-center gap-2 component-text-tip",null!==(n=e.className)&&void 0!==n?n:""),children:[null!==(i=e.text)&&void 0!==i?i:"There‘s nothing more left",e.children]})})},7797:function(e,t,n){"use strict";n.d(t,{Z:function(){return T},d:function(){return f}});var a=n(59868),i=n(10433),s=n(3682),r=n(21707),u=n(32773),o=n(81939),p=n(2265),l=n(6178),d=n(13965),y=n(72300),m=n(74439),c=n(13167);function T(e){let t=(0,l.T)(),n=(0,l.C)(e=>e.user),u=(0,l.C)(e=>e.token),[m,T]=p.useState(0n);async function f(t){if(!(t=t||e))throw Error("Can't found tokenAddress!");let n=s.Q.getDefaultProvider(),a=new r.z(s.Q.getTargetNet().chainId,n),i=new r.C(t,c.R),[u,o,p,l]=await a.all([i.name(),i.symbol(),i.decimals(),i.creator()]);return{creator:l,name:u,symbol:o,decimals:Number(p)}}async function w(e){let n=await f(e);return t(y.Z.slice.actions.updateTokenContractDetail({...u.tokenContractDetail,...n})),n}async function g(t){if(!t&&!n.ethInfo.walletAddress)throw Error("Can't found walletAddress");if(!e)throw Error("Can't found tokenAddress");if(!(t=null!=t?t:n.ethInfo.walletAddress))return 0n;let i=d.r.getInstance();return new a.CH(e,c.R,o.Z.getInstance(i.getProvider()).browserProvider).balanceOf(t)}async function b(e){let t=await g(e);return T(t),t}async function k(t,s,r){let u=new a.CH(e,c.R,r),o=await u.allowance(n.ethInfo.walletAddress,t);if(i.Z.D("allowance:".concat(o)),o<s){let e=await u.approve(t,s);i.Z.D("approveResult:".concat(e.hash)),await e.wait(),i.Z.D("approveResult is confirm!")}}async function v(){let t=s.Q.getTargetNet(),n=d.r.getInstance(),i=o.Z.getInstance(n.getProvider(),t.chainId),r=new a.CH(e,c.R,await i.getSigner()),u=await r.setStartTime(Math.floor(Date.now()/1e3));return await u.wait()}return p.useEffect(()=>{e&&n.ethInfo.walletAddress&&b().catch(e=>{i.Z.E(e)})},[e,n.ethInfo.walletAddress]),{balance:m,getUserTokenBalance:g,updateUserTokenBalance:b,getInfo:f,updateInfo:w,approve:k,setEnd:v}}function f(e,t){let n=(0,l.T)();function i(n,a){if(n=n||e,a=a||t,!n)throw Error("Can't found tokenStakingRewardsAddress!");let i=new r.C(n,u.v);return[i.balanceOf(a),i.earned(a)]}async function p(n,a){if(n=n||e,a=a||t,!n)throw Error("Can't found tokenStakingRewardsAddress!");let o=s.Q.getDefaultProvider(),p=new r.z(s.Q.getTargetNet().chainId,o),l=new r.C(n,u.v),[d,y,m,c,T,f,w,g,b]=await p.all([p.getEthBalance(n),l.rewardsToken(),l.stakingToken(),l.lastUpdateTime(),l.rewardPerTokenStored(),l.totalSupply(),l.balanceOf(n),...t?i(n,t):[]]);return{ethBalance:d,rewardsToken:y,stakingToken:m,lastUpdateTime:Number(c),rewardPerTokenStored:T,totalSupply:f,tokenBalance:w,stakedAmount:null!=g?g:0n,earned:null!=b?b:0n}}async function c(e,a){let i=await p(e,t);return n(y.Z.slice.actions.updateStakingRewardsContractDetail({...i,stakingRewardsAddress:e})),m.Z.sleepForAnimationFrame(16).promise}async function T(e,t){let n=i(e,t),a=s.Q.getDefaultProvider(),u=new r.z(s.Q.getTargetNet().chainId,a),[o,p]=await u.all(n);return{stakedAmount:o,earned:p}}return{buildAccountInfoCall:i,getInfo:p,updateInfo:c,getAccountInfo:T,withdrawRewards:async function(t){if(!e)throw Error("Can't found tokenStakingRewardsAddress!");let n=s.Q.getTargetNet(),i=d.r.getInstance(),r=o.Z.getInstance(i.getProvider(),n.chainId);await r.getChain()!==n.chainId&&await r.switchToChain(n.chainId);let p=await r.getSigner(),l=new a.CH(e,u.v,p),y=await l.withdraw(t);return await y.wait()},getRewards:async function(){if(!e)throw Error("Can't found tokenStakingRewardsAddress!");let t=s.Q.getTargetNet(),n=d.r.getInstance(),i=o.Z.getInstance(n.getProvider(),t.chainId);await i.getChain()!==t.chainId&&await i.switchToChain(t.chainId);let r=await i.getSigner();return new a.CH(e,u.v,r).getReward()}}}},71002:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var a=n(3682),i=n(6178),s=n(94552),r=n(59868),u=n(81939),o=n(21707),p=n(13965),l=n(10433),d=n(72300),y=n(13167),m=n(45556),c=n(20151);let T=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token0",type:"address"},{indexed:!0,internalType:"address",name:"token1",type:"address"},{indexed:!1,internalType:"address",name:"pair",type:"address"},{indexed:!1,internalType:"uint256",name:"",type:"uint256"}],name:"PairCreated",type:"event"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allPairs",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"allPairsLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"burnRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenA",type:"address"},{internalType:"address",name:"tokenB",type:"address"},{internalType:"address",name:"WETH",type:"address"}],name:"createPair",outputs:[{internalType:"address",name:"pair",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"feeTo",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeToSetter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"getPair",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"pair",type:"address"}],name:"getTokens",outputs:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_feeToSetter",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"router",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_burnRate",type:"uint256"}],name:"setBurnRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeTo",type:"address"}],name:"setFeeTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeToSetter",type:"address"}],name:"setFeeToSetter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_router",type:"address"}],name:"setRouter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"tokenPairs",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}];function f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1n,t=(0,i.T)(),n=(0,i.C)(e=>e.token),f=(0,i.C)(e=>e.user);function w(){let e="0x4Cd906AEF43aB89BB5714391B024b3C49bC76617";if(!e)throw Error("Can't found tokenSwapAddress!");return e}async function g(e){let t=w();e=null!=e?e:n.tokenDetail.tokenAddress;let i=a.Q.getDefaultProvider(),r=new o.z(a.Q.getTargetNet().chainId,i),u=new o.C(t,m.R),[p,l,d,y,c]=await r.all([u.COMMON_FEE(),u.router02(),u.priceConsumerV3(),u.stakingRewardsFactory(),...e?[u.tokenSwapFee(e)]:[]]);return{defaultUsdFee:Number(p),usdFee:Number(c||p)/100,router02:l,priceConsumerV3:d,uniswapV2Factory:s.N,stakingRewardsFactory:y}}async function b(e){let n=await g(e);return t(d.Z.slice.actions.updateTokenSwapInfo(n)),n}async function k(e,t,n){let i=a.Q.getDefaultProvider(),s=new o.z(a.Q.getTargetNet().chainId,i);if(!(n=null!=n?n:"0x4200000000000000000000000000000000000006"))throw Error("Can't found NEXT_PUBLIC_WETH_ADDRESS!");let r=new o.C(e,T),[u,p,d]=await s.all([r.getPair(t,n),r.feeTo(),r.feeToSetter()]);return l.Z.I("pairAddress",u),{pairAddress:u,feeTo:p,feeToSetter:d}}async function v(e,n,a){let i=await k(e,n,a);return t(d.Z.slice.actions.updateUniswapV2FactoryInfo(i)),i}async function h(e){let t=w();if(!(e=null!=e?e:"0x4200000000000000000000000000000000000006"))throw Error("Can't found WETH_ADDRESS!");let n=a.Q.getTargetNet(),i=p.r.getInstance(),s=u.Z.getInstance(i.getProvider(),n.chainId);await s.getChain()!==n.chainId&&await s.switchToChain(n.chainId);let r=await s.getSigner();return{ethersProvider:s,WETH_ADDRESS:e,signer:r,tokenSwapAddress:t}}async function I(e,t,n,a){let i=new r.CH(e,y.R,a),s=await i.allowance(f.ethInfo.walletAddress,t);if(l.Z.D("allowance:".concat(s)),s<n){let e=await i.approve(t,n);l.Z.D("approveResult:".concat(e.hash)),await e.wait(),l.Z.D("approveResult is confirm!")}}return{getInfo:g,updateInfo:b,getSwapFactory:async function(){let e=w(),t=a.Q.getDefaultProvider(),n=new o.z(a.Q.getTargetNet().chainId,t),i=new o.C(e,m.R),[s,r]=await n.tryAll([i.trinityswapV2Factory(),i.uniswapV2Factory()]);return null!=s?s:r},getUniswapV2FactoryInfo:k,updateUniswapV2FactoryInfo:v,buy:async function(e){var t;let{ethersProvider:n,WETH_ADDRESS:a,signer:i,tokenSwapAddress:s}=await h(e.wethAddress),r=c.Ro.connect(s,i),u=[e.amountIn,e.amountOut,[a,e.tokenAddress],f.ethInfo.walletAddress,e.deadline,{value:(null!==(t=e.value)&&void 0!==t?t:0n)+e.amountIn}];return l.Z.I("swapExactETHForTokens",u),r.swapExactETHForTokens(...u)},simulateBuy:async function(e){var t;let{ethersProvider:n,WETH_ADDRESS:a,signer:i,tokenSwapAddress:s}=await h(e.wethAddress),u=new r.CH(s,m.R,i),o=[e.amountOut,[a,e.tokenAddress],f.ethInfo.walletAddress,e.deadline,{value:(null!==(t=e.value)&&void 0!==t?t:0n)+e.amountIn}];try{let e=await u.swapExactETHForTokens.estimateGas(...o);l.Z.I("Estimated gas:",e);let t=await u.swapExactETHForTokens.staticCall(...o,{gasLimit:e});return l.Z.I("Simulation successful:",t),{success:!0,gasEstimate:e,simulation:t}}catch(e){return l.Z.E("Simulation failed:",e),{success:!1,error:e}}},sell:async function(e){var t;let{ethersProvider:n,WETH_ADDRESS:a,signer:i,tokenSwapAddress:s}=await h(e.wethAddress);await I(e.tokenAddress,s,e.amountIn,i);let u=new r.CH(s,m.R,i),o=[e.amountIn,e.amountOut,[e.tokenAddress,a],f.ethInfo.walletAddress,e.deadline,{value:null!==(t=e.value)&&void 0!==t?t:0n}];return l.Z.I("sswapExactTokensForETHell",o),u.swapExactTokensForETH(...o)},getAmountOut:async function(e,t,n){if(0n===e||0n===t||0n===n)return 0n;let i=w(),s=a.Q.getDefaultProvider();return new r.CH(i,m.R,s).getAmountOut(e,t,n)},getAmountIn:async function(e,t,n){if(0n===e||0n===t||0n===n)return 0n;let i=w(),s=a.Q.getDefaultProvider();return new r.CH(i,m.R,s).getAmountIn(e,t,n)},getAmountOutLocal:function(t,n,a){if(0n===t||0n===n)return 0n;let i=t*e;return i*a/(n*e+i)},getAmountOutLocalWithoutFee:function(e,t,n){return 0n===e||0n===t?0n:e*n/t},getAmountInLocal:function(t,n,a){if(0n===t||0n===n||0n===a)return 0n;let i=t*e,s=a*e-i;return(i*n+s-e)/s},getAmountInLocalWithoutFee:function(e,t,n){return 0n===e||0n===t?0n:e*t/n},getLiquidityAmountOutLocal:function(e,t,n){return 0n===e||0n===t?0n:e*n/t},getLiquidityAmountInLocal:function(e,t,n){return 0n===e||0n===n?0n:e*t/n},addLiquidity:async function(e,t,n,a,i,s,u){let{ethersProvider:o,WETH_ADDRESS:p,signer:l,tokenSwapAddress:d}=await h();return await I(e,d,t,l),new r.CH(d,m.R,l).addLiquidityETH(e,t,n,i,s,u,{value:a})}}}},78604:function(e,t,n){"use strict";n.d(t,{ZP:function(){return f},Ox:function(){return w}});var a=n(3682),i=n(7797),s=n(21707);let r=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"address",name:"stakingToken",type:"address"},{internalType:"address",name:"rewardsToken",type:"address"},{internalType:"address",name:"trinityswapV2Router",type:"address"},{internalType:"address",name:"_trinityswapV2Factory",type:"address"}],name:"deploy",outputs:[{internalType:"address",name:"stakingRewardsAddress",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"stakingToken",type:"address"}],name:"getStakingRewardsInfoByStakingToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_stakingRewardsGenesis",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"stakingToken",type:"address"}],name:"notifyRewardAmount",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_stakingRewardsEvent",type:"address"}],name:"setStakingRewardsEvent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_trinityswap",type:"address"}],name:"setTrinityswap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stakingRewardsGenesis",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}];var u=n(6178),o=n(74439),p=n(72300);n(2265);var l=n(54881),d=n(10433),y=n(32773),m=n(68651),c=n(13167);let T=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0In",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1In",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount0Out",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1Out",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"Swap",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint112",name:"reserve0",type:"uint112"},{indexed:!1,internalType:"uint112",name:"reserve1",type:"uint112"}],name:"Sync",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MINIMUM_LIQUIDITY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"burn",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getReserves",outputs:[{internalType:"uint112",name:"_reserve0",type:"uint112"},{internalType:"uint112",name:"_reserve1",type:"uint112"},{internalType:"uint32",name:"_blockTimestampLast",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token0",type:"address"},{internalType:"address",name:"_token1",type:"address"},{internalType:"address",name:"_WETH",type:"address"},{internalType:"uint256",name:"_burnRate",type:"uint256"},{internalType:"address",name:"_router",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"kLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"liquidity",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"price0CumulativeLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price1CumulativeLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"router",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"skim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount0Out",type:"uint256"},{internalType:"uint256",name:"amount1Out",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"swap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"sync",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];function f(e){let t=(0,u.T)(),n=(0,i.d)(null!=e?e:""),l="0x4200000000000000000000000000000000000006";async function y(e){let t=a.Q.getDefaultProvider(),n=new s.z(a.Q.getTargetNet().chainId,t),i=new s.C(e,T),[r,u,o,p,y,m,f,w]=await n.all([i.factory(),i.token0(),i.token1(),i.getReserves(),i.totalSupply(),i.balanceOf(e),n.getEthBalance(e),...l?[new s.C(l,c.R).balanceOf(e)]:[]]),[g,b,k]=p;return d.Z.I("useUniswapV2Pair updateInfo",{pairAddress:e,wethAddress:l,factory:r,token0:u.toString(),token1:o.toString(),reserve0:g.toString(),reserve1:b.toString(),timestamp:k.toString(),totalSupply:y.toString(),balance:m.toString(),ethBalance:f.toString(),pairWethBalance:(null!=w?w:0n).toString()}),{pairAddress:e,tradingEnable:!0,factory:r,token0:u,token1:o,reserve0:g,reserve1:b,timestamp:Number(k),totalSupply:y,balance:m,ethBalance:f,pairWethBalance:null!=w?w:0n}}async function m(e){let n=await y(e);return t(p.Z.slice.actions.updateUniswapV2PairInfo(n)),o.Z.sleepForAnimationFrame(16).promise}async function f(t,i){let u=a.Q.getDefaultProvider(),o=new s.z(a.Q.getTargetNet().chainId,u),p=e;if(!p){let e="0x651d2F3Cb9d40C4945f87Be01cC7FcdaD8F167Ec";if(!e)throw Error("Can't found NEXT_PUBLIC_STAKE_REWARDS_FACTORY_CONTRACT_ADDRESS!");let n=new s.C(e,r),[a]=await o.all([n.getStakingRewardsInfoByStakingToken(t)]);p=a}let l=await n.getInfo(p,i);return{stakingRewardsAddress:p,...l}}async function w(e,n){let a=await f(e,n);return t(p.Z.slice.actions.updateStakingRewardsContractDetail({...a})),o.Z.sleepForAnimationFrame(16).promise}return{getInfo:y,updateInfo:m,getStakingRewardsInfoByPair:f,updateStakingRewardsInfoByPair:w}}function w(e){let t=(0,u.T)(),n=(0,u.C)(e=>e.token),i=(0,u.C)(e=>e.user),r=n.userLiquidityInfo,o=new m.Z(0n===r.pairTotalSupply?0:n.stakingRewardsContractDetail.stakedAmount.toString()),f=0n===r.nftRewardTotalSupply?new m.Z(0):new m.Z(r.userNftRewardBalance.toString()).multipliedBy(r.liquidityRate.toString()),w=f.plus(o).div(r.pairTotalSupply.toString());async function g(t,n,r){r=null!=r?r:i.ethInfo.walletAddress;let u=a.Q.getDefaultProvider(),o=new s.z(a.Q.getTargetNet().chainId,u),p=new s.C(e,T),m=new s.C(t,y.v),c=new s.C(n,l.M),[f,w,g,b,k,v,h,I]=await o.all([m.balanceOf(n),c.balanceOf(e),p.balanceOf(n),p.balanceOf(r),p.totalSupply(),c.balanceOf(r),c.liquidityRate(),c.totalSupply()]);return d.Z.I("getLiquidityInfo","pairContract",e,"userAddress",r,"value:",f,w,g,b,k,v,I),{tokenRewardNFTRewardBalance:f,nftRewardPairBalance:w,pairNFTRewardBalance:g,userPairBalance:b,pairTotalSupply:k,userNftRewardBalance:v,liquidityRate:h,nftRewardTotalSupply:I}}async function b(e,n,a){let i=await g(e,n,a);t(p.Z.slice.actions.updateUserLiquidityInfo(i))}return{userLpAmount:o,initialLpAmount:f,userInLPPoolPercentage:w,updatePairBalance:async function(n,r){r=null!=r?r:i.ethInfo.walletAddress;let u=a.Q.getDefaultProvider(),o=new s.z(a.Q.getTargetNet().chainId,u),l="0x4200000000000000000000000000000000000006";if(!l)throw Error("Can't found NEXT_PUBLIC_WETH_ADDRESS!");let d=new s.C(n,c.R),y=new s.C(l,c.R),m=new s.C(e,T),[f,w,g]=await o.all([d.balanceOf(e),y.balanceOf(e),m.balanceOf(r)]);t(p.Z.slice.actions.updateUniswapV2PairWithdrawInfo({tokenBalanceForLP:f,wethBalanceForLP:w,userPairTokenBalance:g}))},getUserLiquidityInfo:g,updateUserLiquidityInfo:b}}},54881:function(e,t,n){"use strict";n.d(t,{M:function(){return a}});let a=[{inputs:[{internalType:"address",name:"_stakingToken",type:"address"},{internalType:"address",name:"_factory",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"RewardAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"RewardPaid",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Staked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"earned",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getReward",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lastUpdateTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidityRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardPerTokenStored",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"rewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"sendBack",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_timestamp",type:"uint256"}],name:"setInitTimestamps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_liquidityRate",type:"uint256"}],name:"setLiquidityRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_stakingReward",type:"address"}],name:"setStakingReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"stakeFor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stakingRewards",outputs:[{internalType:"contract IStakingRewards",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"stakingToken",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userRewardPerTokenPaid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"nftAmount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}]},32773:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});let a=[{inputs:[{internalType:"address",name:"_rewardsDistribution",type:"address"},{internalType:"address",name:"_rewardsToken",type:"address"},{internalType:"address",name:"_stakingToken",type:"address"},{internalType:"address",name:"_trinityswapV2Router",type:"address"},{internalType:"address",name:"_trinityswapV2Factory",type:"address"},{internalType:"address",name:"_stakingRewardsEvent",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"SafeERC20FailedOperation",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"earned",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getReward",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lastUpdateTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"nft",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"nftUnLock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"notifyRewardAmount",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"rewardPerTokenStored",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"rewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardsDistribution",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardsToken",outputs:[{internalType:"contract IWETH",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"stakeFor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stakingToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"trinityswapV2Factory",outputs:[{internalType:"contract ITrinityswapV2Factory",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"trinityswapV2Router",outputs:[{internalType:"contract ITrinityV2Router02",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userRewardPerTokenPaid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}]},45556:function(e,t,n){"use strict";n.d(t,{R:function(){return a}});let a=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amountToken",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountETH",type:"uint256"},{indexed:!1,internalType:"uint256",name:"liquidity",type:"uint256"}],name:"AddLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amountIn",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountOut",type:"uint256"},{indexed:!1,internalType:"uint256",name:"reserveA",type:"uint256"},{indexed:!1,internalType:"uint256",name:"reserveB",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ts",type:"uint256"}],name:"Swap",type:"event"},{inputs:[],name:"COMMON_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountTokenDesired",type:"uint256"},{internalType:"uint256",name:"amountTokenMin",type:"uint256"},{internalType:"uint256",name:"amountETHMin",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"addLiquidityETH",outputs:[{internalType:"uint256",name:"amountToken",type:"uint256"},{internalType:"uint256",name:"amountETH",type:"uint256"},{internalType:"uint256",name:"liquidity",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"addWhiteList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"reserveIn",type:"uint256"},{internalType:"uint256",name:"reserveOut",type:"uint256"}],name:"getAmountIn",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"reserveIn",type:"uint256"},{internalType:"uint256",name:"reserveOut",type:"uint256"}],name:"getAmountOut",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_router02",type:"address"},{internalType:"address",name:"_priceConsumerV3",type:"address"},{internalType:"address",name:"_trinityswapV2Factory",type:"address"},{internalType:"address payable",name:"_stakingRewardsFactory",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceConsumerV3",outputs:[{internalType:"contract PriceConsumerV3",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"router02",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addWhiteUser",type:"address"}],name:"setAddWhiteUser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_dao",type:"address"}],name:"setDao",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_developer",type:"address"}],name:"setDeveloper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_router02",type:"address"}],name:"setRouter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"fee",type:"uint256"}],name:"setTokenSwapFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stakingRewardsFactory",outputs:[{internalType:"contract IStakingRewardsFactory",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"inputAmount",type:"uint256"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapETHForExactTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"inputAmount",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactETHForTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactTokensForETH",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapTokensForExactETH",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tokenSwapFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"trinityswapV2Factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"usedAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whiteList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}]},46493:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var a=n(3682),i=n(81939),s=n(13965),r=n(74439),u=n(83123),o=n(45650),p=n(49481),l=n(7797),d=n(71002),y=n(13167),m=n(6178),c=n(69356),T=n(68651),f=n(7310),w=n.n(f),g=n(2265),b=n(43949),k=n(59868);let v=null;function h(){var e;let{t}=(0,b.$G)(["common"]),n=(0,m.T)(),f=(0,m.C)(e=>e.token),h=(0,m.C)(e=>e.user),I=a.Q.getTargetNet(),M=(0,p.Z)(h.ethInfo.walletAddress),x=(0,l.Z)(null!==(e=f.tokenSwapPage.tokenAddress)&&void 0!==e?e:""),C=(0,d.Z)(),S=V(),A=g.useMemo(()=>{if(f.tokenDetail.tokenAddress&&f.tokenDetail.tokenSymbol){var e;return{tokenId:null!==(e=f.tokenDetail.tokenId)&&void 0!==e?e:"",tokenImage:f.tokenDetail.tokenImage||"/images/default-token.svg",tokenName:f.tokenDetail.tokenName||"Unknown Token",tokenSymbol:f.tokenDetail.tokenSymbol,tokenAddress:f.tokenDetail.tokenAddress}}return S},[]),[R,O]=g.useState({tokenIn:S,amountIn:"",tokenOut:A,amountOut:""});g.useEffect(()=>{if(f.tokenDetail.tokenAddress&&f.tokenDetail.tokenSymbol){var e;let t={tokenId:null!==(e=f.tokenDetail.tokenId)&&void 0!==e?e:"",tokenImage:f.tokenDetail.tokenImage||"/images/default-token.svg",tokenName:f.tokenDetail.tokenName||"Unknown Token",tokenSymbol:f.tokenDetail.tokenSymbol,tokenAddress:f.tokenDetail.tokenAddress};("ETH"===R.tokenOut.tokenSymbol||R.tokenOut.tokenAddress!==f.tokenDetail.tokenAddress)&&O(e=>({...e,tokenOut:t}))}},[f.tokenDetail.tokenAddress,f.tokenDetail.tokenSymbol]);let E=h.tokenBalances.find(e=>e.symbol===R.tokenIn.tokenSymbol),N=h.tokenBalances.find(e=>e.symbol===R.tokenOut.tokenSymbol),Z=Math.pow(10,I.nativeCurrency.decimals);async function D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;if(!h.ethInfo.walletAddress){n(c.Z.slice.actions.clearTokenBalances());return}null==v||v.cancel(),v=r.Z.sleepForAnimationFrame(e),await v.promise;try{var t,a;let[e,r]=await Promise.all([M.getETHBalance(),x.updateUserTokenBalance()]),u=i.Z.wei2eth(e),o=i.Z.wei2eth(r),p=f.tokenDetail.tokenSymbol,l=f.tokenDetail.tokenName,d=f.tokenDetail.tokenImage,m=null!==(t=f.tokenSwapPage.tokenAddress)&&void 0!==t?t:f.tokenDetail.tokenAddress;if(!p||!l){let e=s.r.getInstance().getProvider(),t=i.Z.getInstance(e),n=await t.getSigner(),a=new k.CH(m,y.R,n);if(!p)try{p=await a.symbol()}catch(e){console.error("获取代币符号失败:",e),p="Unknown"}if(!l)try{l=await a.name()}catch(e){console.error("获取代币名称失败:",e),l="Unknown Token"}}d||(d="/images/default-token.svg"),n(c.Z.slice.actions.updateETHWalletBalance(u));let T=[{icon:d,chainId:I.chainId,name:l,address:m,decimals:I.nativeCurrency.decimals,symbol:p,balance:o},{icon:S.tokenImage,chainId:I.chainId,name:S.tokenName,address:S.tokenAddress,decimals:null!==(a=S.tokenDecimals)&&void 0!==a?a:I.nativeCurrency.decimals,symbol:S.tokenSymbol,balance:u}];n(c.Z.slice.actions.updateTokenBalances(T));let w=R.tokenIn,g=R.tokenOut;w.tokenSymbol!==p&&w.tokenAddress.toLowerCase()===m.toLowerCase()?O({...R,tokenIn:{...w,tokenSymbol:p,tokenName:l,tokenImage:d}}):g.tokenSymbol!==p&&g.tokenAddress.toLowerCase()===m.toLowerCase()&&O({...R,tokenOut:{...g,tokenSymbol:p,tokenName:l,tokenImage:d}})}catch(e){console.error("更新余额失败:",e)}}function P(){return R.tokenIn.tokenSymbol.toUpperCase()===I.nativeCurrency.symbol.toUpperCase()}function F(){return R.tokenIn.tokenSymbol.toUpperCase()===S.tokenSymbol.toUpperCase()}function _(e){let[t,n]=f.uniswapV2PairInfo.token0===S.tokenAddress?[f.uniswapV2PairInfo.reserve0,f.uniswapV2PairInfo.reserve1]:[f.uniswapV2PairInfo.reserve1,f.uniswapV2PairInfo.reserve0];return(null!=e?e:P())?[t,n]:[n,t]}function L(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{roundingMode:n=T.Z.ROUND_DOWN,isBuy:a,floarFix:i=1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(""===e)return"";let s=new T.Z(Z).multipliedBy(e),[r,u]=_(a),o=(t?C.getAmountOutLocal(BigInt(s.toFixed(0,n)),r,u):C.getAmountOutLocalWithoutFee(BigInt(s.toFixed(0,n)),r,u)).toString();return new T.Z(o).div(Z).multipliedBy(i).toFixed(f.swapKeepDecimals,n)}function B(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{roundingMode:n=T.Z.ROUND_DOWN,isBuy:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(""===e)return"";let i=new T.Z(Z).multipliedBy(e),[s,r]=_(a);return new T.Z(t?C.getAmountInLocal(BigInt(i.toFixed(0,n)),s,r).toString():C.getAmountInLocalWithoutFee(BigInt(i.toFixed(0,n)),s,r).toString()).div(Z).toFixed(f.swapKeepDecimals,n)}let H=w()(async e=>{if(I.nativeCurrency.decimals,""!==(e=e.replaceAll(",",""))){var t,n,a;let i=new T.Z(Math.min(Number(null!==(n=null===(t=h.tokenBalances.find(e=>e.symbol===R.tokenIn.tokenSymbol))||void 0===t?void 0:t.balance)&&void 0!==n?n:0),Number.MAX_VALUE)),s=new T.Z(e);if(s.isNaN()){O({...R,amountIn:"",amountOut:""});return}if(s.isZero()){O({...R,amountIn:e,amountOut:""});return}s.gt(i)&&(s=i),e=(null!==(a=s.decimalPlaces())&&void 0!==a?a:0)>f.swapKeepDecimals?s.toFixed(f.swapKeepDecimals,T.Z.ROUND_DOWN):s.toString()}O({...R,amountIn:e}),(0,g.startTransition)(()=>{if(""===e){O({...R,amountIn:e,amountOut:""});return}let t=L(e);O({...R,amountIn:e,amountOut:t})})},16),j=w()(async e=>{if(""!==(e=e.replaceAll(",",""))){var n;let a=new T.Z(Number.MAX_VALUE),i=new T.Z(e);if(i.isNaN()){O({...R,amountOut:""});return}if(i.isZero()){O({...R,amountOut:e});return}i.gt(a)&&(i=a),e=(null!==(n=i.decimalPlaces())&&void 0!==n?n:0)>f.swapKeepDecimals?i.toFixed(f.swapKeepDecimals,T.Z.ROUND_DOWN):i.toString();let[s,r]=_(),o=new T.Z(Z).multipliedBy(e);o.gt(r.toString())&&(e=(o=new T.Z(r.toString()).div(Z)).toFixed(f.swapKeepDecimals,T.Z.ROUND_DOWN),(0,u.L6)(t("Insufficient liquidity",{value:"".concat(e," ").concat(R.tokenOut.tokenSymbol)})))}O({...R,amountOut:e}),(0,g.startTransition)(()=>{if(""===e){O({...R,amountIn:"",amountOut:""});return}let t=B(e);O({...R,amountIn:t,amountOut:e})})},16),U=Number("0.18");function V(){let e=new o.Sp,t=new o.iM;return{tokenId:"0",tokenImage:t.icon,tokenName:e.name,tokenSymbol:e.symbol,tokenAddress:t.address}}return{LAMP:Z,TOKEN_SWAP_MAX_PERCENT:U,swapTransferInfo:R,setSwapTransferInfo:O,updateTransactionBalance:D,tokenInBalanceInfo:E,tokenOutBalanceInfo:N,isSwapSelectBuy:P,isAddLPFirstIsETH:F,getReserves:_,getLPStoreKeys:function(){return F()?["amountETHMin","amountTokenMin"]:["amountTokenMin","amountETHMin"]},getAmountOutByAmountIn:L,getAmountInByAmountOut:B,onAmountInChange:H,onAmountOutChange:j,getMaxBuyTokenAmount:function(){let e=f.uniswapV2PairInfo.token0===S.tokenAddress?f.uniswapV2PairInfo.reserve1:f.uniswapV2PairInfo.reserve0;return new T.Z(e.toString()).multipliedBy(U)},initWETHTokenSimpleInfo:V}}},34159:function(){},75546:function(){}}]);