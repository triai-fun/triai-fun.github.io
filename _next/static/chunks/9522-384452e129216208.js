(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9522],{48423:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a=n(57437);n(2265),n(53953);var i=n(22448),r=n(10867),s=n(3682),o=n(53335);function d(e){let{chainId:t,address:n,text:d,children:l,className:u,...c}=e,p=(0,a.jsx)(i.Z,{children:n}),y=new s.Q(t).getAddressUrl(n);return(0,a.jsx)(r.Z,{placement:"top",speaker:p,trigger:"hover",children:(0,a.jsx)("a",{className:(0,o.m6)("component-chain-address-link pointer hover underline",u),href:y,target:"_blank",...c,children:null!=d?d:n})})}},97644:function(e,t,n){"use strict";n.d(t,{ZP:function(){return g}});var a=n(57437),i=n(2265),r=n(63671),s=n(10433),o=n(74439),d=n(72525),l=n(72790),u=n(11340),c=n(52926),p=n(20605);n(83123),n(66917),n(41849),n(43949);var y=n(53335);function g(e){var t,n;let g=null!==(t=e.needRelocationAfterUpdate)&&void 0!==t&&t,f=null!==(n=e.offsetY)&&void 0!==n?n:-70,m=i.useRef(null),[w,T]=i.useState((0,r.ki)(e.pageInfo)),[h,k]=i.useTransition(),x=e.pageInfo.page||1,R=e.pageInfo.totalPage||0,C=i.useRef({isLoading:e.isLoading,emptyText:e.emptyText,loadingText:e.loadingText,onPaginationChange:e.onPaginationChange});function S(t){console.log("changePagination called with page:",t);let n=e=>{};return C.current.isLoading||w.isLoading?console.log("Loading, cannot change page"):(T({...w,isLoading:!0,isError:!1}),k(async()=>{console.log("Starting page change transition to page:",t);try{let a=C.current.onPaginationChange({page:t});if(n=a.cancel,await a.promise.catch(e=>{if(p.Z.canBeIgnore(e))return Promise.resolve();s.Z.E(JSON.stringify(e)),T({...w,isLoading:!1,isError:!0})}),console.log("Page change completed successfully"),T({...w,isLoading:!1,isError:!1}),!(null==m?void 0:m.current)||0===e.pageInfo.page||!g)return;o.Z.sleepForAnimationFrame(16).promise.then(()=>{if(!m.current)return;let e=o.Z.getOffsetTop(m.current)+f;s.Z.I("scroll to y: ",e),o.Z.scrollTo({y:e})})}catch(e){console.error("Error in page change:",e)}})),n}i.useEffect(()=>{C.current={isLoading:e.isLoading,emptyText:e.emptyText,loadingText:e.loadingText,onPaginationChange:e.onPaginationChange}},[e.isLoading,e.emptyText,e.loadingText,e.onPaginationChange]),i.useEffect(()=>{let t=o.Z.sleepForAnimationFrame();return t.promise.then(()=>{var t;S(null!==(t=e.pageInfo.page)&&void 0!==t?t:1)}),()=>t.cancel("useEffect callback")},[]);let v=i.useMemo(()=>{if(R<=5)return Array.from({length:R},(e,t)=>t+1);let e=1;return e=x<=3?1:x>=R-2?R-4:x-2,Array.from({length:5},(t,n)=>e+n)},[x,R]),{showLeftEllipsis:b,showRightEllipsis:I}=i.useMemo(()=>({showLeftEllipsis:R>5&&x>3,showRightEllipsis:R>5&&x<R-2}),[x,R]),A=e=>{console.log("Clicked on page ".concat(e,", current page is ").concat(x)),S(e)};return(0,a.jsxs)(d.Z,{className:(0,y.m6)("paginate-table-container",e.className),children:[(0,a.jsxs)(d.Z,{className:"paginate-wrapper w-full",children:[(0,a.jsx)("div",{className:"paginate-content w-full",ref:m,children:e.children}),(0,a.jsx)("div",{className:"h-[40px] flex justify-center items-center",children:(0,a.jsxs)(l.Z,{horizontalArrangement:u.cV.Center,verticalAlignment:u.v2.Center,className:"status-contain",children:[h||C.current.isLoading||w.isLoading?(0,a.jsx)(c.Z,{children:C.current.loadingText}):"",C.current.isLoading||w.isLoading||0!==R||!C.current.emptyText?"":(0,a.jsx)("div",{className:"paginate-table-placeholder",children:C.current.emptyText})]})})]}),R>0&&(0,a.jsx)("div",{className:"paginate-contain",children:(0,a.jsx)("div",{className:"pagination-custom",children:(0,a.jsxs)("ul",{className:"flex items-center",children:[(0,a.jsx)("li",{className:"previous ".concat(x<=1?"disabled":""),children:(0,a.jsx)("a",{onClick:()=>S(Math.max(1,x-1)),children:"<"})}),R<=5?(0,a.jsx)(a.Fragment,{children:Array.from({length:R},(e,t)=>{let n=t+1;return(0,a.jsx)("li",{className:n===x?"selected":"",children:(0,a.jsx)("a",{onClick:()=>A(n),children:n})},n)})}):v.map(e=>(0,a.jsx)("li",{className:e===x?"selected":"",children:(0,a.jsx)("a",{onClick:()=>A(e),children:e})},e)),(0,a.jsx)("li",{className:"pagination-break ".concat(I&&R>5?"":"opacity-0"),children:(0,a.jsx)("a",{className:"pagination-break-link",children:"..."})}),(0,a.jsx)("li",{className:"next ".concat(x>=R?"disabled":""),children:(0,a.jsx)("a",{onClick:()=>S(Math.min(R,x+1)),children:">"})})]})})})]})}},41849:function(e,t,n){"use strict";var a=n(57437),i=n(2265),r=n(53335);t.Z=i.forwardRef(function(e,t){var n,i;return(0,a.jsxs)("p",{ref:t,className:(0,r.m6)("my-5 text-tip flex justify-center items-center gap-2 component-text-tip",null!==(n=e.className)&&void 0!==n?n:""),children:[null!==(i=e.text)&&void 0!==i?i:"Thereâ€˜s nothing more left",e.children]})})},5664:function(e,t,n){"use strict";n.d(t,{Dp:function(){return k},ZP:function(){return T},we:function(){return h}});var a=n(3682),i=n(21707),r=n(59868),s=n(33082),o=n(54881),d=n(81939),l=n(13965),u=n(2265),c=n(6178),p=n(76211),y=n(83123),g=n(43949),f=n(10433),m=n(43009),w=n(97887);function T(e){let{t}=(0,g.$G)(["common"]),n=(0,c.C)(e=>e.global),[s,o]=u.useState({cap:0n,price:0n,startTs:0,endTs:0,nftStakingRewards:"",walletMaxSupply:0n,creator:"",imageAddress:"",externalLink:"",totalSupply:0n,maxMintAmount:0});async function p(t){if(!(t=t||e))throw Error("Can't found nftAddress!");let n=new i.C(t,w.n),r=a.Q.getDefaultProvider(),s=new i.z(a.Q.getTargetNet().chainId,r),[o,d,l,u,c,p,y,g,f]=await s.all([n.cap(),n.price(),n.startTs(),n.endTs(),n.stakingRewards(),n.creator(),n.imageAddress(),n.externalLink(),n.totalSupply()]),T=BigInt("1000");return{cap:o,price:d,startTs:m.Z.Time.fromTimestamp(l).toJSTime(),endTs:m.Z.Time.fromTimestamp(u).toJSTime(),nftStakingRewards:c,walletMaxSupply:T,creator:p,imageAddress:y,externalLink:g,totalSupply:f,maxMintAmount:1e3}}async function T(e){o(await p(e))}async function h(t,i){if(!(i=i||e))throw Error("Can't found nftAddress!");t=null!=t?t:Math.floor(n.currentTime/1e3);let s=l.r.getInstance(),o=a.Q.getTargetNet(),u=d.Z.getInstance(s.getProvider(),o.chainId),c=await u.getSigner(),p=new r.CH(i,w.n,c),y=await p.setEndTs(t);return await y.wait()}class k extends y.HU{asToastMessage(){let e=super.asToastMessage();if(f.Z.I("message",e),"string"!=typeof e)return e;let n=t("TrinityNFT"),[a,...i]=e.split(":");return(null==i?void 0:i.length)>0?[n,...i].join(":"):e}}return{nftInfo:s,setNftInfo:o,getInfo:p,updateInfo:T,setEnd:h,NFTToastMessageWrapper:k,refund:async function(t,n){if(!(n=n||e))throw Error("Can't found nftAddress!");let i=l.r.getInstance(),s=a.Q.getTargetNet(),o=d.Z.getInstance(i.getProvider(),s.chainId),u=await o.getSigner(),c=new r.CH(n,w.n,u),p=await c.refund(BigInt(t));return await p.wait()},refundAll:async function(t){if(!(t=t||e))throw Error("Can't found nftAddress!");let n=l.r.getInstance(),i=a.Q.getTargetNet(),s=d.Z.getInstance(n.getProvider(),i.chainId),o=await s.getSigner(),u=new r.CH(t,w.n,o),c=await u.refundAll();return await c.wait()}}}function h(e,t){function n(n,a){if(n=n||e,a=a||t,!n)throw Error("Can't found nftStakingRewardsAddress!");let r=new i.C(n,o.M);return[r.userRewardPerTokenPaid(a),r.rewards(a),r.balanceOf(a),r.earned(a)]}async function s(r,s){if(r=r||e,s=s||t,!r)throw Error("Can't found nftStakingRewardsAddress!");let d=new i.C(r,o.M),l=new i.z(a.Q.getTargetNet().chainId,a.Q.getDefaultProvider()),[u,c,p,y,g,f,m,w,T,h,k]=await l.all([l.getEthBalance(e),d.stakingToken(),d.stakingRewards(),d.factory(),d.lastUpdateTime(),d.rewardPerTokenStored(),d.liquidityRate(),...s?n(r,t):[]]);return{ethBalance:u,stakingToken:c,stakingRewards:p,factory:y,lastUpdateTime:g,rewardPerTokenStored:f,liquidityRate:m,userRewardPerTokenPaid:null!=w?w:0n,rewards:null!=T?T:0n,stakedAmount:null!=h?h:0n,earned:null!=k?k:0n}}async function u(e,t){let r=n(e,t),s=a.Q.getDefaultProvider(),o=new i.z(a.Q.getTargetNet().chainId,s),[d,l]=await o.all(r);return{stakedAmount:d,earned:l}}return{buildAccountInfoCall:n,getInfo:s,getAccountInfo:u,withdrawRewards:async function(t){if(!e)throw Error("Can't found nftStakingRewardsAddress!");let n=a.Q.getTargetNet(),i=l.r.getInstance(),s=d.Z.getInstance(i.getProvider(),n.chainId);await s.getChain()!==n.chainId&&await s.switchToChain(n.chainId);let u=await s.getSigner(),c=new r.CH(e,o.M,u),p=await c.withdraw(t);return await p.wait()},getRewards:async function(t){if(!(t=t||e))throw Error("Can't found nftStakingRewardsAddress!");let n=a.Q.getTargetNet(),i=l.r.getInstance(),s=d.Z.getInstance(i.getProvider(),n.chainId);await s.getChain()!==n.chainId&&await s.switchToChain(n.chainId);let u=await s.getSigner();return new r.CH(e,o.M,u).getReward()}}}function k(e){let t=(0,c.T)();async function n(t){if(!(t=null!=t?t:e))throw Error("Can't found symbol!");let n=a.Q.getNftFactoryContractAddress();if(!n)throw Error("Can't found nftFactoryAddress!");let r=new i.C(n,s.h),o=new i.z(a.Q.getTargetNet().chainId,a.Q.getDefaultProvider()),[d,l]=await o.all([r.nftInfoBySymbol(t),r.tokenInfoBySymbol(t)]);return{nftAddress:d,tokenAddress:l}}async function r(e){let a=await n(e);return t(p.Z.slice.actions.updateSymbolInfo(a)),a}return{getInfo:n,updateInfo:r}}},54881:function(e,t,n){"use strict";n.d(t,{M:function(){return a}});let a=[{inputs:[{internalType:"address",name:"_stakingToken",type:"address"},{internalType:"address",name:"_factory",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"RewardAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"RewardPaid",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Staked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"earned",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getReward",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lastUpdateTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidityRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardPerTokenStored",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"rewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"sendBack",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_liquidityRate",type:"uint256"}],name:"setLiquidityRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_stakingReward",type:"address"}],name:"setStakingReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"stakeFor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stakingRewards",outputs:[{internalType:"contract IStakingRewards",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"stakingToken",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userRewardPerTokenPaid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"nftAmount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}]},76211:function(e,t,n){"use strict";var a,i=n(10433),r=n(1455);(a||(a={})).slice=(0,r.oM)({name:"nft",initialState:{nftStakingRewardsContractDetail:{ethBalance:0n,stakingToken:"",stakingRewards:"",factory:"",lastUpdateTime:0,rewardPerTokenStored:0n,liquidityRate:0n,userRewardPerTokenPaid:0n,rewards:0n,stakedAmount:0n,earned:0n},symbolInfo:{nftAddress:"",tokenAddress:""},nftContractInfo:{maxMintAmount:0,cap:0n,price:0n,startTs:0,endTs:0,nftStakingRewards:"",walletMaxSupply:0n,creator:"",imageAddress:"",externalLink:"",totalSupply:0n},globalInfo:{tokenAddress:""}},reducers:{updateNftStakingRewardsContractDetail(e,t){e.nftStakingRewardsContractDetail.ethBalance=t.payload.ethBalance,e.nftStakingRewardsContractDetail.stakingToken=t.payload.stakingToken,e.nftStakingRewardsContractDetail.stakingRewards=t.payload.stakingRewards,e.nftStakingRewardsContractDetail.factory=t.payload.factory,e.nftStakingRewardsContractDetail.lastUpdateTime=t.payload.lastUpdateTime,e.nftStakingRewardsContractDetail.rewardPerTokenStored=t.payload.rewardPerTokenStored,e.nftStakingRewardsContractDetail.liquidityRate=t.payload.liquidityRate},updateNftStakingRewardsAccountInfo(e,t){e.nftStakingRewardsContractDetail.userRewardPerTokenPaid=t.payload.userRewardPerTokenPaid,e.nftStakingRewardsContractDetail.rewards=t.payload.rewards,e.nftStakingRewardsContractDetail.stakedAmount=t.payload.stakedAmount,e.nftStakingRewardsContractDetail.earned=t.payload.earned},updateSymbolInfo(e,t){e.symbolInfo=t.payload},updateNftContractInfo(e,t){e.nftContractInfo=t.payload},updateGlobalInfo(e,t){i.Z.I("updateGlobalInfo",t.payload),e.globalInfo.tokenAddress=t.payload.tokenAddress}}}),t.Z=a},53953:function(){}}]);