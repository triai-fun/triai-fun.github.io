"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5923],{64018:function(e,n,t){var a,i=t(12249),r=t(43009),s=t(68651),d=t(79787);!function(e){class n{validator(e){return""!==e}}e.BaseValidatable=n;class t{validator(e){let n=new s.O(e),t=e.split(".")[1];return!n.isNaN()&&(this.includeMax?n.lte(this.maxValue.toString()):n.lt(this.maxValue.toString()))&&(this.includeMin?n.gte(this.minValue):n.gt(this.minValue))&&(!t||t.length<=this.decimal)}onChange(e){if(""!==e){let n=new s.O(e),t=this.maxValue;n.isNaN()&&(e="0"),n.gt(t.toString())&&(e=t.toString()),n.lt(this.minValue)&&(e=this.minValue.toString())}return e.includes(".")&&e.split(".")[1].length>this.decimal&&(e=Number(e).toFixed(this.decimal)),e}constructor(){(0,i._)(this,"decimal",18),(0,i._)(this,"maxValue",new s.O(r.Z.BigIntMaxValue().toString())),(0,i._)(this,"minValue",new s.O(0)),(0,i._)(this,"includeMin",!1),(0,i._)(this,"includeMax",!0)}}e.BaseValueManager=t;class a{}e.DefaultAsyncValidater=a;class p{validator(e){return e.length<=this.maxLength&&e.length>=this.minLength}onChange(e){return e.length>this.maxLength?e.substring(0,this.maxLength):e}constructor(){(0,i._)(this,"maxLength",268),(0,i._)(this,"minLength",0)}}e.BaseTextManager=p;class y extends p{constructor(...e){super(...e),(0,i._)(this,"maxLength",256)}}e.CommentHandler=y;class u extends p{get rule(){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/}validator(e){return super.validator(e)&&this.rule.test(e)}constructor(...e){super(...e),(0,i._)(this,"minLength",4)}}e.EmailHandler=u;class l extends n{validator(e){return super.validator(e)&&e.type.includes("image")}}e.ImageValidatable=l;class o extends t{validator(e){return super.validator(e)}onChange(e){return super.onChange(e)}constructor(...e){super(...e),(0,i._)(this,"decimal",2),(0,i._)(this,"maxValue",100),(0,i._)(this,"minValue",1)}}e.PercentHandler=o;class m extends n{validator(e){let n=e.toUpperCase();return/^(0X)?[0-9A-F]+$/.test(n)&&n.length>=40&&n.length<=70}onChange(e){return e}}e.EVMAddressHandler=m;class T extends n{validator(e){try{return!0}catch(e){return!1}}onChange(e){return e}}e.TonAddressHandler=T;class c extends n{validator(e){return/[1-9A-HJ-NP-Za-km-z]{32,44}/.test(e)}onChange(e){return e}}e.SolanaAddressHandler=c;class g extends n{validator(e){return/^[0-9a-fA-F]{40}$/.test(e)}onChange(e){return e}}e.SuiAddressHandler=g;class f extends n{validator(e){return""===e||d.Z.isURL(e)}onChange(e){return e}}e.UrlHandler=f}(a||(a={})),n.Z=a},93494:function(e,n,t){t.d(n,{Z:function(){return T}});var a=t(3682),i=t(6178),r=t(59868),s=t(33082),d=t(81939),p=t(10433),y=t(13965),u=t(43009),l=t(2265),o=t(76211),m=t(21707);function T(){let e=(0,i.T)(),n=(0,i.C)(e=>e.global);(0,i.C)(e=>e.nft);let t=(0,i.C)(e=>e.user),[T,c]=l.useState(60n);async function g(e){let n=a.Q.getNftFactoryContractAddress();if(!n)throw Error("NFT Factory contract address not found!");let t=a.Q.getDefaultProvider(),i=new m.z(a.Q.getTargetNet().chainId,t),r=new m.C(n,s.h),[d]=await i.all([r.tokenInfoBySymbol(e)]);return{tokenAddress:d}}async function f(n){let t=await g(n);e(o.Z.slice.actions.updateGlobalInfo(t))}return{createNFT:async function(e){if(!n.token||!t.ethInfo.isConnected)throw Error("Wallet not connected!");let i=y.r.getInstance(),l=d.Z.getInstance(i.getProvider()),o=a.Q.getNftFactoryContractAddress();if(!o)throw Error("NFT Factory contract address not found!");let m=await l.getSigner(),g=new r.CH(o,s.h,m),f=u.Z.Time.fromJSTimestamp(e.mintStartTime<n.currentTime+u.Z.Seconds.fromString(T.toString()).toJSTime()?n.currentTime+u.Z.Seconds.fromString(T.toString()).toJSTime():e.mintStartTime).toBlockTime();p.Z.I("mintStartTime",f),c(T+1n);let x=Number("86400"),h=e.mintDuration||x;p.Z.I("使用的mintDuration值:",h,"类型:",typeof h),p.Z.I("所有合约参数:",{name:e.name,symbol:e.symbol,logoUrl:e.logoUrl,cap:e.cap,links:JSON.stringify(e.links),mintStartTime:f,duration:BigInt(h)});let b=await g.createNft(e.name,e.symbol,e.logoUrl,d.Z.eth2wei(e.cap.toString()),JSON.stringify(e.links),f,BigInt(h)),w=await b.wait();return c(1n),p.Z.I("createNFT result",w),{result:w,mintStartTime:f,signature:null==w?void 0:w.hash}},deploySwap:async function(e){let n=y.r.getInstance(),t=a.Q.getTargetNet(),i=d.Z.getInstance(n.getProvider(),t.chainId),p=await i.getSigner(),u=a.Q.getNftFactoryContractAddress();if(!u)throw Error("NFT Factory contract address not found!");let l=new r.CH(u,s.h,p),o=await l.deploySwap(e,{});return await o.wait()},getTokenInfoBySymbol:g,updateTokenInfoBySymbol:f}}},33082:function(e,n,t){t.d(n,{h:function(){return a}});let a=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"nft",type:"address"},{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"nft",type:"address"},{indexed:!0,internalType:"address",name:"nftRewards",type:"address"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"symbol",type:"string"},{indexed:!1,internalType:"string",name:"img",type:"string"},{indexed:!1,internalType:"string",name:"link",type:"string"},{indexed:!1,internalType:"uint256",name:"cap",type:"uint256"},{indexed:!1,internalType:"uint256",name:"startTs",type:"uint256"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint256",name:"ts",type:"uint256"}],name:"NftCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"nft",type:"address"},{indexed:!0,internalType:"address",name:"nftRewards",type:"address"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"symbol",type:"string"},{indexed:!1,internalType:"string",name:"img",type:"string"},{indexed:!1,internalType:"string",name:"link",type:"string"},{indexed:!1,internalType:"uint256",name:"cap",type:"uint256"},{indexed:!1,internalType:"uint256",name:"startTs",type:"uint256"},{indexed:!1,internalType:"uint256",name:"duration",type:"uint256"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint256",name:"ts",type:"uint256"}],name:"NftCreated1",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ts",type:"uint256"}],name:"NftTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"nft",type:"address"},{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Refunded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"nft",type:"address"},{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RefundedAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"nft",type:"address"},{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"backAmount",type:"uint256"}],name:"Settled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!0,internalType:"address",name:"stakingRewards",type:"address"},{indexed:!0,internalType:"address",name:"nftStakingReward",type:"address"},{indexed:!1,internalType:"address",name:"lp",type:"address"},{indexed:!1,internalType:"string",name:"symbol",type:"string"},{indexed:!1,internalType:"uint256",name:"totalSupply",type:"uint256"},{indexed:!1,internalType:"uint256",name:"liquidity",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountA",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountB",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ts",type:"uint256"}],name:"TokenCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ts",type:"uint256"}],name:"TokenTransfer",type:"event"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"string",name:"img",type:"string"},{internalType:"uint256",name:"cap",type:"uint256"},{internalType:"string",name:"link",type:"string"},{internalType:"uint256",name:"startTs",type:"uint256"}],name:"createNft",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"string",name:"img",type:"string"},{internalType:"uint256",name:"cap",type:"uint256"},{internalType:"string",name:"link",type:"string"},{internalType:"uint256",name:"startTs",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"}],name:"createNft",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"nft",type:"address"}],name:"deploySwap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenFactory",type:"address"},{internalType:"address",name:"_WETH",type:"address"},{internalType:"address payable",name:"_stakingRewardsFactory",type:"address"},{internalType:"address",name:"_trinityswapV2Router",type:"address"},{internalType:"address",name:"_trinityswapV2Factory",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"mintEvent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"nftInfoBySymbol",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nftList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"ts",type:"uint256"}],name:"nftTransferEvent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"refundAllEvent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"refundEvent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_dao",type:"address"}],name:"setDao",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_trinityswapV2Router",type:"address"}],name:"setRouter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenReceipt",type:"address"}],name:"setTokenReceipt",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"backAmount",type:"uint256"}],name:"settleEvent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"tokenInfoBySymbol",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tokenList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"ts",type:"uint256"}],name:"tokenTransferEvent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}]},9831:function(e,n,t){var a,i,r,s;t.d(n,{W:function(){return a},_:function(){return i}}),(r=a||(a={}))[r.NFT=0]="NFT",r[r.TOKEN=1]="TOKEN",(s=i||(i={})).MyNFT="MyNFT",s.CreatedNFT="CreatedNFT",s.MyToken="MyToken",s.MyLP="MyLP"}}]);