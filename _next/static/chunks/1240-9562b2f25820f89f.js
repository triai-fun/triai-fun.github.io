(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1240],{54740:function(e,t,n){"use strict";n.d(t,{eO:function(){return u}});var i=n(57437);n(17104);var a=n(72790),o=n(11340),r=n(53335),s=n(43009);function d(e){var t,n,a,o;let s=e.value.indexOf("."),d=-1===s?"":e.value.substring(s+1),u=d.match(/^(0+)/),l=u?u[0].length:0,p=d.substring(l),y=null!==(t=e.keepDecimal)&&void 0!==t?t:4,m=null!==(n=e.decimal)&&void 0!==n?n:18,c=null!==(a=e.useSub)&&void 0!==a&&a;p.length>y&&(p=p.substring(0,y));let T=e.value.substring(0,-1===s?e.value.length:s+l+1)+p;return(0,i.jsxs)("span",{className:(0,r.m6)("format-decimal",e.className),children:[c&&-1!==s&&l>0&&null===d.match(/^0+$/)?(0,i.jsxs)(i.Fragment,{children:[T.substring(0,s+2),(0,i.jsx)("sub",{className:(0,r.m6)("zero-count",e.subClassName),children:l}),p.replace(/0+$/,"")]}):0===Number(e.value)?0:-1!==s&&e.value.length>s+1+m?"".concat(e.value.substring(0,s+1+m)):e.value,null!==(o=e.children)&&void 0!==o?o:""]})}function u(e){let{preChildren:t,value:n,minDecimal:u,decimal:l,className:p,valueClassName:y,keepDecimal:m,useSub:c,children:T,...w}=e;if(isNaN(n)||"number"!=typeof n)return(0,i.jsx)("span",{className:(0,r.m6)("invalid-number",p),children:n});let v=null!=u?u:0;m=null!=m?m:4,void 0!==u&&(l=Math.max(Math.min(u,20),0));let f=null!=l?l:18;void 0!==l&&(l=Math.max(Math.min(l,20),0));let{value:R,suffix:g}=s.Z.getAbbreviatedValue(n);if(""!==g)return(0,i.jsxs)(a.Z,{horizontalArrangement:o.cV.Center,className:"number-formatter ".concat(null!=p?p:""),...w,children:[null!=t?t:"",(0,i.jsx)(d,{value:R.toFixed(m),useSub:c,decimal:l,className:y}),g,T]});let A=n.toFixed(f),h=A.indexOf(".");if(-1!==h){let e=A.substring(h+1),t=(e.match(/^(0+)/)||[""])[0].length,i=e.substring(t);void 0===l&&i.length>m&&(i=i.substring(0,m)),A=n.toLocaleString("en-US",{minimumFractionDigits:v,maximumFractionDigits:null!=l?l:t+i.length})}else A=n.toLocaleString("en-US",{minimumFractionDigits:v,maximumFractionDigits:l});return(0,i.jsxs)(a.Z,{className:(0,r.m6)("number-formatter justify-center",p),...w,children:[null!=t?t:"",(0,i.jsx)(d,{value:A,useSub:c,decimal:l,className:y,subClassName:p}),T]})}},40366:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});let i=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"AddressEmptyCode",type:"error"},{inputs:[{internalType:"address",name:"implementation",type:"address"}],name:"ERC1967InvalidImplementation",type:"error"},{inputs:[],name:"ERC1967NonPayable",type:"error"},{inputs:[],name:"FailedCall",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"UUPSUnauthorizedCallContext",type:"error"},{inputs:[{internalType:"bytes32",name:"slot",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{inputs:[],name:"AIRDROP_DURATION_CALC",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"AIRDROP_DURATION_GET_LIMIT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"AIRDROP_DURATION_GET_MAX",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"AIRDROP_POOL_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"CANDIDATE_TOKEN_AMOUNT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"COMMUNITY_DURATION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"COMMUNITY_POOL_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"COMMUNITY_REWARD_EXPIRE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"COMMUNITY_REWARD_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"CREATOR_FEE_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DAILY_REWARD_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEVELOPER_FEE_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"FIRST_LUCKY_REWARD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"FIRST_PLACE_REWARD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"FUND_POOL_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"LOSER_POOL_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"LOSER_POOL_REWARD_TIME_LIMIT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"LUCKY_POOL_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_FOR_SUPER",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_LINK_REWARD_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MASTER_NODE_REWARD_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ONE_DAY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PARENT_NODE_REWARD_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"QUITE_DURATION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"QUIT_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REWARD_LIMIT_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROUND_DURATION_ADD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROUND_DURATION_MAX",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SECOND_LUCKY_REWARD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SECOND_PLACE_REWARD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SUPER_LINK_REWARD_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SUPER_NODE_REWARD_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SUPER_TOKEN_AMOUNT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"SWAP_LIMIT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"THIRD_LUCKY_REWARD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"THIRD_PLACE_REWARD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"VOTES_FOR_MASTER",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"VOTE_DURATION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"VOTE_PRICE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"VOTE_RANK_POOL_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"VOTE_RANK_REWARD_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"applyCandidateNode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"applySuperNode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"},{internalType:"uint256",name:"curDay",type:"uint256"}],name:"calcEffectiveAirDrop",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"},{internalType:"uint256",name:"curDay",type:"uint256"}],name:"calcEffectiveReinvest",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"ceilReward",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"claimLoserReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimLuckyReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimTop3NodeReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimTop3VotedReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimVoteAndAirDropReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"createTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"creator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentRoundNO",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"daoFactory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastInvestors",outputs:[{internalType:"address[33]",name:"",type:"address[33]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getLuckyReward",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getQuiteAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getTop3NodeReward",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getTop3VotedReward",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getVoteAndAirDropReward",outputs:[{components:[{internalType:"uint256",name:"nodeReward",type:"uint256"},{internalType:"uint256",name:"airdropReward",type:"uint256"},{internalType:"uint256",name:"airdropLinkReward",type:"uint256"},{internalType:"uint256",name:"reinvestReward",type:"uint256"},{internalType:"uint256",name:"totalReward",type:"uint256"},{internalType:"uint256",name:"clairReward",type:"uint256"}],internalType:"struct IDao.RewardData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"trinitySwap",type:"address"},{internalType:"address",name:"pair",type:"address"},{internalType:"address",name:"weth",type:"address"},{internalType:"address",name:"priceConsumerV3",type:"address"},{internalType:"address",name:"creator",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"address",name:"developer",type:"address"}],internalType:"struct IDao.InitParams",name:"params",type:"tuple"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"lastInvestors",outputs:[{internalType:"uint8",name:"currentIndex",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"pair",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"pools",outputs:[{internalType:"uint256",name:"airdropPool",type:"uint256"},{internalType:"uint256",name:"voteRankPool",type:"uint256"},{internalType:"uint256",name:"communityPool",type:"uint256"},{internalType:"uint256",name:"luckyPool",type:"uint256"},{internalType:"uint256",name:"luckyPoolBalance",type:"uint256"},{internalType:"uint256",name:"fundPool",type:"uint256"},{internalType:"uint256",name:"loserPool",type:"uint256"},{internalType:"uint256",name:"loserPoolBalance",type:"uint256"},{internalType:"uint256",name:"loserPoolETH",type:"uint256"},{internalType:"uint256",name:"loserPoolETHBalance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceConsumerV3",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"promotions",outputs:[{internalType:"uint256",name:"sonVotedAmountToday",type:"uint256"},{internalType:"uint256",name:"sonVotedAmountWeek",type:"uint256"},{internalType:"uint256",name:"sonVotedDate",type:"uint256"},{internalType:"uint256",name:"sonVotedWeek",type:"uint256"},{internalType:"uint256",name:"airdropLinkReward",type:"uint256"},{internalType:"uint256",name:"nodeReward",type:"uint256"},{internalType:"uint256",name:"totalSonVotedAmount",type:"uint256"},{internalType:"uint256",name:"totalSonEthDone",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxiableUUID",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"quit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"quitAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"restart",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"roundExpire",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"top3Node",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"top3NodeDate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"top3NodePoolPre",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"top3NodePre",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"top3NodeWithdraw",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"top3Voted",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"top3VotedDate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"top3VotedPoolPre",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"top3VotedPre",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"top3VotedWithdraw",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"totalEthDone",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"totalVoteAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"trinitySwap",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"}],name:"upgradeTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"users",outputs:[{internalType:"uint256",name:"firstJoinTime",type:"uint256"},{internalType:"uint256",name:"roundNo",type:"uint256"},{internalType:"address",name:"parent",type:"address"},{internalType:"uint256",name:"sonCount",type:"uint256"},{internalType:"uint256",name:"sonCandidateCount",type:"uint256"},{internalType:"uint256",name:"sonMasterNodeCount",type:"uint256"},{internalType:"uint256",name:"sonSuperNodeCount",type:"uint256"},{internalType:"enum DaoLibrary.NodeType",name:"nodeType",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_node",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"vote",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"votes",outputs:[{internalType:"uint256",name:"votedAmount",type:"uint256"},{internalType:"uint256",name:"ethDone",type:"uint256"},{internalType:"uint256",name:"roundFirstVotedDate",type:"uint256"},{internalType:"uint256",name:"claimedVotedLastTime",type:"uint256"},{internalType:"uint256",name:"votedDatePre",type:"uint256"},{internalType:"bool",name:"quited",type:"bool"},{internalType:"bool",name:"luckyReward",type:"bool"},{internalType:"bool",name:"loserReward",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"weth",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}]},22928:function(e,t,n){"use strict";n.d(t,{Z:function(){return N},z:function(){return i}});var i,a=n(12249),o=n(5853),r=n(8113),s=n(63671),d=n(59201),u=n(68031),l=n(74439),p=n(89769),y=n(344),m=n(43009),c=n(79787),T=n(81900),w=n(94552),v=n(10433),f=n(20151),R=n(3682),g=n(40366),A=n(21707),h=n(81939),D=n(33657),b=n(40257);class N extends s.bQ{static getCurrentRewardRound(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.Z.Time.oneWeek().toJSTime();return Math.floor((+new Date-e)/t)}static getCurrentRewardRoundTimestamp(e,t,n){let i=Math.floor(e/t)*t,a=t*n;return i+N.getCurrentRewardRound(e,a)*a}static getToday(){return 864e5*Math.floor(Date.now()/864e5)}static buildGetInfoWithCondition(e,t,n){let i=new A.C(e,g.K);return{daoAddress:e,calls:[i.roundExpire(t),i.totalVoteAmount(t),i.totalEthDone(t),i.quitAmount(t,BigInt(n)),i.pools(t)]}}static buildGetVoteRankInfo(e){let t=Number("3"),n=new A.C(e,g.K);return{daoAddress:e,calls:Array(t).fill(0).map((e,t)=>[n.top3Voted(t),n.top3VotedPre(t),n.top3VotedWithdraw(t)]),singleUserCallCount:t}}static buildGetNodeRankInfo(e){let t=Number("3"),n=new A.C(e,g.K);return{daoAddress:e,calls:Array(t).fill(0).map((e,t)=>[n.top3Node(t),n.top3NodePre(t),n.top3NodeWithdraw(t)]),singleUserCallCount:t}}static buildGetUserRankDetailInfo(e,t,n){let i=0;if(!e.length)return{daoAddress:t,userAddresses:e,calls:[],singleUserCallCount:i};let a=e.map(e=>{let{calls:a}=N.buildGetUserInfoWithCondition(e,t,n);return i=a.length,a}).flat();return{daoAddress:t,userAddresses:e,calls:a,singleUserCallCount:i}}static analyzeUserCurrentRoundSimpleInfo(e){return{...e.users,nodeType:Number(e.users.nodeType)}}static analyzeUserCurrentRoundVoteInfo(e){return{...e.votes,roundFirstVotedDate:m.Z.BlockTime.from(e.votes.roundFirstVotedDate).toJSTime(),claimedVotedLastTime:m.Z.BlockTime.from(e.votes.claimedVotedLastTime).toJSTime(),votedDatePre:m.Z.BlockTime.from(e.votes.votedDatePre).toJSTime(),isLuckyRewardClaimed:e.votes.luckyReward,isLoserRewardClaimed:e.votes.loserReward}}static analyzeUserCurrentRoundInfo(e){return{userInfo:N.analyzeUserCurrentRoundSimpleInfo(e),voteInfo:N.analyzeUserCurrentRoundVoteInfo(e),promotionInfo:e.promotions,voteAndAirDropReward:e.voteAndAirDropReward,effectiveVote:e.effectiveVote,effectiveEthDone:e.effectiveEthDone}}static analyzeUserDetailInfo(e,t,n){let i=[];for(let a=0;a<e.length/t;a++){let o=a*t,r=o+t,[s,d,u,l,p,y]=e.slice(o,r);i.push({...N.analyzeUserCurrentRoundInfo({users:s,votes:d,promotions:u,voteAndAirDropReward:l,effectiveVote:p,effectiveEthDone:y}),userAddress:n[a]||""})}return i}static buildGetUserInfoWithCondition(e,t,n){let i=new A.C(t,g.K),a=BigInt(m.Z.Time.fromTimestamp(N.getToday()).toUnixTime()),o=[i.users(e),i.votes(n,e),i.promotions(n,e),i.getVoteAndAirDropReward(e),i.calcEffectiveAirDrop(e,a),i.calcEffectiveReinvest(e,a)];return{daoAddress:t,userAddress:e,calls:o}}async getRankSimpleInfo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=N.buildGetVoteRankInfo(e),a=N.buildGetNodeRankInfo(e);new A.C(e,g.K);let o=new A.z(R.Q.getTargetNet().chainId,R.Q.getDefaultProvider()),[r,s]=await Promise.all([this.getLastLuckyRecord({daoAddress:e}),o.all([i.calls.flat(),a.calls.flat()].flat())]),d=s.slice(0,i.calls.flat().length),u=d.map((e,t)=>t).filter(e=>e%i.singleUserCallCount==0).map(e=>({nodeAddress:d[e++],preNodeAddress:d[e++],nodeWithdrawed:d[e++]})),l=s.slice(i.calls.flat().length,i.calls.flat().length+a.calls.flat().length),p=l.map((e,t)=>t).filter(e=>e%i.singleUserCallCount==0).map(e=>({nodeAddress:l[e++],preNodeAddress:l[e++],nodeWithdrawed:l[e++]})),y=e=>w.N!==e||n;return{daoAddress:e,luckyRecords:r.map(e=>e.toJSON()).filter(e=>y(e.userAddress)),voteAddresses:u.map(e=>e.nodeAddress).filter(y),prevVoteAddresses:u.map(e=>e.preNodeAddress).filter(y),voteWithdrawed:u.map(e=>e.nodeWithdrawed).filter((e,t)=>y(u[t].preNodeAddress)),nodeAddresses:p.map(e=>e.nodeAddress).filter(y),prevNodeAddresses:p.map(e=>e.preNodeAddress).filter(y),nodeWithdrawed:p.map(e=>e.nodeWithdrawed).filter((e,t)=>y(p[t].preNodeAddress))}}async getLastLuckyRecord(e){var t,n;let a=new y.q$p,o=await a.getLuckyRewards({daoAddress:e.daoAddress}),r=new u.zv(o);return r.hasError()?[]:(null!==(n=null===(t=r.getData())||void 0===t?void 0:t.daoLuckyRewardVOs)&&void 0!==n?n:[]).map(e=>i.LastLuckyRecordAdapter.fromServer(e))}async getRankInfo(e){var t,n;if(!(null==e?void 0:null===(t=e.voteAddresses)||void 0===t?void 0:t.length)&&!(null==e?void 0:null===(n=e.nodeAddresses)||void 0===n?void 0:n.length)&&!(null==e?void 0:e.userAddress))return{voteData:[],nodeData:[],userData:null};let i=N.buildGetUserRankDetailInfo([e.voteAddresses,e.nodeAddresses,e.userAddress?[e.userAddress]:[]].flat(),e.daoAddress,e.currentRoundNO),a=new A.z(R.Q.getTargetNet().chainId,R.Q.getDefaultProvider()),o=[];for(let t=0;t<i.userAddresses.length;t+=17){let n=i.userAddresses.slice(t,t+17).flatMap(t=>N.buildGetUserInfoWithCondition(t,i.daoAddress,e.currentRoundNO).calls),r=await a.all(n);o.push(...r)}let r=N.analyzeUserDetailInfo(o,i.singleUserCallCount,i.userAddresses),s=0,d=r.slice(s,s+e.voteAddresses.length);s+=d.length;let u=r.slice(s,s+e.nodeAddresses.length);return s+=u.length,{voteData:d,nodeData:u,userData:e.userAddress?r.slice(s,s+1)[0]:null}}async getLuckyReward(e){let{daoAddress:t,userAddresses:n}=e,i=new A.C(t,g.K),a=n.map(e=>i.getLuckyReward(e)),o=new A.z(R.Q.getTargetNet().chainId,R.Q.getDefaultProvider());return await o.all(a)}async getUserVoteNodeRankReward(e){let{daoAddress:t,userAddress:n}=e,i=new A.C(t,g.K),a=[i.getLuckyReward(n),i.getTop3NodeReward(n),i.getTop3VotedReward(n)],o=new A.z(R.Q.getTargetNet().chainId,R.Q.getDefaultProvider()),[r,s,d]=await o.all(a);return{luckyReward:{reward:r},voteTopReward:{reward:d[0],rank:d[1]},nodeTopReward:{reward:s[0],rank:s[1]}}}async getCurrentRoundInfo(e){let t=R.Q.getDefaultProvider(),n=new A.z(R.Q.getTargetNet().chainId,t),i=m.Z.Time.fromTimestamp(e.targetWeek).toUnixTime(),{daoAddress:a,calls:o}=N.buildGetInfoWithCondition(e.daoAddress,e.currentRoundNO,i),[r,s,d,u,l]=await n.all([o].flat());return{daoAddress:a,roundExpire:m.Z.BlockTime.fromTimestamp(r).toJSTime(),totalVoteAmount:s,totalEthDone:d,quitAmount:u,pool:l}}async getUserCurrentRoundSimpleInfo(e){let t=[new A.C(e.daoAddress,g.K).users(e.userAddress)],n=R.Q.getDefaultProvider(),i=new A.z(R.Q.getTargetNet().chainId,n),[a]=await i.all(t);return{daoAddress:e.daoAddress,userAddress:e.userAddress,userInfo:N.analyzeUserCurrentRoundSimpleInfo({users:a})}}async getUserCurrentRoundInfo(e){let{calls:t}=N.buildGetUserInfoWithCondition(e.userAddress,e.daoAddress,e.currentRoundNO),n=R.Q.getDefaultProvider(),i=new A.z(R.Q.getTargetNet().chainId,n),[a,o,r,s,d,u]=await i.all(t);return{daoAddress:e.daoAddress,userAddress:e.userAddress,...N.analyzeUserCurrentRoundInfo({users:a,votes:o,promotions:r,voteAndAirDropReward:s,effectiveVote:d,effectiveEthDone:u})}}async getUserCancelAmount(e){return f.bR.connect(e.daoAddress,R.Q.getDefaultProvider()).getQuiteAmount(e.userAddress)}async getDaoChainInfo(e,t){var n;let i=R.Q.getDefaultProvider(),a=new A.z(null!=t?t:R.Q.getTargetNet().chainId,i),o=new A.C(e,g.K),[r,s,d,u,l,p,y,c,T,w,v,f,h,D,N,_,I,E,O,C,S,M,Z,U,k,P,L,V,F,x,z,W,B,J,j,H,K,q,Q,G,Y,$,X,ee]=await a.all([o.ONE_DAY(),o.VOTE_PRICE(),o.CANDIDATE_TOKEN_AMOUNT(),o.SUPER_TOKEN_AMOUNT(),o.VOTES_FOR_MASTER(),o.MASTER_FOR_SUPER(),o.ROUND_DURATION_MAX(),o.ROUND_DURATION_ADD(),o.AIRDROP_DURATION_CALC(),o.AIRDROP_DURATION_GET_LIMIT(),o.AIRDROP_DURATION_GET_MAX(),o.LOSER_POOL_REWARD_TIME_LIMIT(),o.COMMUNITY_DURATION(),o.COMMUNITY_REWARD_EXPIRE(),o.QUITE_DURATION(),o.DAILY_REWARD_RATE(),o.FIRST_PLACE_REWARD(),o.SECOND_PLACE_REWARD(),o.THIRD_PLACE_REWARD(),o.VOTE_RANK_REWARD_RATE(),o.COMMUNITY_REWARD_RATE(),o.FIRST_LUCKY_REWARD(),o.SECOND_LUCKY_REWARD(),o.THIRD_LUCKY_REWARD(),o.LOSER_POOL_RATE(),o.FUND_POOL_RATE(),o.LUCKY_POOL_RATE(),o.AIRDROP_POOL_RATE(),o.VOTE_RANK_POOL_RATE(),o.COMMUNITY_POOL_RATE(),o.QUIT_RATE(),o.CREATOR_FEE_RATE(),o.DEVELOPER_FEE_RATE(),o.token(),o.trinitySwap(),o.pair(),o.name(),o.daoFactory(),o.currentRoundNO(),o.createTime(),o.top3VotedDate(),o.top3VotedPoolPre(),o.top3NodeDate(),o.top3NodePoolPre()]),et=m.Z.BlockTime.fromUnixTimestamp(T).toJSTime();return{daoAddress:e,voteRankClaimDurationAdd:m.Z.BlockTime.fromUnixTimestamp(null!=r?r:m.Z.Time.fromString(null!==(n=b.env.NEXT_PUBLIC_DAO_RANK_DURATION_ADD)&&void 0!==n?n:"24H").toUnixTime()).toJSTime(),votePrice:s,applyCandidateEthAmount:d,applySuperEthAmount:u,votesForMaster:l,masterForSuper:p,roundDurationMax:m.Z.BlockTime.fromUnixTimestamp(y).toJSTime(),roundDurationAdd:m.Z.BlockTime.fromUnixTimestamp(c).toJSTime(),airdropDurationCalc:et,rewardRoundPass:Number(w),airdropDurationGetLimit:Number(w)*et,airdropDurationGetMax:m.Z.BlockTime.fromUnixTimestamp(v).toJSTime(),loserPoolRewardTimeLimit:m.Z.BlockTime.fromUnixTimestamp(f).toJSTime(),communityDuration:m.Z.Time.fromUnixTimestamp(h).toJSTime(),communityRewardDuration:m.Z.Time.fromUnixTimestamp(D).toJSTime(),cancelDurationTime:m.Z.Time.fromUnixTimestamp(N).toJSTime(),dailyRewardRate:Number(_)/100,firstPlaceRewardRate:Number(I)/100,secondPlaceRewardRate:Number(E)/100,thirdPlaceRewardRate:Number(O)/100,voteRankRewardRate:Number(C)/100,communityRewardRate:Number(S)/100,firstLuckyRewardRate:Number(M)/100,secondLuckyRewardRate:Number(Z)/100,thirdLuckyRewardRate:Number(U)/100,loserPoolRate:Number(k)/100,fundPoolRate:Number(P)/100,luckyPoolRate:Number(L)/100,airdropPoolRate:Number(V)/100,voteRankPoolRate:Number(F)/100,communityPoolRate:Number(x)/100,cancelRate:Number(z)/1e3,creatorFeeRate:Number(W)/100,developerFeeRate:Number(B)/100,tokenAddress:J,trinitySwap:j,pairAddress:H,name:K,daoFactoryAddress:q,currentRoundNO:Number(Q),createTime:m.Z.BlockTime.fromUnixTimestamp(G).toJSTime(),top3VotedDate:m.Z.BlockTime.fromUnixTimestamp(Y).toJSTime(),top3VotedPoolPre:$,top3NodeDate:m.Z.BlockTime.fromUnixTimestamp(X).toJSTime(),top3NodePoolPre:ee}}async getDaoList(e){var t;return u.zv.Ok(Array(null!==(t=e.pageSize)&&void 0!==t?t:16).fill({id:"1",name:"DAO",description:"DAO",createTime:+new Date}))}async getDaoListForNodeListFilter(e){var t;let n=new y.q$p(this.buildConfigure()),a=await n.getDaos({pageSize:e.pageSize,page:e.page,keyword:e.keyword}),o=new u.zv(a);return o.hasError()?o:u.zv.Ok((null!==(t=o.getData().daoVOs)&&void 0!==t?t:[]).map(i.DAOAdapter.fromServer).map(e=>e.toJSON()))}async getDaoSimpleInfo(e){let t=new y.q$p(this.buildConfigure()),n=new u.zv(await t.getDaoDetail({daoAddress:e.daoAddress}));if(n.hasError())return n;let a=n.getData();return u.zv.Ok(i.DAOAdapter.fromServer(a).toJSON())}async getNodeList(e){var t,n,a,o;let r=new y.q$p,s=await r.getNodes({daoAddress:e.daoAddress,pageSize:e.pageSize,page:e.page,keyword:null!==(n=e.keyword)&&void 0!==n?n:""}),d=new u.zv(s);return d.hasError()?d:u.zv.Ok((null!==(a=null===(t=s.data)||void 0===t?void 0:t.nodeVOs)&&void 0!==a?a:[]).map(t=>i.NodeAdapter.fromServer(t,e.daoAddress).toJSON()),{totalPage:null!==(o=s.totalPage)&&void 0!==o?o:null})}async getNodeDetail(e){let t=new y.q$p,n=await t.getNodeDetail({nodeAddress:e.nodeAddress,daoAddress:e.daoAddress}),a=new u.zv(n);return a.hasError()?a:u.zv.Ok(i.NodeInfoAdapter.getFactory({daoAddress:e.daoAddress})(a.getData()).toJSON())}async getVotingRecords(e){var t;let n=new y.q$p,a=await n.getVotes({daoAddress:e.daoAddress,nodeAddress:e.nodeAddress,page:e.page,pageSize:e.pageSize}),o=new u.zv(a);return o.hasError()?o:u.zv.Ok((null!==(t=o.getData().voteVOs)&&void 0!==t?t:[]).map(i.VoteRecordAdapterV2.fromServer))}async getMyVotingRecords(e){var t;let n=new y.q$p(this.buildConfigure()),a=await n.getMyVotes({daoAddress:e.daoAddress,nodeAddress:e.nodeAddress,page:e.page,pageSize:e.pageSize}),o=new u.zv(a);return o.hasError()?o:u.zv.Ok((null!==(t=o.getData().voteVOs)&&void 0!==t?t:[]).map(i.VoteRecordAdapterV2.fromServer))}async getRewardRecordList(e){var t,n;let a=new y.q$p,o=await a.getRewards({daoAddress:e.daoAddress,page:null!==(t=e.page)&&void 0!==t?t:1,pageSize:null!==(n=e.pageSize)&&void 0!==n?n:16,type:e.type}),r=new u.zv(o);return r.hasError()?r:u.zv.Ok(i.DAORewardRecordAdapter.fromServer(r.getData()))}async getOtherRewardRecordList(e){return e.type=p.r.RewardType.OTHERS_REWARD,this.getRewardRecordList(e)}async getUserRewardRecordList(e){var t,n;let a=new y.q$p(this.buildConfigure()),o=await a.getMyRewards({daoAddress:e.daoAddress,page:null!==(t=e.page)&&void 0!==t?t:1,pageSize:null!==(n=e.pageSize)&&void 0!==n?n:16,type:e.type}),r=new u.zv(o);return r.hasError()?r:u.zv.Ok(i.DAORewardRecordAdapter.fromServer(r.getData()))}async getPreviousRoundTop3Info(e){let t=Number("3"),n=new A.C(e,g.K),i=[];for(let e=0;e<t;e++)i.push(n.top3VotedPre(e),n.top3VotedWithdraw(e));for(let e=0;e<t;e++)i.push(n.top3NodePre(e),n.top3NodeWithdraw(e));i.push(n.top3VotedPoolPre(),n.top3NodePoolPre());let a=new A.z(R.Q.getTargetNet().chainId,R.Q.getDefaultProvider()),o=await a.all(i),r=[];for(let e=0;e<t;e++){let t=o[2*e],n=o[2*e+1];r.push({address:t,isWithdrawed:n,reward:0n,rank:e})}let s=[],d=2*t;for(let e=0;e<t;e++){let t=o[d+2*e],n=o[d+2*e+1];s.push({address:t,isWithdrawed:n,reward:0n,rank:e})}let u=4*t,l=o[u],p=o[u+1];return r.forEach((e,t)=>{if(e.address!==w.N){let n=0;0===t?n=60:1===t?n=30:2===t&&(n=10),e.reward=l*BigInt(3)*BigInt(n)/10000n}}),s.forEach((e,t)=>{if(e.address!==w.N){let n=0;0===t?n=60:1===t?n=30:2===t&&(n=10),e.reward=p*BigInt(30)*BigInt(n)/10000n}}),{daoAddress:e,previousVoteRanking:r.filter(e=>e.address!==w.N),previousNodeRanking:s.filter(e=>e.address!==w.N),pools:{voteRankPool:l,communityPool:p}}}async getPreviousRoundTop3InfoForUser(e,t){let n=Number("3"),i=new A.C(e,g.K),a=[];for(let e=0;e<n;e++)a.push(i.top3VotedPre(e),i.top3VotedWithdraw(e));for(let e=0;e<n;e++)a.push(i.top3NodePre(e),i.top3NodeWithdraw(e));a.push(i.top3VotedPoolPre(),i.top3NodePoolPre(),i.getTop3VotedReward(t),i.getTop3NodeReward(t));let o=new A.z(R.Q.getTargetNet().chainId,R.Q.getDefaultProvider()),r=await o.all(a),s=[],d=[];for(let e=0;e<n;e++)s.push(r[2*e]),d.push(r[2*e+1]);let u=[],l=[],p=2*n;for(let e=0;e<n;e++)u.push(r[p+2*e]),l.push(r[p+2*e+1]);let y=4*n,m=r[y],c=r[y+1],T=r[y+2],v=r[y+3],f=s.findIndex(e=>e.toLowerCase()===t.toLowerCase()),h=u.findIndex(e=>e.toLowerCase()===t.toLowerCase());return{daoAddress:e,userAddress:t,previousVoteRanking:{addresses:s.filter(e=>e!==w.N),withdrawStatus:d,userRank:f>=0?f:-1,userReward:T[0],userRewardRank:Number(T[1]),poolAmount:m},previousNodeRanking:{addresses:u.filter(e=>e!==w.N),withdrawStatus:l,userRank:h>=0?h:-1,userReward:v[0],userRewardRank:Number(v[1]),poolAmount:c}}}constructor(e=new d.Z){super(),(0,a._)(this,"httpRequest",void 0),this.httpRequest=e}}(0,o.gn)([v.Z.Mark(),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[String,Boolean,Boolean]),(0,o.w6)("design:returntype",Promise)],N.prototype,"getRankSimpleInfo",null),(0,o.gn)([v.Z.Mark(),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[Object]),(0,o.w6)("design:returntype",Promise)],N.prototype,"getRankInfo",null),(0,o.gn)([v.Z.Mark(),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof DaoDto||void 0===DaoDto.LuckyRewardRequest?Object:DaoDto.LuckyRewardRequest]),(0,o.w6)("design:returntype",Promise)],N.prototype,"getLuckyReward",null),(0,o.gn)([v.Z.Mark(),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof DaoDto||void 0===DaoDto.VoteNodeRankRewardRequest?Object:DaoDto.VoteNodeRankRewardRequest]),(0,o.w6)("design:returntype",Promise)],N.prototype,"getUserVoteNodeRankReward",null),(0,o.gn)([v.Z.Mark(),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof DaoDto||void 0===DaoDto.CurrentRoundInfoRequest?Object:DaoDto.CurrentRoundInfoRequest]),(0,o.w6)("design:returntype",Promise)],N.prototype,"getCurrentRoundInfo",null),(0,o.gn)([v.Z.Mark(),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof DaoDto||void 0===DaoDto.UserCurrentRoundInfoRequest?Object:DaoDto.UserCurrentRoundInfoRequest]),(0,o.w6)("design:returntype",Promise)],N.prototype,"getUserCurrentRoundSimpleInfo",null),(0,o.gn)([v.Z.Mark(),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof DaoDto||void 0===DaoDto.UserCurrentRoundInfoRequest?Object:DaoDto.UserCurrentRoundInfoRequest]),(0,o.w6)("design:returntype",Promise)],N.prototype,"getUserCurrentRoundInfo",null),(0,o.gn)([v.Z.Mark(),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof DaoDto||void 0===DaoDto.UserCancelAmountRequest?Object:DaoDto.UserCancelAmountRequest]),(0,o.w6)("design:returntype",Promise)],N.prototype,"getUserCancelAmount",null),(0,o.gn)([v.Z.Mark(),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[String,Number]),(0,o.w6)("design:returntype",Promise)],N.prototype,"getDaoChainInfo",null),(0,o.gn)([v.Z.Mark(),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[String]),(0,o.w6)("design:returntype",Promise)],N.prototype,"getPreviousRoundTop3Info",null),(0,o.gn)([v.Z.Mark(),(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",[String,String]),(0,o.w6)("design:returntype",Promise)],N.prototype,"getPreviousRoundTop3InfoForUser",null),N=(0,o.gn)([r.ZP.Singleton,(0,o.w6)("design:type",Function),(0,o.w6)("design:paramtypes",["undefined"==typeof HttpRequest?Object:HttpRequest])],N),function(e){class t extends r.Vw.BaseDataAdapter{static fromServer(e){return new t().initialize(e)}toJSON(){return{userAddress:this.userAddress,votedAmount:this.votedAmount}}constructor(...e){super(...e),(0,a._)(this,"userAddress",void 0),(0,a._)(this,"votedAmount",void 0)}}e.LastLuckyRecordAdapter=t,(0,o.gn)([r.Vw.To(c.Z.builder_with_default_then_call(w.N,e=>e.unwrap()),"user"),(0,o.w6)("design:type",String)],t.prototype,"userAddress",void 0),(0,o.gn)([r.Vw.To(T.Z.builder_with_default_then_call(0,e=>h.Z.wei2eth(e.toFixed(0))),"votes"),(0,o.w6)("design:type",String)],t.prototype,"votedAmount",void 0);class n{static fromServer(e){return new n(e.daoAddress.charAt(e.daoAddress.length-1),e.daoName,e.daoImage,e.daoAddress,e.daoName,e.totalVotes)}toJSON(){return{id:this.id,name:this.name,icon:this.icon,address:this.address,symbol:this.symbol,totalVotes:this.totalVotes}}constructor(e,t,n,i,o,r){(0,a._)(this,"id",void 0),(0,a._)(this,"name",void 0),(0,a._)(this,"icon",void 0),(0,a._)(this,"address",void 0),(0,a._)(this,"symbol",void 0),(0,a._)(this,"totalVotes",void 0),this.id=e,this.name=t,this.icon=n,this.address=i,this.symbol=o,this.totalVotes=r}}e.DAOAdapter=n;class i{static fromServer(e,t){return new i(D.Z.SHA256(e.nodeAddress).toString(),t,e.nodeAddress,e.nodeType,0,e.createTime)}static fromDetailServer(e,t){return new i(D.Z.SHA256(e.nodeAddress).toString(),t,e.nodeAddress,p.r.NodeType.NONE,0,e.createTime)}toJSON(){return{id:this.id,daoAddress:this.daoAddress,walletAddress:this.walletAddress,nodeType:this.nodeType,totalVotes:this.totalVotes,createTime:1e3*this.createTime,timeShow:l.Z.dateFormat(new Date(1e3*this.createTime),"yyyy-MM-dd HH:mm:ss")}}constructor(e,t,n,i,o,r){(0,a._)(this,"id",void 0),(0,a._)(this,"daoAddress",void 0),(0,a._)(this,"walletAddress",void 0),(0,a._)(this,"nodeType",void 0),(0,a._)(this,"totalVotes",void 0),(0,a._)(this,"createTime",void 0),this.id=e,this.daoAddress=t,this.walletAddress=n,this.nodeType=i,this.totalVotes=o,this.createTime=r}}e.NodeAdapter=i;class s extends r.Vw.BaseDataAdapter{static getFactory(e){return t=>new s(e).initialize(t)}toJSON(){return{id:this.id.unwrap(),daoAddress:this.data.daoAddress,nodeAddress:this.nodeAddress.unwrap(),creationTime:this.creationTime.toJSTime()}}constructor(e){super(),(0,a._)(this,"data",void 0),(0,a._)(this,"nodeAddress",void 0),(0,a._)(this,"id",void 0),(0,a._)(this,"creationTime",void 0),this.data=e}}e.NodeInfoAdapter=s,(0,o.gn)([r.Vw.To(c.Z.builder_with_default(w.N)),(0,o.w6)("design:type",void 0===c.Z?Object:c.Z)],s.prototype,"nodeAddress",void 0),(0,o.gn)([r.Vw.To(c.Z.builder_with_default("0"),{originName:"nodeId"}),(0,o.w6)("design:type",void 0===c.Z?Object:c.Z)],s.prototype,"id",void 0),(0,o.gn)([r.Vw.To(m.Z.Time.fromTimestamp.bind(m.Z.Time),{originName:"createTime"}),(0,o.w6)("design:type",void 0===m.Z||void 0===m.Z.Time?Object:m.Z.Time)],s.prototype,"creationTime",void 0);class d extends r.Vw.BaseDataAdapter{get voteAmount(){return this.voteAmountInWei.div(10**this.options.decimals)}static fromServer(e){return new d({decimals:18}).initialize(e)}toJSON(){return{userAddress:this.userAddress.unwrap(),txHash:this.txHash.unwrap(),voteTime:this.voteTime.toJSTime(),voteNumber:this.voteNumber.valueOf(),voteAmount:this.voteAmount.toString()}}constructor(e){super(),(0,a._)(this,"options",void 0),(0,a._)(this,"userAddress",void 0),(0,a._)(this,"voteAmountInWei",void 0),(0,a._)(this,"voteNumber",void 0),(0,a._)(this,"voteTime",void 0),(0,a._)(this,"txHash",void 0),this.options=e}}e.VoteRecordAdapterV2=d,(0,o.gn)([r.Vw.To(c.Z.builder_with_default(w.N)),(0,o.w6)("design:type",void 0===c.Z?Object:c.Z)],d.prototype,"userAddress",void 0),(0,o.gn)([r.Vw.To(T.Z,{originName:"amount"}),(0,o.w6)("design:type",void 0===T.Z?Object:T.Z)],d.prototype,"voteAmountInWei",void 0),(0,o.gn)([r.Vw.To(Number),(0,o.w6)("design:type","undefined"==typeof Number?Object:Number)],d.prototype,"voteNumber",void 0),(0,o.gn)([r.Vw.To(m.Z.Time.timestampBuilder(),{originName:"timestamp"}),(0,o.w6)("design:type",void 0===m.Z||void 0===m.Z.Time?Object:m.Z.Time)],d.prototype,"voteTime",void 0),(0,o.gn)([r.Vw.To(c.Z.builder_with_default("")),(0,o.w6)("design:type",void 0===c.Z?Object:c.Z)],d.prototype,"txHash",void 0);class u{static fromServer(e){return new u(e.userAddress,e.txHash,m.Z.Time.fromTimestamp(e.timestamp).toJSTime(),e.voteNumber,e.amount.toString())}toViewModel(){return{userAddress:this.userAddress,txHash:this.txHash,voteTime:this.voteTime,voteNumber:this.voteNumber,voteAmount:this.voteAmount}}constructor(e,t,n,i,o){(0,a._)(this,"userAddress",void 0),(0,a._)(this,"txHash",void 0),(0,a._)(this,"voteTime",void 0),(0,a._)(this,"voteNumber",void 0),(0,a._)(this,"voteAmount",void 0),this.userAddress=e,this.txHash=t,this.voteTime=n,this.voteNumber=i,this.voteAmount=o}}e.VoteRecordAdapter=u;class y extends r.Vw.BaseDataAdapter{static fromServer(t){var n;return new y().initialize({...t,data:(null!==(n=t.daoRewardVOs)&&void 0!==n?n:[]).map(e.DAORewardRecordInfoAdapter.fromServer.bind(e.DAORewardRecordInfoAdapter))})}toJSON(){return{page:this.page,updateTime:this.updateTime.toJSTime(),data:this.data.map(e=>e.toJSON())}}constructor(){super(),(0,a._)(this,"page",void 0),(0,a._)(this,"updateTime",void 0),(0,a._)(this,"data",void 0)}}e.DAORewardRecordAdapter=y,(0,o.gn)([r.Vw.To(Number),(0,o.w6)("design:type",Number)],y.prototype,"page",void 0),(0,o.gn)([r.Vw.To(m.Z.BlockTime.timestampBuilder(()=>+new Date),{originName:"lastUpdateTime"}),(0,o.w6)("design:type",void 0===m.Z||void 0===m.Z.BlockTime?Object:m.Z.BlockTime)],y.prototype,"updateTime",void 0);class v extends r.Vw.BaseDataAdapter{idToString(){return this.id.unwrap()}addressToString(){return this.address.unwrap()}rewardToString(){return h.Z.wei2eth(this.reward.toFixed(0))}tokenRewardToString(){return h.Z.wei2eth(this.tokenReward.toFixed(0))}static fromServer(e){return new v().initialize(e)}toJSON(){return{id:this.idToString(),address:this.addressToString(),reward:this.rewardToString(),tokenReward:this.tokenRewardToString(),createTime:this.createTime.toJSTime(),type:this.type,typeText:"",amount:this.amount.toString(),tx:this.tx.unwrap()}}constructor(...e){super(...e),(0,a._)(this,"id",void 0),(0,a._)(this,"address",void 0),(0,a._)(this,"reward",void 0),(0,a._)(this,"tokenReward",new T.Z(0)),(0,a._)(this,"createTime",void 0),(0,a._)(this,"type",void 0),(0,a._)(this,"amount",void 0),(0,a._)(this,"tx",void 0)}}e.DAORewardRecordInfoAdapter=v,(0,o.gn)([r.Vw.To(c.Z.builder_with_default("0"),"txHash"),(0,o.w6)("design:type",void 0===c.Z?Object:c.Z)],v.prototype,"id",void 0),(0,o.gn)([r.Vw.To(c.Z.builder_with_default(w.N),"userAddress"),(0,o.w6)("design:type",void 0===c.Z?Object:c.Z)],v.prototype,"address",void 0),(0,o.gn)([r.Vw.To(T.Z.builder_with_default(0),{originName:"amount"}),(0,o.w6)("design:type",void 0===T.Z?Object:T.Z)],v.prototype,"reward",void 0),(0,o.gn)([r.Vw.To(T.Z.builder_with_default(0),{originName:"tokenAmount"}),(0,o.w6)("design:type",void 0===T.Z?Object:T.Z)],v.prototype,"tokenReward",void 0),(0,o.gn)([r.Vw.To(m.Z.Time.fromTimestamp.bind(m.Z.Time),{originName:"rewardTime"}),(0,o.w6)("design:type",void 0===m.Z||void 0===m.Z.Time?Object:m.Z.Time)],v.prototype,"createTime",void 0),(0,o.gn)([r.Vw.To(void 0,{originName:"rewardType"}),(0,o.w6)("design:type",void 0===p.r||void 0===p.r.RewardType?Object:p.r.RewardType)],v.prototype,"type",void 0),(0,o.gn)([r.Vw.To(T.Z),(0,o.w6)("design:type",void 0===T.Z?Object:T.Z)],v.prototype,"amount",void 0),(0,o.gn)([r.Vw.To(c.Z.builder_with_default(w.N),{originName:"txHash"}),(0,o.w6)("design:type",void 0===c.Z?Object:c.Z)],v.prototype,"tx",void 0);class f extends r.Vw.BaseDataAdapter{static getFactory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.N;return t=>new f(e).initialize(t)}toJSON(){return{rank:this.rank,votes:Number(this.votes),beVotes:this.beVotes.toNumber(),reward:this.reward.toNumber(),rewardType:this.rewardType,address:this.userAddress}}constructor(e){super(),(0,a._)(this,"userAddress",void 0),(0,a._)(this,"rank",void 0),(0,a._)(this,"votes",void 0),(0,a._)(this,"beVotes",void 0),(0,a._)(this,"reward",void 0),(0,a._)(this,"rewardType",void 0),this.userAddress=e,this.beVotes=new T.Z(0),this.reward=new T.Z(0)}}e.DAOUserRankInfoAdapter=f,(0,o.gn)([r.Vw.To(T.Z.builder_with_default_then_call(0,e=>e.toInteger())),(0,o.w6)("design:type",Number)],f.prototype,"rank",void 0),(0,o.gn)([r.Vw.To(T.Z.builder_with_default_then_call(0,e=>h.Z.wei2eth(e.toFixed(0))),"voteCount"),(0,o.w6)("design:type",String)],f.prototype,"votes",void 0),(0,o.gn)([r.Vw.To(T.Z)],f.prototype,"beVotes",void 0),(0,o.gn)([r.Vw.To(T.Z)],f.prototype,"reward",void 0),(0,o.gn)([r.Vw.To(T.Z.builder_with_default_then_call(p.r.RankRewardType.LUCKY_REWARD,e=>e.toInteger()),{originName:"type"}),(0,o.w6)("design:type",void 0===p.r||void 0===p.r.RankRewardType?Object:p.r.RankRewardType)],f.prototype,"rewardType",void 0)}(i||(i={}))},56196:function(e,t,n){"use strict";n.d(t,{I:function(){return l}});var i=n(74439),a=n(43009),o=n(80149),r=n(56611),s=n(6178),d=n(69356),u=n(2265);function l(){let e=(0,s.T)(),t=(0,s.C)(e=>e.global),n=(0,s.C)(e=>e.user),{connectETHWallet:l}=u.useContext(o.Cv);async function p(){return n.ethInfo.isConnected?!!t.token||(e(d.Z.slice.actions.updateNeedBinding(!0)),!1):(e(d.Z.slice.actions.updateNeedBinding(!0)),await l(r.w3.WALLETCONNECT),!1)}async function y(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.Z.Seconds.from(30);n.ethInfo.isConnected||(e(d.Z.slice.actions.updateNeedBinding(!0)),await l(r.w3.WALLETCONNECT)),t.token||await e(d.Z.slice.actions.updateNeedBinding(!0)),await function*(){let e=0;for(;!t.token;){if(e>=o.toJSTime())return!1;let t=a.Z.Time.oneSecond();yield i.Z.sleepForAnimationFrame(t),e+=t.toJSTime()}return!0}()}return{isLogin:!!t.token&&n.ethInfo.walletAddress,handleLogin:p,loginThen:y}}},56856:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var i=n(6178),a=n(95665),o=n(2265),r=n(99376),s=n(88847),d=n(83123),u=n(43949),l=n(22928),p=n(74439),y=n(20605);function m(e){let{t}=(0,u.$G)(["dao"]),n=(0,r.useRouter)(),m=(0,i.T)(),c=(0,i.C)(e=>e.dao),T=(0,i.C)(e=>e.global),[w,v]=o.useState(null);async function f(){let e=new l.Z,t=await e.getDaoSimpleInfo(w?{daoAddress:w}:{});if(t.hasError()){let e=t.getError();return(0,d.L6)(e.msg),Promise.reject(e)}return t.getData()}async function R(){let e=await f();v(e.address),m(a.Z.slice.actions.updateSelectedDao(e));let t=new URLSearchParams(location.search);e.address!==t.get(a.Z.Params.DAO_ADDRESS)&&(t.set(a.Z.Params.DAO_ADDRESS,e.address),n.push("?".concat(t.toString())))}async function g(e){let t=new s.Z,n=await t.getSimpTokenInfoForDaoNodeApply({tokenAddress:e});if(n.hasError()){let e=n.getError();return(0,d.L6)(e.msg),Promise.reject(e)}return n.getData()}async function A(e){var t;if(!(e=null!=e?e:null===(t=c.daoContractInfo)||void 0===t?void 0:t.tokenAddress))throw Error("Token address is not set");let n=await g(e);return m(a.Z.slice.actions.updateTokenInfo(n)),n}function h(){m(a.Z.slice.actions.clearTokenInfo())}return o.useEffect(()=>{if(null===w||!T.isLoginStatusInitialized)return;let e=new AbortController;return p.Z.sleepForAnimationFrame(16).wait(()=>{e.signal.aborted||R()}),()=>{e.abort(y.Z.ReactError.useEffectDestroy())}},[T.isLoginStatusInitialized,w]),o.useEffect(()=>{if(!(null==e?void 0:e.autoTrigger))return;let t=new URLSearchParams(location.search).get(a.Z.Params.DAO_ADDRESS);if(!t)return v("");v(t)},[]),o.useEffect(()=>{var t;if(null==e?void 0:e.autoUpdateTokenInfo){if(!(null===(t=c.daoContractInfo)||void 0===t?void 0:t.tokenAddress))return h();A()}},[c.daoContractInfo]),{daoAddress:w,setDaoAddress:v,getInfo:f,updateInfo:R,getTokenInfo:g,updateTokenInfo:A,clearTokenInfo:h}}},72917:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var i=n(10433),a=n(83123),o=n(20151),r=n(6178),s=n(95665),d=n(3876),u=n(94552),l=n(41662),p=n(43949),y=n(81939),m=n(68651),c=n(2265),T=n(56856),w=n(43009),v=n(13965),f=n(49481),R=n(22928),g=n(74439),A=n(20605),h=n(56196),D=n(7310),b=n.n(D);function N(e,t){var n,D,N,_,I,E,O,C;let S=(0,r.T)();(0,r.C)(e=>e.global);let M=(0,r.C)(e=>e.user),Z=(0,r.C)(e=>e.dao),{t:U}=(0,p.$G)(["common","dao"]);(0,T.Z)({autoTrigger:null==t?void 0:t.autoTrigger,autoUpdateTokenInfo:null==t?void 0:t.autoUpdateTokenInfo});let k=(0,f.Z)(M.ethInfo.walletAddress),P=(0,h.I)(),L=new R.Z,[V,F]=c.useState(0),[x,z]=c.useState(!1);async function W(){var t,n;let i=null!==(n=null!=e?e:null===(t=Z.nodeListFilters.selectedDao)||void 0===t?void 0:t.address)&&void 0!==n?n:"";if(!i)throw Error("No dao address");return L.getDaoChainInfo(i)}async function B(){var t;let n=Date.now();if((!(n-V<3e4)||!Z.daoContractInfo||Z.daoContractInfo.daoAddress!==(null!=e?e:null===(t=Z.nodeListFilters.selectedDao)||void 0===t?void 0:t.address))&&!x)try{z(!0);let e=await W();S(s.Z.slice.actions.updateDaoContractInfo(e)),F(n)}catch(e){i.Z.E("useDAOChainInfo::updateInfo error",e)}finally{z(!1)}}async function J(){i.Z.I("useDAOChainInfo::clearInfo"),S(s.Z.slice.actions.clearDaoContractInfo())}async function j(t){var n,i,a;let o=null!==(a=null!=e?e:null===(n=Z.nodeListFilters.selectedDao)||void 0===n?void 0:n.address)&&void 0!==a?a:"";if(!o)throw Error("No dao address");if(!(t=null!=t?t:Z.nodeDetail.nodeAddress))throw Error("No node address");if(!(null===(i=Z.daoContractInfo)||void 0===i?void 0:i.currentRoundNO))throw Error("No current round no");let r=await L.getUserCurrentRoundInfo({daoAddress:o,userAddress:t,currentRoundNO:Z.daoContractInfo.currentRoundNO});S(s.Z.slice.actions.updateNodeChainInfo({...r,nodeAddress:t}))}async function H(){var t,n,i;let a=null!==(i=null!=e?e:null===(t=Z.nodeListFilters.selectedDao)||void 0===t?void 0:t.address)&&void 0!==i?i:"";if(!a)throw Error("No dao address");let o=M.ethInfo.walletAddress;if(!o)return S(s.Z.slice.actions.clearUserInfo());if(!(null===(n=Z.daoContractInfo)||void 0===n?void 0:n.currentRoundNO))throw Error("No current round no");let r=await L.getUserCurrentRoundInfo({daoAddress:a,userAddress:o,currentRoundNO:Z.daoContractInfo.currentRoundNO});S(s.Z.slice.actions.updateUserInfo(r))}async function K(){var t;let n=e||(null===(t=Z.nodeListFilters.selectedDao)||void 0===t?void 0:t.address)||"";if(!n)throw Error("No dao address");if(!Z.daoContractInfo)throw Error("No current round no and create time");try{let e=Z.daoContractInfo.createTime,t=Z.daoContractInfo.voteRankClaimDurationAdd,i=Z.daoContractInfo.rewardRoundPass,a=R.Z.getCurrentRewardRoundTimestamp(e,t,i),o=await L.getCurrentRoundInfo({daoAddress:n,currentRoundNO:Z.daoContractInfo.currentRoundNO,targetWeek:a});S(s.Z.slice.actions.updateCurrentRoundInfo(o))}catch(e){(0,a.L6)(new a.HU(e,U("FailedToUpdateCurrentRoundInfo")).asToastMessage())}}async function q(){S(s.Z.slice.actions.clearCurrentRoundInfo())}async function Q(e,t){var n,i;let a=null!==(i=null!=e?e:null===(n=Z.nodeListFilters.selectedDao)||void 0===n?void 0:n.address)&&void 0!==i?i:"";if(!a)throw Error("No dao address");if(!(t=null!=t?t:M.ethInfo.walletAddress))throw Error("No user address");let[o,r]=await L.getUserCancelAmount({daoAddress:a,userAddress:t});S(s.Z.slice.actions.updateUserCancelAmount({canCancelAmount:o,maxCancelAmount:r}))}async function G(e){var t,n,r,s,p;if(!(null===(t=Z.nodeListFilters.selectedDao)||void 0===t?void 0:t.address)){(0,a.L6)(U("dao:NoSelectedDao"));return}if(!Z.nodeDetail.nodeAddress){(0,a.L6)(U("dao:NoSelectedNode"));return}if(!await P.handleLogin())return;if(await d.ru(null!==(s=null===(n=Z.nodeCurrentRoundInfo)||void 0===n?void 0:n.userInfo.parent)&&void 0!==s?s:u.N)===await d.ru(M.ethInfo.walletAddress)){(0,a.L6)(U("dao:CannotVoteToEach"));return}let c=new m.Z(y.Z.wei2eth(null!==(p=null===(r=Z.daoContractInfo)||void 0===r?void 0:r.votePrice)&&void 0!==p?p:l.fi("0.1"))).multipliedBy(e);if(c.gte(M.ethInfo.walletBalance)){(0,a.L6)(U("common:NotEnoughBalance"));return}let T=v.r.getInstance(),w=y.Z.getInstance(T.getProvider()),f=await w.getSigner(),R=o.bR.connect(Z.nodeListFilters.selectedDao.address,f);try{let t=l.fi(c.toString()),n=await R.vote(Z.nodeDetail.nodeAddress,e.toString(),{value:t}),i=await n.wait();(0,a.x9)(U("VoteSuccess"));let o=Promise.all([k.updateETHBalance(),j(),H()]);return{txRes:n,receipt:i,updateDataPromise:o}}catch(e){(0,a.L6)(new a.HU(e,U("VoteFailed")).asToastMessage()),i.Z.E(e);return}}async function Y(){var e,t;if(!(null===(e=Z.nodeListFilters.selectedDao)||void 0===e?void 0:e.address)){(0,a.L6)(U("NoSelectedDao"));return}if(!Z.nodeDetail.nodeAddress){(0,a.L6)(U("NoSelectedNode"));return}if(!await P.handleLogin())return;let n=v.r.getInstance(),r=y.Z.getInstance(n.getProvider()),s=await r.getSigner(),d=o.bR.connect(null===(t=Z.nodeListFilters.selectedDao)||void 0===t?void 0:t.address,s);try{await d.quit()}catch(e){(0,a.L6)(new a.HU(e,U("CancelVoteFailed")).asToastMessage()),i.Z.E(e);return}(0,a.x9)(U("CancelVoteSuccess"))}async function $(){var e;let t=null===(e=Z.daoCurrentRoundInfo)||void 0===e?void 0:e.daoAddress;if(!t)throw Error("DAO address not found!");if(!await P.handleLogin())return;let n=v.r.getInstance(),r=y.Z.getInstance(n.getProvider()),s=await r.getSigner(),d=o.bR.connect(t,s);try{let e=await d.restart();await e.wait(),(0,a.x9)(U("SuccessfullyOpenDAO")),B()}catch(e){(0,a.L6)(new a.HU(e,U("FailedToRestartDAO")).asToastMessage()),i.Z.E("useDAOChainInfo::reopenDAO",e)}}let X=c.useCallback(b()(()=>{B().catch(e=>{(0,a.L6)(new a.HU(e,U("FailedToUpdateInfo")).asToastMessage()),i.Z.E("useDAOChainInfo::updateInfo",e)})},500),[null===(n=Z.nodeListFilters.selectedDao)||void 0===n?void 0:n.address]),ee=c.useCallback(b()(()=>{K().catch(e=>{(0,a.L6)(new a.HU(e,U("FailedToUpdateCurrentRoundInfo")).asToastMessage()),i.Z.E("useDAOChainInfo::updateCurrentRoundInfo",e)})},500),[null===(D=Z.daoContractInfo)||void 0===D?void 0:D.daoAddress,null===(N=Z.nodeListFilters.selectedDao)||void 0===N?void 0:N.address]),et=c.useCallback(b()(()=>{H().catch(e=>{(0,a.L6)(new a.HU(e,U("FailedToUpdateUserCurrentRoundInfo")).asToastMessage()),i.Z.E("useDAOChainInfo::updateUserCurrentRoundInfo",e)})},500),[null===(_=Z.daoContractInfo)||void 0===_?void 0:_.currentRoundNO,M.ethInfo.walletAddress]);return c.useEffect(()=>{var e;if(!(null==t?void 0:t.autoTrigger)||!(null===(e=Z.nodeListFilters.selectedDao)||void 0===e?void 0:e.address))return;let n=g.Z.sleepForAnimationFrame(w.Z.Milliseconds.from(100));return n.wait(()=>{X()}),()=>{n.cancel(A.Z.ReactError.useEffectDestroy())}},[null===(I=Z.nodeListFilters.selectedDao)||void 0===I?void 0:I.address,X,null==t?void 0:t.autoTrigger]),c.useEffect(()=>{var e;if(!(null==t?void 0:t.autoTrigger)||!(null===(e=Z.nodeListFilters.selectedDao)||void 0===e?void 0:e.address)||!Z.daoContractInfo)return;let n=g.Z.sleepForAnimationFrame(w.Z.Milliseconds.from(100));return n.wait(()=>{ee()}),()=>{n.cancel(A.Z.ReactError.useEffectDestroy())}},[null===(E=Z.daoContractInfo)||void 0===E?void 0:E.daoAddress,null===(O=Z.nodeListFilters.selectedDao)||void 0===O?void 0:O.address,ee,null==t?void 0:t.autoTrigger]),c.useEffect(()=>{var e,n;if(!(null==t?void 0:t.autoTrigger))return;if(!M.ethInfo.walletAddress||!(null===(e=Z.daoContractInfo)||void 0===e?void 0:e.currentRoundNO)||!(null===(n=Z.nodeListFilters.selectedDao)||void 0===n?void 0:n.address)){S(s.Z.slice.actions.clearUserInfo());return}let i=g.Z.sleepForAnimationFrame(w.Z.Milliseconds.from(100));return i.wait(()=>{et()}),()=>{i.cancel(A.Z.ReactError.useEffectDestroy())}},[null===(C=Z.daoContractInfo)||void 0===C?void 0:C.currentRoundNO,M.ethInfo.walletAddress,et,null==t?void 0:t.autoTrigger]),{getInfo:W,updateInfo:B,clearInfo:J,updateUserCurrentRoundInfo:H,updateNodeCurrentRoundInfo:j,updateCurrentRoundInfo:K,clearCurrentRoundInfo:q,updateCancelInfo:Q,voteForNode:G,cancelVote:Y,reopenDAO:$}}},17104:function(){}}]);