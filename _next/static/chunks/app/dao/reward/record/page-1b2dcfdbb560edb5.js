(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8296],{71845:function(e,t,r){"use strict";var n,a=r(94746);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}t.Z=function(e){return a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:15,height:8,fill:"none"},e),n||(n=a.createElement("path",{fill:"currentColor",d:"M7.096 8c.315 0 .596-.141.785-.363a1 1 0 0 0 .207-.157l5.832-5.886a.937.937 0 0 0-.002-1.322l-.004-.004a.925.925 0 0 0-1.308.006l-5.51 5.56-5.51-5.56-.029-.028a.925.925 0 0 0-1.28.022L.274.272l-.028.03a.94.94 0 0 0 .027 1.292L6.104 7.48l.03.029a1 1 0 0 0 .177.128A1.03 1.03 0 0 0 7.096 8"})))}},1072:function(e,t,r){Promise.resolve().then(r.bind(r,63338))},64798:function(e,t,r){var n=r(28302),a=r(11121),i=r(6660),o=Math.max,s=Math.min;e.exports=function(e,t,r){var l,c,d,u,m,f,p=0,g=!1,x=!1,h=!0;if("function"!=typeof e)throw TypeError("Expected a function");function v(t){var r=l,n=c;return l=c=void 0,p=t,u=e.apply(n,r)}function w(e){var r=e-f,n=e-p;return void 0===f||r>=t||r<0||x&&n>=d}function j(){var e,r,n,i=a();if(w(i))return Z(i);m=setTimeout(j,(e=i-f,r=i-p,n=t-e,x?s(n,d-r):n))}function Z(e){return(m=void 0,h&&l)?v(e):(l=c=void 0,u)}function b(){var e,r=a(),n=w(r);if(l=arguments,c=this,f=r,n){if(void 0===m)return p=e=f,m=setTimeout(j,t),g?v(e):u;if(x)return clearTimeout(m),m=setTimeout(j,t),v(f)}return void 0===m&&(m=setTimeout(j,t)),u}return t=i(t)||0,n(r)&&(g=!!r.leading,d=(x="maxWait"in r)?o(i(r.maxWait)||0,t):d,h="trailing"in r?!!r.trailing:h),b.cancel=function(){void 0!==m&&clearTimeout(m),p=0,l=f=c=m=void 0},b.flush=function(){return void 0===m?u:Z(a())},b}},11121:function(e,t,r){var n=r(74288);e.exports=function(){return n.Date.now()}},63338:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return A}});var n=r(57437),a=r(97235),i=r(27635),o=r(38435),s=r(74439),l=r(20605),c=r(65435),d=r(30648),u=r(64798),m=r.n(u),f=r(2265),p=r(83123),g=r(43949),x=r(22928),h=r(6178),v=r(95665),w=r(97644),j=r(53335),Z=r(66577),b=r(11340),N=r(71549),y=r(79787),R=r(72790),T=r(54740),E=r(48423),L=r(99376),k=r(72917),P=r(59365);function C(e){var t,r;let a=(0,L.useRouter)(),{t:i}=(0,g.$G)(["common","dao"]),o=(0,h.T)(),u=(0,h.C)(e=>e.dao),[Z,b]=f.useState("");(0,k.Z)(void 0,{autoTrigger:!0,autoUpdateTokenInfo:!0});let[N,y]=f.useState(null===(t=u.nodeListFilters.selectedDao)||void 0===t?void 0:t.address),R=m()(e=>{o(v.Z.slice.actions.updateRewardRecordTempKeyword(e))},20);function T(){u.rewardRecord.tempKeyword!==u.rewardRecord.filters.keyword&&o(v.Z.slice.actions.updateRewardRecordFilters({...u.rewardRecord.filters,keyword:u.rewardRecord.tempKeyword}))}function E(e){var t,r;function n(e){a.abort(e)}let a=new AbortController,c=u.rewardRecord.tableData;if(!e.restart&&c.isLoading||!N)return{promise:Promise.resolve(),cancel:n};let d=e.restart?1:null!==(t=e.page)&&void 0!==t?t:c.pageIndex+1;return o(v.Z.slice.actions.updateRewardRecordTable({...c,isLoading:!0})),{promise:new x.Z().getOtherRewardRecordList({daoAddress:N,keyword:null!==(r=u.rewardRecord.filters.keyword)&&void 0!==r?r:void 0,signal:a.signal,page:d,pageSize:c.pageSize}).then(e=>{var t;if(e.hasError())throw Error(e.getError().msg);let r=e.getData().toJSON(),n=null!==(t=e.getTotalPage())&&void 0!==t?t:c.total,a=0===e.getTotalPage()||0===r.data.length||r.data.length<c.pageSize,i=[...r.data];b(s.Z.dateFormat(new Date(r.updateTime),"yyyy/MM/dd HH:mm:ss")),o(v.Z.slice.actions.updateRewardRecordTable({...c,pageIndex:d,isLoading:!1,total:n,isEnd:a,data:i}))}).catch(e=>{l.Z.canBeIgnore(e)||(0,p.L6)(new p.HU(e,i("Error in get reward record list")).asToastMessage())}),cancel:n}}function P(){o(v.Z.slice.actions.clearRewardRecordTableData()),f.startTransition(async()=>{await E({restart:!0}).promise})}return f.useEffect(()=>{if(u.rewardRecord.tableData.isLoading||!N)return;let e=s.Z.sleepForAnimationFrame(16);return e.promise.then(P),()=>{e.cancel(l.Z.ReactError.useEffectDestroy())}},[u.rewardRecord.filters,N]),f.useEffect(()=>{var e,t;if(null===(e=u.nodeListFilters.selectedDao)||void 0===e?void 0:e.address)return y(null===(t=u.nodeListFilters.selectedDao)||void 0===t?void 0:t.address);let r=new URLSearchParams(location.search).get(v.Z.Params.DAO_ADDRESS);if(!r)return y(void 0);y(r)},[u.nodeListFilters.selectedDao]),(0,n.jsxs)("div",{className:(0,j.m6)("flex flex-col items-stretch",e.className),children:[(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center my-[30px]",children:[(0,n.jsx)("button",{className:"w-[133px] h-[40px] flex items-center justify-center text-center px-4 py-2 bg-[#050505] border border-[#111111] rounded-lg hover:opactiy-90",onClick:()=>a.back(),children:(0,n.jsx)("span",{className:"bg-gradient-to-r from-primary to-highlight bg-clip-text text-transparent",children:i("dao:Back")})}),(0,n.jsx)("h1",{className:"text-[30px] md:text-[32px] text-white mt-[30px] mb-[8px] font-medium",children:i("dao:RewardRecordsTitle")}),(0,n.jsx)("p",{className:"text-tip text-[14px] mb-[40px]",children:i("common:LastUpdateTime",{time:Z,timezone:s.Z.getFormattedTimeZoneHourOffset()})}),(0,n.jsx)(d.ZP,{className:"w-full md:w-[400px] search-token-bar",placeHolder:i("dao:SearchForAddress"),onInputChange:R,value:null!==(r=u.rewardRecord.tempKeyword)&&void 0!==r?r:"",searchButton:(0,n.jsx)(c.ZP,{size:c.qE.Small,onClick:()=>T(),children:i("Search")}),onConfirm:T})]}),(0,n.jsx)(w.ZP,{pageInfo:{page:u.rewardRecord.tableData.pageIndex,totalPage:u.rewardRecord.tableData.total},onPaginationChange:e=>{let{page:t}=e;return 0===t?{promise:Promise.resolve(),cancel:()=>{}}:E({page:t})},children:(0,n.jsx)(D,{})})]})}function D(){let{t:e}=(0,g.$G)(["common","dao"]),t=(0,h.C)(e=>e.dao),r=N.Q.getTargetNet(),a=[{title:e("dao:Address"),dataIndex:"Address",key:"Address",width:500,align:"left",render:(e,t)=>(0,n.jsx)(R.Z,{horizontalArrangement:b.cV.Start,children:(0,n.jsx)(E.Z,{chainId:r.chainId,address:t.address,text:y.Z.toShort(t.address)})})},{title:e("dao:Reward(Symbol)"),dataIndex:"Reward",key:"Reward",width:500,align:"right",render:(e,r)=>(0,n.jsxs)(R.Z,{horizontalArrangement:b.cV.End,verticalAlignment:b.v2.Center,className:"gap-4 flex-wrap",children:[(0,n.jsx)(T.eO,{value:Number(r.reward),className:"items-center",children:(0,n.jsx)("span",{className:"",children:(0,n.jsx)(P.Z,{className:"w-[15px] h-[15px]"})})}),(0,n.jsx)(T.eO,{value:Number(r.tokenReward),className:"items-center",children:(0,n.jsx)("span",{className:"",children:t.tokenInfo.symbol})})]})}];return(0,n.jsx)("div",{className:"voting-record-table-contain overflow-x-auto",children:(0,n.jsx)(Z.ZP,{rowKey:e=>e.address,emptyText:"",className:"dao-reward-record-table text-center",columns:a,data:t.rewardRecord.tableData.data})})}function A(){return(0,n.jsxs)("div",{className:"overflow-x-hidden ranking-container",children:[(0,n.jsx)(a.Z,{}),(0,n.jsx)(o.Z,{}),(0,n.jsx)(C,{className:"max-w-[var(--detail-content-width)] mx-[20px] md:mx-auto mt-[50px]"}),(0,n.jsx)(i.Z,{})]})}},59365:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(57437);function a(e){var t,r;return(0,n.jsx)("img",{src:"/images/icon-eth.svg",width:null!==(t=e.width)&&void 0!==t?t:20,height:null!==(r=e.height)&&void 0!==r?r:20,alt:"ETH",className:e.className})}},48423:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(57437);r(2265),r(53953);var a=r(22448),i=r(10867),o=r(71549),s=r(53335);function l(e){let{chainId:t,address:r,text:l,children:c,className:d,...u}=e,m=(0,n.jsx)(a.Z,{children:r}),f=new o.Q(t).getAddressUrl(r);return(0,n.jsx)(i.Z,{placement:"top",speaker:m,trigger:"hover",children:(0,n.jsx)("a",{className:(0,s.m6)("component-chain-address-link pointer hover underline",d),href:f,target:"_blank",...u,children:null!=l?l:r})})}},66917:function(e,t,r){"use strict";var n=r(57437),a=r(2265),i=r(71845),o=r(53335);t.Z=a.forwardRef(function(e,t){let{text:r,className:a,...s}=e;return(0,n.jsxs)("p",{ref:t,className:(0,o.m6)("mt-5 text-tip flex justify-center items-center gap-2 component-load-more",a),...s,children:[r," ",(0,n.jsx)(i.Z,{})]})})},52926:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(57437);r(2265),r(75546);var a=r(18030);function i(e){let{text:t,className:r,children:i,...o}=e;return(0,n.jsxs)("div",{className:"component-loading text-secondary text-center ".concat(null!=r?r:""),children:[(0,n.jsx)(a.Z,{className:"icon mx-auto"}),t?(0,n.jsx)("p",{className:"text-tip text-[14px]",children:t}):null,i]})}},97644:function(e,t,r){"use strict";r.d(t,{ZP:function(){return x}});var n=r(57437),a=r(2265),i=r(25103),o=r.n(i),s=r(63671),l=r(10433),c=r(74439),d=r(72525),u=r(72790),m=r(11340),f=r(52926),p=r(20605);r(83123),r(66917),r(41849),r(43949);var g=r(53335);function x(e){var t,r,i;let x=null!==(t=e.needRelocationAfterUpdate)&&void 0!==t&&t,h=null!==(r=e.offsetY)&&void 0!==r?r:-70,v=a.useRef(null),[w,j]=a.useState((0,s.ki)(e.pageInfo)),[Z,b]=a.useTransition();function N(t){let r=e=>{};return e.isLoading||w.isLoading||(j({...w,isLoading:!0,isError:!1}),b(async()=>{let n=e.onPaginationChange({page:t});if(r=n.cancel,await n.promise.catch(e=>{if(p.Z.canBeIgnore(e))return Promise.resolve();l.Z.E(JSON.stringify(e)),j({...w,isLoading:!1,isError:!0})}),j({...w,isLoading:!1,isError:!1}),(null==v?void 0:v.current)&&0!==e.pageInfo.page){if(!x)return;c.Z.sleepForAnimationFrame(16).promise.then(()=>{if(!v.current)return;let e=c.Z.getOffsetTop(v.current)+h;l.Z.I("scroll to y: ",e),c.Z.scrollTo({y:e})})}})),r}return a.useEffect(()=>{let t=c.Z.sleepForAnimationFrame();return t.promise.then(()=>{var t;N(null!==(t=e.pageInfo.page)&&void 0!==t?t:1)}),()=>t.cancel("useEffect callback")},[]),(0,n.jsxs)(d.Z,{className:(0,g.m6)("paginate-table-container",e.className),children:[(0,n.jsxs)(d.Z,{className:"paginate-wrapper w-full",children:[(0,n.jsx)("div",{className:"paginate-content w-full",ref:v,children:e.children}),(0,n.jsxs)(u.Z,{horizontalArrangement:m.cV.Center,verticalAlignment:m.v2.Center,className:"status-contain",children:[Z||e.isLoading||w.isLoading?(0,n.jsx)(f.Z,{children:e.loadingText}):"",e.isLoading||w.isLoading||0!==e.pageInfo.totalPage||!e.emptyText?"":(0,n.jsx)("div",{className:"paginate-table-placeholder",children:e.emptyText})]})]}),e.pageInfo.totalPage>1?(0,n.jsx)("div",{className:"paginate-contain",children:(0,n.jsx)(o(),{className:"flex justify-center items-center",pageCount:null!==(i=e.pageInfo.totalPage)&&void 0!==i?i:0,pageRangeDisplayed:2,marginPagesDisplayed:4,breakLabel:"...",previousLabel:"<",nextLabel:">",onPageChange:e=>N(e.selected+1),renderOnZeroPageCount:null})}):""]})}},30648:function(e,t,r){"use strict";r.d(t,{ZP:function(){return f}});var n,a,i,o,s,l=r(57437),c=r(2265);r(2624);var d=r(94746);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}var m=function(e){return d.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 22 22"},e),i||(i=d.createElement("path",{fill:"currentColor",d:"M21.395 21.395a2.066 2.066 0 0 1-2.922 0l-3.646-3.647a9.57 9.57 0 0 1-5.185 1.535C4.317 19.283 0 14.967 0 9.64S4.317 0 9.642 0a9.64 9.64 0 0 1 9.641 9.641 9.57 9.57 0 0 1-1.534 5.186l3.646 3.646a2.066 2.066 0 0 1 0 2.922M9.643 2.755a6.887 6.887 0 1 0 0 13.774 6.887 6.887 0 0 0 0-13.774"})))};function f(e){let{value:t,children:r,className:n,placeHolder:a,onInputChange:i,searchButton:o,onConfirm:s,...d}=e,u=c.useRef(null),f=o?"button-customize":"button-default";return o=null!=o?o:(0,l.jsx)(m,{className:"icon text-tip",onClick:()=>null==s?void 0:s()}),c.useEffect(()=>{},[]),(0,l.jsxs)("div",{className:"search-bar ".concat(f," ").concat(null!=n?n:""),...d,children:[(0,l.jsx)("input",{ref:u,className:"input",type:"text",placeholder:null!=a?a:"Search",value:null!=t?t:"",onChange:function(e){null==i||i(e.target.value)},onKeyDown:e=>{("Enter"===e.nativeEvent.code||"NumpadEnter"===e.nativeEvent.code)&&(null==s||s())}}),o]})}(n=o||(o={})).NORMAL="normal-size",n.MAX_WIDTH="max-width",(a=s||(s={})).DEFAULT="button-default",a.CUSTOMIZE="button-customize"},41849:function(e,t,r){"use strict";var n=r(57437),a=r(2265),i=r(53335);t.Z=a.forwardRef(function(e,t){var r,a;return(0,n.jsxs)("p",{ref:t,className:(0,i.m6)("my-5 text-tip flex justify-center items-center gap-2 component-text-tip",null!==(r=e.className)&&void 0!==r?r:""),children:[null!==(a=e.text)&&void 0!==a?a:"There‘s nothing more left",e.children]})})},53953:function(){},75546:function(){},2624:function(){}},function(e){e.O(0,[1283,5073,9409,2784,977,4758,6764,3923,3448,3690,9738,5221,6570,6011,4942,9481,1240,2971,2117,1744],function(){return e(e.s=1072)}),_N_E=e.O()}]);