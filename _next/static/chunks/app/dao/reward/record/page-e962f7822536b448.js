(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8296],{71845:function(e,t,a){"use strict";var r,n=a(94746);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(null,arguments)}t.Z=function(e){return n.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:15,height:8,fill:"none"},e),r||(r=n.createElement("path",{fill:"currentColor",d:"M7.096 8c.315 0 .596-.141.785-.363a1 1 0 0 0 .207-.157l5.832-5.886a.937.937 0 0 0-.002-1.322l-.004-.004a.925.925 0 0 0-1.308.006l-5.51 5.56-5.51-5.56-.029-.028a.925.925 0 0 0-1.28.022L.274.272l-.028.03a.94.94 0 0 0 .027 1.292L6.104 7.48l.03.029a1 1 0 0 0 .177.128A1.03 1.03 0 0 0 7.096 8"})))}},32205:function(e,t,a){Promise.resolve().then(a.bind(a,63338))},63338:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var r=a(57437),n=a(97235),s=a(27635),i=a(38435),o=a(74439),l=a(20605),c=a(65435),d=a(30648),u=a(64798),m=a.n(u),f=a(2265),g=a(83123),p=a(43949),x=a(22928),h=a(6178),v=a(95665),w=a(97644),j=a(53335),Z=a(24521),b=a(11340),N=a(71549),y=a(79787),R=a(72790),E=a(54740),L=a(48423),T=a(99376),k=a(72917),P=a(59365);function C(e){var t,a;let n=(0,T.useRouter)(),{t:s}=(0,p.$G)(["common","dao"]),i=(0,h.T)(),u=(0,h.C)(e=>e.dao),[Z,b]=f.useState("");(0,k.Z)(void 0,{autoTrigger:!0,autoUpdateTokenInfo:!0});let[N,y]=f.useState(null===(t=u.nodeListFilters.selectedDao)||void 0===t?void 0:t.address),R=m()(e=>{i(v.Z.slice.actions.updateRewardRecordTempKeyword(e))},20);function E(){u.rewardRecord.tempKeyword!==u.rewardRecord.filters.keyword&&i(v.Z.slice.actions.updateRewardRecordFilters({...u.rewardRecord.filters,keyword:u.rewardRecord.tempKeyword}))}function L(e){var t,a;function r(e){n.abort(e)}let n=new AbortController,c=u.rewardRecord.tableData;if(!e.restart&&c.isLoading||!N)return{promise:Promise.resolve(),cancel:r};let d=e.restart?1:null!==(t=e.page)&&void 0!==t?t:c.pageIndex+1;return i(v.Z.slice.actions.updateRewardRecordTable({...c,isLoading:!0})),{promise:new x.Z().getOtherRewardRecordList({daoAddress:N,keyword:null!==(a=u.rewardRecord.filters.keyword)&&void 0!==a?a:void 0,signal:n.signal,page:d,pageSize:c.pageSize}).then(e=>{var t;if(e.hasError())throw Error(e.getError().msg);let a=e.getData().toJSON(),r=null!==(t=e.getTotalPage())&&void 0!==t?t:c.total,n=0===e.getTotalPage()||0===a.data.length||a.data.length<c.pageSize,s=[...a.data];b(o.Z.dateFormat(new Date(a.updateTime),"yyyy/MM/dd HH:mm:ss")),i(v.Z.slice.actions.updateRewardRecordTable({...c,pageIndex:d,isLoading:!1,total:r,isEnd:n,data:s}))}).catch(e=>{l.Z.canBeIgnore(e)||(0,g.L6)(new g.HU(e,s("Error in get reward record list")).asToastMessage())}),cancel:r}}function P(){i(v.Z.slice.actions.clearRewardRecordTableData()),f.startTransition(async()=>{await L({restart:!0}).promise})}return f.useEffect(()=>{if(u.rewardRecord.tableData.isLoading||!N)return;let e=o.Z.sleepForAnimationFrame(16);return e.promise.then(P),()=>{e.cancel(l.Z.ReactError.useEffectDestroy())}},[u.rewardRecord.filters,N]),f.useEffect(()=>{var e,t;if(null===(e=u.nodeListFilters.selectedDao)||void 0===e?void 0:e.address)return y(null===(t=u.nodeListFilters.selectedDao)||void 0===t?void 0:t.address);let a=new URLSearchParams(location.search).get(v.Z.Params.DAO_ADDRESS);if(!a)return y(void 0);y(a)},[u.nodeListFilters.selectedDao]),(0,r.jsxs)("div",{className:(0,j.m6)("flex flex-col items-stretch",e.className),children:[(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center my-[30px]",children:[(0,r.jsx)("button",{className:"w-[133px] h-[40px] flex items-center justify-center text-center px-4 py-2 bg-[#050505] border border-[#111111] rounded-lg hover:opactiy-90",onClick:()=>n.back(),children:(0,r.jsx)("span",{className:"bg-gradient-to-r from-primary to-highlight bg-clip-text text-transparent",children:s("dao:Back")})}),(0,r.jsx)("h1",{className:"text-[30px] md:text-[32px] text-white mt-[30px] mb-[8px] font-medium",children:s("dao:RewardRecordsTitle")}),(0,r.jsx)("p",{className:"text-tip text-[14px] mb-[40px]",children:s("common:LastUpdateTime",{time:Z,timezone:o.Z.getFormattedTimeZoneHourOffset()})}),(0,r.jsx)(d.ZP,{className:"w-full md:w-[400px] search-token-bar",placeHolder:s("dao:SearchForAddress"),onInputChange:R,value:null!==(a=u.rewardRecord.tempKeyword)&&void 0!==a?a:"",searchButton:(0,r.jsx)(c.ZP,{size:c.qE.Small,onClick:()=>E(),children:s("Search")}),onConfirm:E})]}),(0,r.jsx)(w.ZP,{pageInfo:{page:u.rewardRecord.tableData.pageIndex,totalPage:u.rewardRecord.tableData.total},onPaginationChange:e=>{let{page:t}=e;return 0===t?{promise:Promise.resolve(),cancel:()=>{}}:L({page:t})},children:(0,r.jsx)(A,{})})]})}function A(){let{t:e}=(0,p.$G)(["common","dao"]),t=(0,h.C)(e=>e.dao),a=N.Q.getTargetNet(),n=[{title:e("dao:Address"),dataIndex:"Address",key:"Address",width:500,align:"left",render:(e,t)=>(0,r.jsx)(R.Z,{horizontalArrangement:b.cV.Start,children:(0,r.jsx)(L.Z,{chainId:a.chainId,address:t.address,text:y.Z.toShort(t.address)})})},{title:e("dao:Reward(Symbol)"),dataIndex:"Reward",key:"Reward",width:500,align:"right",render:(e,a)=>(0,r.jsxs)(R.Z,{horizontalArrangement:b.cV.End,verticalAlignment:b.v2.Center,className:"gap-4 flex-wrap",children:[(0,r.jsx)(E.eO,{value:Number(a.reward),className:"items-center",children:(0,r.jsx)("span",{className:"",children:(0,r.jsx)(P.Z,{className:"w-[15px] h-[15px]"})})}),(0,r.jsx)(E.eO,{value:Number(a.tokenReward),className:"items-center",children:(0,r.jsx)("span",{className:"",children:t.tokenInfo.symbol})})]})}];return(0,r.jsx)("div",{className:"voting-record-table-contain overflow-x-auto",children:(0,r.jsx)(Z.ZP,{rowKey:e=>e.address,emptyText:"",className:"dao-reward-record-table text-center",columns:n,data:t.rewardRecord.tableData.data})})}function D(){return(0,r.jsxs)("div",{className:"overflow-x-hidden ranking-container",children:[(0,r.jsx)(n.Z,{}),(0,r.jsx)(i.Z,{}),(0,r.jsx)(C,{className:"max-w-[var(--detail-content-width)] mx-[20px] md:mx-auto mt-[50px]"}),(0,r.jsx)(s.Z,{})]})}},59365:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var r=a(57437);function n(e){var t,a;return(0,r.jsx)("img",{src:"/images/icon-eth.svg",width:null!==(t=e.width)&&void 0!==t?t:20,height:null!==(a=e.height)&&void 0!==a?a:20,alt:"ETH",className:e.className})}},48423:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var r=a(57437);a(2265),a(53953);var n=a(22448),s=a(10867),i=a(71549),o=a(53335);function l(e){let{chainId:t,address:a,text:l,children:c,className:d,...u}=e,m=(0,r.jsx)(n.Z,{children:a}),f=new i.Q(t).getAddressUrl(a);return(0,r.jsx)(s.Z,{placement:"top",speaker:m,trigger:"hover",children:(0,r.jsx)("a",{className:(0,o.m6)("component-chain-address-link pointer hover underline",d),href:f,target:"_blank",...u,children:null!=l?l:a})})}},66917:function(e,t,a){"use strict";var r=a(57437),n=a(2265),s=a(71845),i=a(53335);t.Z=n.forwardRef(function(e,t){let{text:a,className:n,...o}=e;return(0,r.jsxs)("p",{ref:t,className:(0,i.m6)("mt-5 text-tip flex justify-center items-center gap-2 component-load-more",n),...o,children:[a," ",(0,r.jsx)(s.Z,{})]})})},52926:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var r=a(57437);a(2265),a(75546);var n=a(18030);function s(e){let{text:t,className:a,children:s,...i}=e;return(0,r.jsxs)("div",{className:"component-loading text-secondary text-center ".concat(null!=a?a:""),children:[(0,r.jsx)(n.Z,{className:"icon mx-auto"}),t?(0,r.jsx)("p",{className:"text-tip text-[14px]",children:t}):null,s]})}},97644:function(e,t,a){"use strict";a.d(t,{ZP:function(){return x}});var r=a(57437),n=a(2265),s=a(25103),i=a.n(s),o=a(63671),l=a(10433),c=a(74439),d=a(72525),u=a(72790),m=a(11340),f=a(52926),g=a(20605);a(83123),a(66917),a(41849),a(43949);var p=a(53335);function x(e){var t,a,s;let x=null!==(t=e.needRelocationAfterUpdate)&&void 0!==t&&t,h=null!==(a=e.offsetY)&&void 0!==a?a:-70,v=n.useRef(null),[w,j]=n.useState((0,o.ki)(e.pageInfo)),[Z,b]=n.useTransition();function N(t){let a=e=>{};return e.isLoading||w.isLoading||(j({...w,isLoading:!0,isError:!1}),b(async()=>{let r=e.onPaginationChange({page:t});if(a=r.cancel,await r.promise.catch(e=>{if(g.Z.canBeIgnore(e))return Promise.resolve();l.Z.E(JSON.stringify(e)),j({...w,isLoading:!1,isError:!0})}),j({...w,isLoading:!1,isError:!1}),(null==v?void 0:v.current)&&0!==e.pageInfo.page){if(!x)return;c.Z.sleepForAnimationFrame(16).promise.then(()=>{if(!v.current)return;let e=c.Z.getOffsetTop(v.current)+h;l.Z.I("scroll to y: ",e),c.Z.scrollTo({y:e})})}})),a}return n.useEffect(()=>{let t=c.Z.sleepForAnimationFrame();return t.promise.then(()=>{var t;N(null!==(t=e.pageInfo.page)&&void 0!==t?t:1)}),()=>t.cancel("useEffect callback")},[]),(0,r.jsxs)(d.Z,{className:(0,p.m6)("paginate-table-container",e.className),children:[(0,r.jsxs)(d.Z,{className:"paginate-wrapper w-full",children:[(0,r.jsx)("div",{className:"paginate-content w-full",ref:v,children:e.children}),(0,r.jsxs)(u.Z,{horizontalArrangement:m.cV.Center,verticalAlignment:m.v2.Center,className:"status-contain",children:[Z||e.isLoading||w.isLoading?(0,r.jsx)(f.Z,{children:e.loadingText}):"",e.isLoading||w.isLoading||0!==e.pageInfo.totalPage||!e.emptyText?"":(0,r.jsx)("div",{className:"paginate-table-placeholder",children:e.emptyText})]})]}),e.pageInfo.totalPage>1?(0,r.jsx)("div",{className:"paginate-contain",children:(0,r.jsx)(i(),{className:"flex justify-center items-center",pageCount:null!==(s=e.pageInfo.totalPage)&&void 0!==s?s:0,pageRangeDisplayed:2,marginPagesDisplayed:4,breakLabel:"...",previousLabel:"<",nextLabel:">",onPageChange:e=>N(e.selected+1),renderOnZeroPageCount:null})}):""]})}},30648:function(e,t,a){"use strict";a.d(t,{ZP:function(){return f}});var r,n,s,i,o,l=a(57437),c=a(2265);a(2624);var d=a(94746);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(null,arguments)}var m=function(e){return d.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 22 22"},e),s||(s=d.createElement("path",{fill:"currentColor",d:"M21.395 21.395a2.066 2.066 0 0 1-2.922 0l-3.646-3.647a9.57 9.57 0 0 1-5.185 1.535C4.317 19.283 0 14.967 0 9.64S4.317 0 9.642 0a9.64 9.64 0 0 1 9.641 9.641 9.57 9.57 0 0 1-1.534 5.186l3.646 3.646a2.066 2.066 0 0 1 0 2.922M9.643 2.755a6.887 6.887 0 1 0 0 13.774 6.887 6.887 0 0 0 0-13.774"})))};function f(e){let{value:t,children:a,className:r,placeHolder:n,onInputChange:s,searchButton:i,onConfirm:o,...d}=e,u=c.useRef(null),f=i?"button-customize":"button-default";return i=null!=i?i:(0,l.jsx)(m,{className:"icon text-tip",onClick:()=>null==o?void 0:o()}),c.useEffect(()=>{},[]),(0,l.jsxs)("div",{className:"search-bar ".concat(f," ").concat(null!=r?r:""),...d,children:[(0,l.jsx)("input",{ref:u,className:"input",type:"text",placeholder:null!=n?n:"Search",value:null!=t?t:"",onChange:function(e){null==s||s(e.target.value)},onKeyDown:e=>{("Enter"===e.nativeEvent.code||"NumpadEnter"===e.nativeEvent.code)&&(null==o||o())}}),i]})}(r=i||(i={})).NORMAL="normal-size",r.MAX_WIDTH="max-width",(n=o||(o={})).DEFAULT="button-default",n.CUSTOMIZE="button-customize"},41849:function(e,t,a){"use strict";var r=a(57437),n=a(2265),s=a(53335);t.Z=n.forwardRef(function(e,t){var a,n;return(0,r.jsxs)("p",{ref:t,className:(0,s.m6)("my-5 text-tip flex justify-center items-center gap-2 component-text-tip",null!==(a=e.className)&&void 0!==a?a:""),children:[null!==(n=e.text)&&void 0!==n?n:"There‘s nothing more left",e.children]})})},53953:function(){},75546:function(){},2624:function(){}},function(e){e.O(0,[1283,5073,9409,2784,977,4758,6764,3776,9971,3690,9738,3452,9233,1185,1066,4942,9481,1240,2971,2117,1744],function(){return e(e.s=32205)}),_N_E=e.O()}]);