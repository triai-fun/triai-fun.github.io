(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8296],{32205:function(e,t,r){Promise.resolve().then(r.bind(r,63338))},64798:function(e,t,r){var a=r(28302),n=r(11121),o=r(6660),i=Math.max,s=Math.min;e.exports=function(e,t,r){var d,c,l,u,m,f,x=0,h=!1,p=!1,g=!0;if("function"!=typeof e)throw TypeError("Expected a function");function w(t){var r=d,a=c;return d=c=void 0,x=t,u=e.apply(a,r)}function v(e){var r=e-f,a=e-x;return void 0===f||r>=t||r<0||p&&a>=l}function R(){var e,r,a,o=n();if(v(o))return j(o);m=setTimeout(R,(e=o-f,r=o-x,a=t-e,p?s(a,l-r):a))}function j(e){return(m=void 0,g&&d)?w(e):(d=c=void 0,u)}function b(){var e,r=n(),a=v(r);if(d=arguments,c=this,f=r,a){if(void 0===m)return x=e=f,m=setTimeout(R,t),h?w(e):u;if(p)return clearTimeout(m),m=setTimeout(R,t),w(f)}return void 0===m&&(m=setTimeout(R,t)),u}return t=o(t)||0,a(r)&&(h=!!r.leading,l=(p="maxWait"in r)?i(o(r.maxWait)||0,t):l,g="trailing"in r?!!r.trailing:g),b.cancel=function(){void 0!==m&&clearTimeout(m),x=0,d=f=c=m=void 0},b.flush=function(){return void 0===m?u:j(n())},b}},11121:function(e,t,r){var a=r(74288);e.exports=function(){return a.Date.now()}},63338:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return L}});var a=r(57437),n=r(97235),o=r(27635),i=r(38435),s=r(74439),d=r(20605),c=r(65435),l=r(30648),u=r(64798),m=r.n(u),f=r(2265),x=r(83123),h=r(43949),p=r(22928),g=r(6178),w=r(95665),v=r(97644),R=r(53335),j=r(24521),b=r(11340),Z=r(3682),y=r(79787),N=r(72790),T=r(54740),k=r(48423),D=r(99376),E=r(72917),S=r(59365);function P(e){var t,r;let n=(0,D.useRouter)(),{t:o}=(0,h.$G)(["common","dao"]),i=(0,g.T)(),u=(0,g.C)(e=>e.dao),[j,b]=f.useState("");(0,E.Z)(void 0,{autoTrigger:!0,autoUpdateTokenInfo:!0});let[Z,y]=f.useState(null===(t=u.nodeListFilters.selectedDao)||void 0===t?void 0:t.address),N=m()(e=>{i(w.Z.slice.actions.updateRewardRecordTempKeyword(e))},20);function T(){u.rewardRecord.tempKeyword!==u.rewardRecord.filters.keyword&&i(w.Z.slice.actions.updateRewardRecordFilters({...u.rewardRecord.filters,keyword:u.rewardRecord.tempKeyword}))}function k(e){var t,r;function a(e){n.abort(e)}let n=new AbortController,c=u.rewardRecord.tableData;if(!e.restart&&c.isLoading||!Z)return{promise:Promise.resolve(),cancel:a};let l=e.restart?1:null!==(t=e.page)&&void 0!==t?t:c.pageIndex+1;return i(w.Z.slice.actions.updateRewardRecordTable({...c,isLoading:!0})),{promise:new p.Z().getOtherRewardRecordList({daoAddress:Z,keyword:null!==(r=u.rewardRecord.filters.keyword)&&void 0!==r?r:void 0,signal:n.signal,page:l,pageSize:c.pageSize}).then(e=>{var t;if(e.hasError())throw Error(e.getError().msg);let r=e.getData().toJSON(),a=null!==(t=e.getTotalPage())&&void 0!==t?t:c.total,n=0===e.getTotalPage()||0===r.data.length||r.data.length<c.pageSize,o=[...r.data];b(s.Z.dateFormat(new Date(r.updateTime),"yyyy/MM/dd HH:mm:ss")),i(w.Z.slice.actions.updateRewardRecordTable({...c,pageIndex:l,isLoading:!1,total:a,isEnd:n,data:o}))}).catch(e=>{d.Z.canBeIgnore(e)||(0,x.L6)(new x.HU(e,o("Error in get reward record list")).asToastMessage())}),cancel:a}}function S(){i(w.Z.slice.actions.clearRewardRecordTableData()),f.startTransition(async()=>{await k({restart:!0}).promise})}return f.useEffect(()=>{if(u.rewardRecord.tableData.isLoading||!Z)return;let e=s.Z.sleepForAnimationFrame(16);return e.promise.then(S),()=>{e.cancel(d.Z.ReactError.useEffectDestroy())}},[u.rewardRecord.filters,Z]),f.useEffect(()=>{var e,t;if(null===(e=u.nodeListFilters.selectedDao)||void 0===e?void 0:e.address)return y(null===(t=u.nodeListFilters.selectedDao)||void 0===t?void 0:t.address);let r=new URLSearchParams(location.search).get(w.Z.Params.DAO_ADDRESS);if(!r)return y(void 0);y(r)},[u.nodeListFilters.selectedDao]),(0,a.jsxs)("div",{className:(0,R.m6)("flex flex-col items-stretch",e.className),children:[(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center my-[30px]",children:[(0,a.jsx)("button",{className:"w-[133px] h-[40px] flex items-center justify-center text-center px-4 py-2 bg-[#050505] border border-[#111111] rounded-lg hover:opactiy-90",onClick:()=>n.back(),children:(0,a.jsx)("span",{className:"bg-gradient-to-r from-primary to-highlight bg-clip-text text-transparent",children:o("dao:Back")})}),(0,a.jsx)("h1",{className:"text-[30px] md:text-[32px] text-white mt-[30px] mb-[8px] font-medium",children:o("dao:RewardRecordsTitle")}),(0,a.jsx)("p",{className:"text-tip text-[14px] mb-[40px]",children:o("common:LastUpdateTime",{time:j,timezone:s.Z.getFormattedTimeZoneHourOffset()})}),(0,a.jsx)(l.ZP,{className:"w-full md:w-[400px] search-token-bar",placeHolder:o("dao:SearchForAddress"),onInputChange:N,value:null!==(r=u.rewardRecord.tempKeyword)&&void 0!==r?r:"",searchButton:(0,a.jsx)(c.ZP,{size:c.qE.Small,onClick:()=>T(),children:o("Search")}),onConfirm:T})]}),(0,a.jsx)(v.ZP,{pageInfo:{page:u.rewardRecord.tableData.pageIndex,totalPage:u.rewardRecord.tableData.total},onPaginationChange:e=>{let{page:t}=e;return 0===t?{promise:Promise.resolve(),cancel:()=>{}}:k({page:t})},children:(0,a.jsx)(A,{})})]})}function A(){let{t:e}=(0,h.$G)(["common","dao"]),t=(0,g.C)(e=>e.dao),r=Z.Q.getTargetNet(),n=[{title:e("dao:Address"),dataIndex:"Address",key:"Address",width:500,align:"left",render:(e,t)=>(0,a.jsx)(N.Z,{horizontalArrangement:b.cV.Start,children:(0,a.jsx)(k.Z,{chainId:r.chainId,address:t.address,text:y.Z.toShort(t.address)})})},{title:e("dao:Reward(Symbol)"),dataIndex:"Reward",key:"Reward",width:500,align:"right",render:(e,r)=>(0,a.jsxs)(N.Z,{horizontalArrangement:b.cV.End,verticalAlignment:b.v2.Center,className:"gap-4 flex-wrap",children:[(0,a.jsx)(T.eO,{value:Number(r.reward),className:"items-center",children:(0,a.jsx)("span",{className:"",children:(0,a.jsx)(S.Z,{className:"w-[15px] h-[15px]"})})}),(0,a.jsx)(T.eO,{value:Number(r.tokenReward),className:"items-center",children:(0,a.jsx)("span",{className:"",children:t.tokenInfo.symbol})})]})}];return(0,a.jsx)("div",{className:"voting-record-table-contain overflow-x-auto",children:(0,a.jsx)(j.ZP,{rowKey:e=>e.address,emptyText:"",className:"dao-reward-record-table text-center",columns:n,data:t.rewardRecord.tableData.data})})}function L(){return(0,a.jsxs)("div",{className:"overflow-x-hidden ranking-container",children:[(0,a.jsx)(n.Z,{}),(0,a.jsx)(i.Z,{}),(0,a.jsx)(P,{className:"max-w-[var(--detail-content-width)] mx-[20px] md:mx-auto mt-[50px]"}),(0,a.jsx)(o.Z,{})]})}},59365:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var a=r(57437);function n(e){var t,r;return(0,a.jsx)("img",{src:"/images/icon-eth.svg",width:null!==(t=e.width)&&void 0!==t?t:20,height:null!==(r=e.height)&&void 0!==r?r:20,alt:"ETH",className:e.className})}},48423:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var a=r(57437);r(2265),r(53953);var n=r(22448),o=r(10867),i=r(3682),s=r(53335);function d(e){let{chainId:t,address:r,text:d,children:c,className:l,...u}=e,m=(0,a.jsx)(n.Z,{children:r}),f=new i.Q(t).getAddressUrl(r);return(0,a.jsx)(o.Z,{placement:"top",speaker:m,trigger:"hover",children:(0,a.jsx)("a",{className:(0,s.m6)("component-chain-address-link pointer hover underline",l),href:f,target:"_blank",...u,children:null!=d?d:r})})}},53953:function(){}},function(e){e.O(0,[1283,5073,9409,2784,977,4758,6764,1365,3448,1707,9738,4521,6570,6011,4942,9481,1240,9816,2971,2117,1744],function(){return e(e.s=32205)}),_N_E=e.O()}]);