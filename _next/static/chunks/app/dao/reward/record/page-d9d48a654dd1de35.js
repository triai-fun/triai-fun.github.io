(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8296],{71845:function(e,t,n){"use strict";var a,r=n(94746);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}t.Z=function(e){return r.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:15,height:8,fill:"none"},e),a||(a=r.createElement("path",{fill:"currentColor",d:"M7.096 8c.315 0 .596-.141.785-.363a1 1 0 0 0 .207-.157l5.832-5.886a.937.937 0 0 0-.002-1.322l-.004-.004a.925.925 0 0 0-1.308.006l-5.51 5.56-5.51-5.56-.029-.028a.925.925 0 0 0-1.28.022L.274.272l-.028.03a.94.94 0 0 0 .027 1.292L6.104 7.48l.03.029a1 1 0 0 0 .177.128A1.03 1.03 0 0 0 7.096 8"})))}},32205:function(e,t,n){Promise.resolve().then(n.bind(n,63338))},7310:function(e,t,n){var a=n(28302),r=n(11121),i=n(6660),o=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,d,u,m,g,f=0,h=!1,p=!1,x=!0;if("function"!=typeof e)throw TypeError("Expected a function");function v(t){var n=l,a=c;return l=c=void 0,f=t,u=e.apply(a,n)}function w(e){var n=e-g,a=e-f;return void 0===g||n>=t||n<0||p&&a>=d}function j(){var e,n,a,i=r();if(w(i))return y(i);m=setTimeout(j,(e=i-g,n=i-f,a=t-e,p?s(a,d-n):a))}function y(e){return(m=void 0,x&&l)?v(e):(l=c=void 0,u)}function N(){var e,n=r(),a=w(n);if(l=arguments,c=this,g=n,a){if(void 0===m)return f=e=g,m=setTimeout(j,t),h?v(e):u;if(p)return clearTimeout(m),m=setTimeout(j,t),v(g)}return void 0===m&&(m=setTimeout(j,t)),u}return t=i(t)||0,a(n)&&(h=!!n.leading,d=(p="maxWait"in n)?o(i(n.maxWait)||0,t):d,x="trailing"in n?!!n.trailing:x),N.cancel=function(){void 0!==m&&clearTimeout(m),f=0,l=g=c=m=void 0},N.flush=function(){return void 0===m?u:y(r())},N}},11121:function(e,t,n){var a=n(74288);e.exports=function(){return a.Date.now()}},63338:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var a=n(57437),r=n(97235),i=n(27635),o=n(38435),s=n(74439),l=n(20605),c=n(65435),d=n(30648),u=n(7310),m=n.n(u),g=n(2265),f=n(83123),h=n(43949),p=n(22928),x=n(6178),v=n(95665),w=n(97644),j=n(53335),y=n(24521),N=n(11340),Z=n(3682),b=n(79787),T=n(72790),R=n(54740),E=n(48423),k=n(99376),L=n(72917),C=n(59365);function P(e){var t,n;let r=(0,k.useRouter)(),{t:i}=(0,h.$G)(["common","dao"]),o=(0,x.T)(),u=(0,x.C)(e=>e.dao),[y,N]=g.useState("");(0,L.Z)(void 0,{autoTrigger:!0,autoUpdateTokenInfo:!0});let[Z,b]=g.useState(null===(t=u.nodeListFilters.selectedDao)||void 0===t?void 0:t.address),T=m()(e=>{o(v.Z.slice.actions.updateRewardRecordTempKeyword(e))},20);function R(){u.rewardRecord.tempKeyword!==u.rewardRecord.filters.keyword&&o(v.Z.slice.actions.updateRewardRecordFilters({...u.rewardRecord.filters,keyword:u.rewardRecord.tempKeyword}))}function E(e){var t,n;function a(e){r.abort(e)}let r=new AbortController,c=u.rewardRecord.tableData;if(!e.restart&&c.isLoading||!Z)return{promise:Promise.resolve(),cancel:a};let d=e.restart?1:null!==(t=e.page)&&void 0!==t?t:c.pageIndex+1;return o(v.Z.slice.actions.updateRewardRecordTable({...c,isLoading:!0})),{promise:new p.Z().getOtherRewardRecordList({daoAddress:Z,keyword:null!==(n=u.rewardRecord.filters.keyword)&&void 0!==n?n:void 0,signal:r.signal,page:d,pageSize:c.pageSize}).then(e=>{var t;if(e.hasError())throw Error(e.getError().msg);let n=e.getData().toJSON(),a=null!==(t=e.getTotalPage())&&void 0!==t?t:c.total,r=0===e.getTotalPage()||0===n.data.length||n.data.length<c.pageSize,i=[...n.data];N(s.Z.dateFormat(new Date(n.updateTime),"yyyy/MM/dd HH:mm:ss")),o(v.Z.slice.actions.updateRewardRecordTable({...c,pageIndex:d,isLoading:!1,total:a,isEnd:r,data:i}))}).catch(e=>{l.Z.canBeIgnore(e)||(0,f.L6)(new f.HU(e,i("Error in get reward record list")).asToastMessage())}),cancel:a}}function C(){o(v.Z.slice.actions.clearRewardRecordTableData()),g.startTransition(async()=>{await E({restart:!0}).promise})}return g.useEffect(()=>{if(u.rewardRecord.tableData.isLoading||!Z)return;let e=s.Z.sleepForAnimationFrame(16);return e.promise.then(C),()=>{e.cancel(l.Z.ReactError.useEffectDestroy())}},[u.rewardRecord.filters,Z]),g.useEffect(()=>{var e,t;if(null===(e=u.nodeListFilters.selectedDao)||void 0===e?void 0:e.address)return b(null===(t=u.nodeListFilters.selectedDao)||void 0===t?void 0:t.address);let n=new URLSearchParams(location.search).get(v.Z.Params.DAO_ADDRESS);if(!n)return b(void 0);b(n)},[u.nodeListFilters.selectedDao]),(0,a.jsxs)("div",{className:(0,j.m6)("flex flex-col items-stretch",e.className),children:[(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center my-[30px]",children:[(0,a.jsx)("button",{className:"w-[133px] h-[40px] flex items-center justify-center text-center px-4 py-2 bg-[#050505] border border-[#111111] rounded-lg hover:opactiy-90",onClick:()=>r.back(),children:(0,a.jsx)("span",{className:"bg-gradient-to-r from-primary to-highlight bg-clip-text text-transparent",children:i("dao:Back")})}),(0,a.jsx)("h1",{className:"text-[30px] md:text-[32px] text-white mt-[30px] mb-[8px] font-medium",children:i("dao:RewardRecordsTitle")}),(0,a.jsx)("p",{className:"text-tip text-[14px] mb-[40px]",children:i("common:LastUpdateTime",{time:y,timezone:s.Z.getFormattedTimeZoneHourOffset()})}),(0,a.jsx)(d.ZP,{className:"w-full md:w-[400px] search-token-bar",placeHolder:i("dao:SearchForAddress"),onInputChange:T,value:null!==(n=u.rewardRecord.tempKeyword)&&void 0!==n?n:"",searchButton:(0,a.jsx)(c.ZP,{size:c.qE.Small,onClick:()=>R(),children:i("Search")}),onConfirm:R})]}),(0,a.jsx)(w.ZP,{pageInfo:{page:u.rewardRecord.tableData.pageIndex,totalPage:u.rewardRecord.tableData.total},onPaginationChange:e=>{let{page:t}=e;return 0===t?{promise:Promise.resolve(),cancel:()=>{}}:E({page:t})},children:(0,a.jsx)(A,{})})]})}function A(){let{t:e}=(0,h.$G)(["common","dao"]),t=(0,x.C)(e=>e.dao),n=Z.Q.getTargetNet(),r=[{title:e("dao:Address"),dataIndex:"Address",key:"Address",width:500,align:"left",render:(e,t)=>(0,a.jsx)(T.Z,{horizontalArrangement:N.cV.Start,children:(0,a.jsx)(E.Z,{chainId:n.chainId,address:t.address,text:b.Z.toShort(t.address)})})},{title:e("dao:Reward(Symbol)"),dataIndex:"Reward",key:"Reward",width:500,align:"right",render:(e,n)=>(0,a.jsxs)(T.Z,{horizontalArrangement:N.cV.End,verticalAlignment:N.v2.Center,className:"gap-4 flex-wrap",children:[(0,a.jsx)(R.eO,{value:Number(n.reward),className:"items-center",children:(0,a.jsx)("span",{className:"",children:(0,a.jsx)(C.Z,{className:"w-[15px] h-[15px]"})})}),(0,a.jsx)(R.eO,{value:Number(n.tokenReward),className:"items-center",children:(0,a.jsx)("span",{className:"",children:t.tokenInfo.symbol})})]})}];return(0,a.jsx)("div",{className:"voting-record-table-contain overflow-x-auto",children:(0,a.jsx)(y.ZP,{rowKey:e=>e.address,emptyText:"",className:"dao-reward-record-table text-center",columns:r,data:t.rewardRecord.tableData.data})})}function S(){return(0,a.jsxs)("div",{className:"overflow-x-hidden ranking-container",children:[(0,a.jsx)(r.Z,{}),(0,a.jsx)(o.Z,{}),(0,a.jsx)(P,{className:"max-w-[var(--detail-content-width)] mx-[20px] md:mx-auto mt-[50px]"}),(0,a.jsx)(i.Z,{})]})}},59365:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(57437);function r(e){var t,n;return(0,a.jsx)("img",{src:"/images/icon-eth.svg",width:null!==(t=e.width)&&void 0!==t?t:20,height:null!==(n=e.height)&&void 0!==n?n:20,alt:"ETH",className:e.className})}},48423:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(57437);n(2265),n(53953);var r=n(22448),i=n(10867),o=n(3682),s=n(53335);function l(e){let{chainId:t,address:n,text:l,children:c,className:d,...u}=e,m=(0,a.jsx)(r.Z,{children:n}),g=new o.Q(t).getAddressUrl(n);return(0,a.jsx)(i.Z,{placement:"top",speaker:m,trigger:"hover",children:(0,a.jsx)("a",{className:(0,s.m6)("component-chain-address-link pointer hover underline",d),href:g,target:"_blank",...u,children:null!=l?l:n})})}},66917:function(e,t,n){"use strict";var a=n(57437),r=n(2265),i=n(71845),o=n(53335);t.Z=r.forwardRef(function(e,t){let{text:n,className:r,...s}=e;return(0,a.jsxs)("p",{ref:t,className:(0,o.m6)("mt-5 text-tip flex justify-center items-center gap-2 component-load-more",r),...s,children:[n," ",(0,a.jsx)(i.Z,{})]})})},52926:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(57437);n(2265),n(75546);var r=n(18030);function i(e){let{text:t,className:n,children:i,...o}=e;return(0,a.jsxs)("div",{className:"component-loading text-secondary text-center ".concat(null!=n?n:""),children:[(0,a.jsx)(r.Z,{className:"icon mx-auto"}),t?(0,a.jsx)("p",{className:"text-tip text-[14px]",children:t}):null,i]})}},97644:function(e,t,n){"use strict";n.d(t,{ZP:function(){return f}});var a=n(57437),r=n(2265),i=n(63671),o=n(10433),s=n(74439),l=n(72525),c=n(72790),d=n(11340),u=n(52926),m=n(20605);n(83123),n(66917),n(41849),n(43949);var g=n(53335);function f(e){var t,n;let f=null!==(t=e.needRelocationAfterUpdate)&&void 0!==t&&t,h=null!==(n=e.offsetY)&&void 0!==n?n:-70,p=r.useRef(null),[x,v]=r.useState((0,i.ki)(e.pageInfo)),[w,j]=r.useTransition(),y=e.pageInfo.page||1,N=e.pageInfo.totalPage||0,Z=r.useRef({isLoading:e.isLoading,emptyText:e.emptyText,loadingText:e.loadingText,onPaginationChange:e.onPaginationChange});function b(t){console.log("changePagination called with page:",t);let n=e=>{};return Z.current.isLoading||x.isLoading?console.log("Loading, cannot change page"):(v({...x,isLoading:!0,isError:!1}),j(async()=>{console.log("Starting page change transition to page:",t);try{let a=Z.current.onPaginationChange({page:t});if(n=a.cancel,await a.promise.catch(e=>{if(m.Z.canBeIgnore(e))return Promise.resolve();o.Z.E(JSON.stringify(e)),v({...x,isLoading:!1,isError:!0})}),console.log("Page change completed successfully"),v({...x,isLoading:!1,isError:!1}),!(null==p?void 0:p.current)||0===e.pageInfo.page||!f)return;s.Z.sleepForAnimationFrame(16).promise.then(()=>{if(!p.current)return;let e=s.Z.getOffsetTop(p.current)+h;o.Z.I("scroll to y: ",e),s.Z.scrollTo({y:e})})}catch(e){console.error("Error in page change:",e)}})),n}r.useEffect(()=>{Z.current={isLoading:e.isLoading,emptyText:e.emptyText,loadingText:e.loadingText,onPaginationChange:e.onPaginationChange}},[e.isLoading,e.emptyText,e.loadingText,e.onPaginationChange]),r.useEffect(()=>{let t=s.Z.sleepForAnimationFrame();return t.promise.then(()=>{var t;b(null!==(t=e.pageInfo.page)&&void 0!==t?t:1)}),()=>t.cancel("useEffect callback")},[]);let T=r.useMemo(()=>{if(N<=5)return Array.from({length:N},(e,t)=>t+1);let e=1;return e=y<=3?1:y>=N-2?N-4:y-2,Array.from({length:5},(t,n)=>e+n)},[y,N]),{showLeftEllipsis:R,showRightEllipsis:E}=r.useMemo(()=>({showLeftEllipsis:N>5&&y>3,showRightEllipsis:N>5&&y<N-2}),[y,N]),k=e=>{console.log("Clicked on page ".concat(e,", current page is ").concat(y)),b(e)};return(0,a.jsxs)(l.Z,{className:(0,g.m6)("paginate-table-container",e.className),children:[(0,a.jsxs)(l.Z,{className:"paginate-wrapper w-full",children:[(0,a.jsx)("div",{className:"paginate-content w-full",ref:p,children:e.children}),(0,a.jsx)("div",{className:"h-[40px] flex justify-center items-center",children:(0,a.jsxs)(c.Z,{horizontalArrangement:d.cV.Center,verticalAlignment:d.v2.Center,className:"status-contain",children:[w||Z.current.isLoading||x.isLoading?(0,a.jsx)(u.Z,{children:Z.current.loadingText}):"",Z.current.isLoading||x.isLoading||0!==N||!Z.current.emptyText?"":(0,a.jsx)("div",{className:"paginate-table-placeholder",children:Z.current.emptyText})]})})]}),N>0&&(0,a.jsx)("div",{className:"paginate-contain",children:(0,a.jsx)("div",{className:"pagination-custom",children:(0,a.jsxs)("ul",{className:"flex items-center",children:[(0,a.jsx)("li",{className:"previous ".concat(y<=1?"disabled":""),children:(0,a.jsx)("a",{onClick:()=>b(Math.max(1,y-1)),children:"<"})}),N<=5?(0,a.jsx)(a.Fragment,{children:Array.from({length:N},(e,t)=>{let n=t+1;return(0,a.jsx)("li",{className:n===y?"selected":"",children:(0,a.jsx)("a",{onClick:()=>k(n),children:n})},n)})}):T.map(e=>(0,a.jsx)("li",{className:e===y?"selected":"",children:(0,a.jsx)("a",{onClick:()=>k(e),children:e})},e)),(0,a.jsx)("li",{className:"pagination-break ".concat(E&&N>5?"":"opacity-0"),children:(0,a.jsx)("a",{className:"pagination-break-link",children:"..."})}),(0,a.jsx)("li",{className:"next ".concat(y>=N?"disabled":""),children:(0,a.jsx)("a",{onClick:()=>b(Math.min(N,y+1)),children:">"})})]})})})]})}},30648:function(e,t,n){"use strict";n.d(t,{ZP:function(){return g}});var a,r,i,o,s,l=n(57437),c=n(2265);n(2624);var d=n(94746);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}var m=function(e){return d.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 22 22"},e),i||(i=d.createElement("path",{fill:"currentColor",d:"M21.395 21.395a2.066 2.066 0 0 1-2.922 0l-3.646-3.647a9.57 9.57 0 0 1-5.185 1.535C4.317 19.283 0 14.967 0 9.64S4.317 0 9.642 0a9.64 9.64 0 0 1 9.641 9.641 9.57 9.57 0 0 1-1.534 5.186l3.646 3.646a2.066 2.066 0 0 1 0 2.922M9.643 2.755a6.887 6.887 0 1 0 0 13.774 6.887 6.887 0 0 0 0-13.774"})))};function g(e){let{value:t,children:n,className:a,placeHolder:r,onInputChange:i,searchButton:o,onConfirm:s,...d}=e,u=c.useRef(null),g=o?"button-customize":"button-default";return o=null!=o?o:(0,l.jsx)(m,{className:"icon text-tip",onClick:()=>null==s?void 0:s()}),c.useEffect(()=>{},[]),(0,l.jsxs)("div",{className:"search-bar ".concat(g," ").concat(null!=a?a:""),...d,children:[(0,l.jsx)("input",{ref:u,className:"input",type:"text",placeholder:null!=r?r:"Search",value:null!=t?t:"",onChange:function(e){null==i||i(e.target.value)},onKeyDown:e=>{("Enter"===e.nativeEvent.code||"NumpadEnter"===e.nativeEvent.code)&&(null==s||s())}}),o]})}(a=o||(o={})).NORMAL="normal-size",a.MAX_WIDTH="max-width",(r=s||(s={})).DEFAULT="button-default",r.CUSTOMIZE="button-customize"},41849:function(e,t,n){"use strict";var a=n(57437),r=n(2265),i=n(53335);t.Z=r.forwardRef(function(e,t){var n,r;return(0,a.jsxs)("p",{ref:t,className:(0,i.m6)("my-5 text-tip flex justify-center items-center gap-2 component-text-tip",null!==(n=e.className)&&void 0!==n?n:""),children:[null!==(r=e.text)&&void 0!==r?r:"There‘s nothing more left",e.children]})})},53953:function(){},75546:function(){},2624:function(){}},function(e){e.O(0,[1283,5073,9409,2784,977,4758,6764,1365,3448,1707,9738,4521,6570,6011,4942,9481,1240,2971,2117,1744],function(){return e(e.s=32205)}),_N_E=e.O()}]);