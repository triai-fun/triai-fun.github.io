(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7210],{37557:function(e,t,n){"use strict";var a,s,i,r,o,l=n(29223);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}t.Z=function(e){return l.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:27,height:30,fill:"none"},e),a||(a=l.createElement("path",{fill:"#E04A48",d:"m6.02 29.793-.88-4.055a.91.91 0 0 0-.764-.444L.418 26.543a.427.427 0 0 1-.36-.64L7.06 13.834a.914.914 0 0 1 1.25-.332l5.115 2.968a.914.914 0 0 1 .332 1.25l-7 12.067a.427.427 0 0 1-.735.005"})),s||(s=l.createElement("path",{fill:"#E04A48",d:"m20.066 29.793.88-4.055a.91.91 0 0 1 .764-.444l3.959 1.249a.427.427 0 0 0 .36-.641l-7.001-12.067a.914.914 0 0 0-1.25-.332l-5.115 2.968a.914.914 0 0 0-.332 1.25l7 12.067c.163.28.568.283.735.005"})),i||(i=l.createElement("path",{fill:"#FCD842",d:"M12.73.094 3.773 4.407a.94.94 0 0 0-.51.64L1.05 14.74a.94.94 0 0 0 .182.797L7.43 23.31a.94.94 0 0 0 .738.355h9.942c.286 0 .558-.13.737-.355l6.198-7.773a.94.94 0 0 0 .182-.798l-2.212-9.692a.94.94 0 0 0-.51-.64L13.548.094a.94.94 0 0 0-.818 0"})),r||(r=l.createElement("path",{fill:"#FFC00E",d:"M4 12.843a8.843 8.843 0 1 0 17.685 0 8.843 8.843 0 0 0-17.685 0"})),o||(o=l.createElement("path",{fill:"#fff",d:"M14.569 8.273V17h-1.846v-6.976h-.05l-2 1.253V9.641l2.161-1.368z"})))}},66413:function(e,t,n){"use strict";var a,s,i,r,o,l=n(29223);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}t.Z=function(e){return l.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:27,height:30,fill:"none"},e),a||(a=l.createElement("path",{fill:"#999",d:"m6.02 29.793-.88-4.055a.91.91 0 0 0-.764-.444L.418 26.543a.427.427 0 0 1-.36-.64L7.06 13.834a.914.914 0 0 1 1.25-.332l5.115 2.968a.914.914 0 0 1 .332 1.25l-7 12.067a.427.427 0 0 1-.735.005"})),s||(s=l.createElement("path",{fill:"#999",d:"m20.066 29.793.88-4.055a.91.91 0 0 1 .764-.444l3.959 1.249a.427.427 0 0 0 .36-.641l-7.001-12.067a.914.914 0 0 0-1.25-.332l-5.115 2.968a.914.914 0 0 0-.332 1.25l7 12.067c.163.28.568.283.735.005"})),i||(i=l.createElement("path",{fill:"#EEE",d:"M12.73.094 3.773 4.407a.94.94 0 0 0-.51.64L1.05 14.74a.94.94 0 0 0 .182.797L7.43 23.31a.94.94 0 0 0 .738.355h9.942c.286 0 .558-.13.737-.355l6.198-7.773a.94.94 0 0 0 .182-.798l-2.212-9.692a.94.94 0 0 0-.51-.64L13.548.094a.94.94 0 0 0-.818 0"})),r||(r=l.createElement("path",{fill:"#CCC",d:"M4.137 12.54a8.843 8.843 0 1 0 17.686 0 8.843 8.843 0 0 0-17.686 0"})),o||(o=l.createElement("path",{fill:"#fff",d:"M9.928 17v-1.33l3.107-2.876q.396-.384.664-.69a2.6 2.6 0 0 0 .414-.601q.14-.299.14-.644 0-.383-.174-.66a1.15 1.15 0 0 0-.478-.43 1.5 1.5 0 0 0-.686-.154q-.4 0-.699.162a1.1 1.1 0 0 0-.46.465 1.5 1.5 0 0 0-.162.72H9.843q0-.857.388-1.488a2.6 2.6 0 0 1 1.086-.975q.699-.346 1.611-.346.938 0 1.632.333a2.6 2.6 0 0 1 1.087.912q.388.584.388 1.338 0 .495-.196.976-.192.48-.687 1.07-.493.583-1.393 1.401l-1.274 1.249v.06h3.665V17z"})))}},85378:function(e,t,n){"use strict";var a,s,i,r,o,l=n(29223);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}t.Z=function(e){return l.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:27,height:30,fill:"none"},e),a||(a=l.createElement("path",{fill:"#6A3615",d:"m6.02 29.793-.88-4.055a.91.91 0 0 0-.764-.444L.418 26.543a.427.427 0 0 1-.36-.64L7.06 13.834a.914.914 0 0 1 1.25-.332l5.115 2.968a.914.914 0 0 1 .332 1.25l-7 12.067a.427.427 0 0 1-.735.005"})),s||(s=l.createElement("path",{fill:"#6A3615",d:"m20.066 29.793.88-4.055a.91.91 0 0 1 .764-.444l3.959 1.249a.427.427 0 0 0 .36-.641l-7.001-12.067a.914.914 0 0 0-1.25-.332l-5.115 2.968a.914.914 0 0 0-.332 1.25l7 12.067c.163.28.568.283.735.005"})),i||(i=l.createElement("path",{fill:"#824520",d:"M12.73.094 3.773 4.407a.94.94 0 0 0-.51.64L1.05 14.74a.94.94 0 0 0 .182.797L7.43 23.31a.94.94 0 0 0 .738.355h9.942c.286 0 .558-.13.737-.355l6.198-7.773a.94.94 0 0 0 .182-.798l-2.212-9.692a.94.94 0 0 0-.51-.64L13.548.094a.94.94 0 0 0-.818 0"})),r||(r=l.createElement("path",{fill:"#723510",d:"M4.137 12.54a8.843 8.843 0 1 0 17.686 0 8.843 8.843 0 0 0-17.686 0"})),o||(o=l.createElement("path",{fill:"#fff",d:"M12.978 17.12q-.954 0-1.7-.329-.741-.331-1.172-.912a2.3 2.3 0 0 1-.439-1.346h1.858a.97.97 0 0 0 .209.562q.196.24.52.37.324.133.728.133.422 0 .746-.15.324-.148.507-.412.183-.265.184-.61a1.02 1.02 0 0 0-.197-.618 1.25 1.25 0 0 0-.553-.426 2.2 2.2 0 0 0-.853-.153h-.814v-1.355h.814q.418 0 .737-.145.324-.145.503-.4a1.04 1.04 0 0 0 .18-.606 1.05 1.05 0 0 0-.593-.967q-.277-.14-.648-.14-.374 0-.686.135a1.2 1.2 0 0 0-.498.38 1 1 0 0 0-.2.58H9.84q.015-.756.431-1.33a2.8 2.8 0 0 1 1.125-.9q.712-.328 1.607-.328.903 0 1.58.329.678.328 1.053.886.38.554.375 1.244.005.733-.456 1.223-.456.49-1.189.622v.069q.963.123 1.466.669.507.54.503 1.355.005.746-.43 1.325-.43.579-1.19.912-.757.333-1.738.332"})))}},78490:function(e,t,n){Promise.resolve().then(n.bind(n,51048))},51048:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Y}});var a=n(37821),s=n(46440),i=n(38279),r=n(19586),o=n(97899),l=n(52650),d=n(31638),u=n(65521),c=n(36051),p=n(5038),m=n(42132),v=n(2321),f=n(58078),x=n(12377),y=n(79819),h=n(52574),w=n(21441),T=n(60616),g=n(48616),N=n(55952),b=n(66773);function j(e){var t,n,s,i,r,o,l,j,C;let R=(0,p.T)(),{t:I}=(0,u.$G)(["dao"]),k=(0,p.C)(e=>e.global),E=(0,p.C)(e=>e.dao),D=c.Q.getTargetNet(),Z=null!==(l=null===(t=E.daoCurrentRoundInfo)||void 0===t?void 0:t.roundExpire)&&void 0!==l?l:-1,S=0!==Z&&Z<=k.currentTime,M=m.Z.convertTimeDifference(new Date(Z-k.currentTime),{includeDays:!1}),A=v.Z.Time.fromJSTimestamp(null!==(j=null===(n=E.daoContractInfo)||void 0===n?void 0:n.roundDurationAdd)&&void 0!==j?j:0n),[_,L]=f.useState(!1);async function O(){var e;if(!(null===(e=E.nodeListFilters.selectedDao)||void 0===e?void 0:e.address))throw Error(I("NoSelectedDao"));let t="0x7CFA99eE55D07214cdD8E5A38501e0C087d212a4";if(!t)throw Error(I("NoDaoFactoryAddress"));let n=h.lf.connect(t,c.Q.getDefaultProvider()),a=n.filters.Vote(E.nodeListFilters.selectedDao.address);return n.off(a),n.on(a,e=>{var t;let n;let[a,s,i,r,o]=e.args;T.Z.I("Vote event",{dao:a,voter:s,votedNode:i,amount:r,timestamp:o}),null===(t=E.nodeListFilters.selectedDao)||void 0===t||t.address,R(w.Z.slice.actions.updateRecentVoteInfoToDao([{address:s,voteEth:Number(g.Z.wei2eth(r))}])),m.Z.sleepForAnimationFrame(new v.Z.Milliseconds(500)).promise.then(()=>(L(!0),m.Z.sleepForAnimationFrame(new v.Z.Seconds(5)).promise)).finally(()=>{L(!1)})}),{cancel:e=>{n.off(a)}}}return f.useEffect(()=>{var e;if(null===(e=E.daoCurrentRoundInfo)||void 0===e?void 0:e.roundExpire)return()=>{}},[null===(s=E.daoCurrentRoundInfo)||void 0===s?void 0:s.roundExpire]),f.useEffect(()=>{var e,t;let n,a;if(!(null===(e=E.nodeListFilters.selectedDao)||void 0===e?void 0:e.address))return;let s=[],i=(n=Promise.resolve(0),a=e=>{},(null===(t=E.nodeListFilters.selectedDao)||void 0===t?void 0:t.address)&&new N.Z().getVotingRecords({daoAddress:E.nodeListFilters.selectedDao.address,page:1,pageSize:5}).then(e=>{var t;R(w.Z.slice.actions.initRecentVoteInfoToDao((null!==(t=e.getData())&&void 0!==t?t:[]).map(e=>({address:e.userAddress.unwrap(),voteEth:Number(e.voteAmount)}))))}),{promise:n,cancel:a});return s.push(i.cancel),i.promise.then(async()=>{let e=await O();s.push(e.cancel)}),()=>{s.forEach(e=>e(y.Z.ReactError.useEffectDestroy())),R(w.Z.slice.actions.clearRecentVoteInfoToDao()),L(!1)}},[null===(i=E.nodeListFilters.selectedDao)||void 0===i?void 0:i.address]),(0,a.jsx)("div",{className:(0,d.m6)("flex flex-col items-stretch bg-[#050505] border border-[#666666] rounded-lg p-5",e.className),children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center text-[14px] gap-[20px] md:gap-1",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 items-center md:items-start",children:[(0,a.jsx)("h3",{className:"text-white text-lg font-bold",children:null!==(C=null===(r=E.daoContractInfo)||void 0===r?void 0:r.name)&&void 0!==C?C:"DAO"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-white",children:[I("CurrentStatus"),":"]}),(0,a.jsx)("span",{className:"bg-gradient-to-r from-[#E700E6] to-[#4B4BDF] bg-clip-text text-transparent",children:S?I("VotingEnd"):I("VotingInProgress")})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-white",children:[I("VotingCountdown"),":"]}),(0,a.jsx)("span",{className:(0,d.m6)("text-[#44B72D] text-2xl font-bold ",_&&0!==M?"zoom-in-and-out-blink-animation":""),children:0!==Z?S||0===M?"00:00:00":M.toFormated():"--:--:--"})]}),(0,a.jsx)("div",{className:"bg-black border border-[#666666] rounded-lg p-4",children:null===(o=E.recentVoteInfoToDao)||void 0===o?void 0:o.filter((e,t)=>t<5).map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between items-center gap-2 md:gap-4 text-white text-[12px] md:text-sm",children:[(0,a.jsx)("span",{className:"w-[93px]",children:x.Z.toShort(e.address)}),(0,a.jsxs)("div",{className:"flex-[2_0_0] flex justify-between gap-1 md:gap-2",children:[(0,a.jsx)("span",{children:"â†‘"}),(0,a.jsx)(b.eO,{value:e.voteEth}),(0,a.jsx)("span",{children:D.nativeCurrency.symbol})]}),(0,a.jsxs)("span",{className:"flex-[1_0_0] text-right",children:[" +",A.toHours(),I("timeUnit")]})]},t))})]})})}var C=n(40647),R=n(79229),I=n(93181),k=n(6677),E=n(60543);function D(e){let{t}=(0,u.$G)(["dao"]);c.Q.getTargetNet();let n=(e,n,s)=>(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("h3",{className:"text-white text-[14px] font-semibold mb-2",children:e}),(0,a.jsxs)("div",{className:"bg-black border border-[#111111] rounded-[8px] overflow-hidden min-w-[400px]",children:[(0,a.jsxs)("div",{className:"grid grid-cols-[60px_0.8fr_80px_80px] gap-2 p-2 bg-[#111111] text-[#999999] text-[12px] font-medium",children:[(0,a.jsx)("span",{className:"text-center whitespace-nowrap",children:t("rankingTitle")}),(0,a.jsx)("span",{className:"text-center whitespace-nowrap",children:t("userTitle")}),(0,a.jsx)("span",{className:"text-center whitespace-nowrap",children:t("rewardTitle")}),(0,a.jsx)("span",{className:"text-center whitespace-nowrap",children:t("Status")})]}),n.length>0?n.map((e,n)=>(0,a.jsxs)("div",{className:(0,d.m6)("grid grid-cols-[60px_0.8fr_80px_80px] gap-2 p-2 text-[12px] border-b border-[#222222] last:border-b-0",n%2==0?"bg-[#0A0A0A]":"bg-black"),children:[(0,a.jsxs)("span",{className:"text-center text-white font-semibold",children:["#",e.rank+1]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(C.Z,{address:e.address,text:x.Z.toShort(e.address),className:"text-[#4E97FF] text-[12px]"})}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,a.jsx)("span",{className:"text-white text-[12px]",children:(0,a.jsx)(b.eO,{value:Number(g.Z.wei2eth(e.reward)),useSub:!0})}),(0,a.jsx)(E.Z,{className:"w-3 h-3"})]})}),(0,a.jsx)("span",{className:(0,d.m6)("text-center text-[12px] font-medium",e.isWithdrawed?"text-[#44B72D]":"text-[#FF6B6B]"),children:e.isWithdrawed?t("Claimed"):t("Unclaimed")})]},n)):(0,a.jsx)("div",{className:"p-4 text-center text-[#999999] text-[14px]",children:t("NoData")})]})]});return(0,a.jsxs)(k.Z,{isOpen:e.isOpen,onRequestClose:e.onRequestClose,showCloseButton:!1,size:"normal",className:"max-h-[80vh] overflow-y-auto relative",children:[(0,a.jsx)("button",{onClick:e.onRequestClose,className:"absolute top-4 right-4 z-10 w-6 h-6 flex items-center justify-center text-[#999999] hover:text-white transition-colors",children:(0,a.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:(0,a.jsx)("path",{d:"M1 1L13 13M1 13L13 1",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsx)("div",{className:"flex flex-col gap-1 min-w-fit",children:e.loading?(0,a.jsx)("div",{className:"flex justify-center items-center py-4",children:(0,a.jsxs)("div",{className:"text-[#999999] text-[14px]",children:[t("Loading"),"..."]})}):e.data?(0,a.jsxs)(a.Fragment,{children:[("vote"===e.displayType||"both"===e.displayType||!e.displayType)&&n(t("PreviousVoteRankingTitle"),e.data.previousVoteRanking,e.data.pools.voteRankPool),("node"===e.displayType||"both"===e.displayType||!e.displayType)&&n(t("PreviousNodeRankingTitle"),e.data.previousNodeRanking,e.data.pools.communityPool)]}):(0,a.jsx)("div",{className:"text-center text-[#999999] text-[14px] py-4",children:t("FailedToLoadData")})})})]})}function Z(e){var t,n;let s=(0,p.C)(e=>e.dao),{t:i}=(0,u.$G)(["dao"]),r=(0,p.C)(e=>e.global),o=c.Q.getTargetNet(),l=f.useRef(null),[m,v]=f.useState(!1),[y,h]=f.useState(null),[w,g]=f.useState(!1),j=(()=>{var e,t;let n=null!==(t=null===(e=s.daoContractInfo)||void 0===e?void 0:e.createTime)&&void 0!==t?t:0,a=Math.floor(r.currentTime/1e3),i=86400*Math.floor(Math.floor(n/1e3)/86400),o=i+604800*Math.floor((a-i)/604800)+604800-a;if(o<=0)return"00:00:00";let l=Math.floor(o/3600).toString().padStart(2,"0"),d=Math.floor(o%3600/60).toString().padStart(2,"0"),u=Math.floor(o%60).toString().padStart(2,"0");return"".concat(l,":").concat(d,":").concat(u)})(),k=null!==(n=null===(t=s.daoCurrentRoundInfo)||void 0===t?void 0:t.roundExpire)&&void 0!==n?n:0,E=async()=>{var e;if(null===(e=s.daoContractInfo)||void 0===e?void 0:e.daoAddress){v(!0),g(!0);try{let e=new N.Z,t=await e.getPreviousRoundTop3Info(s.daoContractInfo.daoAddress);h(t)}catch(e){T.Z.E("Failed to load previous round top3 info:",e),h(null)}finally{g(!1)}}};return(0,a.jsxs)("div",{className:(0,d.m6)("bg-[#050505] border border-[#666666] rounded-lg p-5",e.className),children:[(0,a.jsxs)("h2",{className:"text-lg text-white mb-2 flex items-center relative gap-2",ref:l,children:[e.title,(0,a.jsx)(I.Z,{whisperProps:{placement:"bottom"},targetContain:l.current,className:"static",tooltipClassName:"mt-[-35px] pointer-events-all",children:(0,a.jsx)("p",{className:"text-[#999999] text-sm mb-4",children:e.description})}),e.showPreviousRoundIcon&&(0,a.jsx)("button",{onClick:E,className:"ml-2 p-1 rounded-full hover:bg-[#333333] transition-colors duration-200 group",title:i("ViewPreviousRoundTop3"),children:(0,a.jsx)("svg",{className:"w-4 h-4 text-[#999999] group-hover:text-white transition-colors duration-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.node&&j&&k>0&&k>r.currentTime&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 text-lg ml-auto",children:[(0,a.jsxs)("span",{className:"text-[#D9D9D9]",children:[i("Countdown"),": "]}),(0,a.jsx)("span",{className:"text-gradient",children:j})]})]}),(0,a.jsx)("div",{className:"bg-black border border-[#666666] rounded-lg p-4 mb-4",children:(0,a.jsxs)("div",{className:"flex justify-center items-center gap-1 text-[#D9D9D9] text-lg",children:[i("TotalRewards"),":",(0,a.jsxs)("span",{className:"text-white flex items-center gap-1",children:[(0,a.jsx)(b.eO,{value:e.totalRewards,valueClassName:"text-gradient"}),o.nativeCurrency.symbol]})]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-[1fr_3fr_1fr_2fr] justify-between text-sm text-[#999999]",children:[(0,a.jsx)("span",{children:i("rankingTitle")}),(0,a.jsx)("span",{className:"text-center",children:i("userTitle")}),(0,a.jsx)("span",{className:"text-center",children:i("votesTitle")}),(0,a.jsx)("span",{className:"text-right",children:i("rewardTitle")})]}),[e.topVoter?[{...e.topVoter,marked:!0}]:[],e.voters].flat().map((e,t)=>(0,a.jsxs)("div",{className:(0,d.m6)("grid grid-cols-[1fr_3fr_1fr_2fr] items-center p-3 rounded-lg",e.marked&&"bg-gradient-to-r from-[#E700E6] to-[#4B4BDF]"),children:[(0,a.jsx)("span",{className:"rank",children:e.rank?(0,a.jsx)(R.Z,{rank:e.rank,className:"text-center w-[27px]"}):"-"}),(0,a.jsx)("div",{className:"flex justify-center items-center text-center gap-2",children:(0,a.jsx)("span",{className:"text-white",children:e.address?(0,a.jsx)(C.Z,{address:e.address,text:x.Z.toShort(e.address)}):"-"})}),(0,a.jsx)("span",{className:"text-white item-center text-center",children:e.votes?(0,a.jsx)(b.eO,{value:e.votes}):"-"}),(0,a.jsx)("span",{className:"text-white justify-end text-right",children:e.reward?(0,a.jsx)(b.eO,{className:"justify-end mr-0",value:e.reward,useSub:!0}):"-"})]},t))]}),(0,a.jsx)(D,{isOpen:m,onRequestClose:()=>v(!1),data:y,loading:w,displayType:e.previousRoundType||"both"})]})}function S(e){var t,n,s,i,r,o;let{t:c}=(0,u.$G)(["dao"]),m=(0,p.C)(e=>e.dao),f=(0,p.C)(e=>e.user),x={...null!==(s=m.userRankInfo.find(e=>e.rewardType===l.r.RankRewardType.LUCKY_REWARD))&&void 0!==s?s:{address:f.ethInfo.walletAddress},reward:m.userRewardInfo.luckyReward.toNumber()};return(0,a.jsx)(Z,{className:(0,d.m6)("",e.className),title:c("RewardRankTitle"),description:c("RewardRankDescription",{maxCount:"33",endTime:v.Z.Time.fromJSTimestamp(null!==(i=null===(t=m.daoContractInfo)||void 0===t?void 0:t.loserPoolRewardTimeLimit)&&void 0!==i?i:0n).toHours()}),totalRewards:Number(g.Z.wei2eth(null!==(r=null===(n=m.daoCurrentRoundInfo)||void 0===n?void 0:n.pool.luckyPool)&&void 0!==r?r:0n)),topVoter:x,voters:null!==(o=m.rankInfo.luckyRank)&&void 0!==o?o:[]})}var M=n(88390);function A(e){var t,n,s,i,r,o,c,m,x,y;let h;let{t:w}=(0,u.$G)(["dao"]),T=(0,p.C)(e=>e.dao),N=(0,p.C)(e=>e.user),{getNodeTypeByAddress:b}=(0,M.Z)(),[j,C]=f.useState(null),[R,I]=f.useState(!1);f.useEffect(()=>{I(!0)},[]);let k=(null!==(r=T.rankInfo.nodeRank)&&void 0!==r?r:[]).findIndex(e=>e.address===N.ethInfo.walletAddress),E=T.userRankInfo.find(e=>e.rewardType===l.r.RankRewardType.NODE_TOP_REWARD),D=E&&E.rank&&E.rank<=3&&(-1===k||k>=3);if(f.useEffect(()=>{var e;R&&N.ethInfo.walletAddress&&(null===(e=T.daoContractInfo)||void 0===e?void 0:e.daoAddress)&&b(N.ethInfo.walletAddress).then(C).catch(()=>C(l.r.NodeType.NONE))},[R,N.ethInfo.walletAddress,null===(t=T.daoContractInfo)||void 0===t?void 0:t.daoAddress,b]),k>=0){let e=(null!==(o=T.rankInfo.nodeRank)&&void 0!==o?o:[])[k];h={...e,votes:e.beVotes}}else if(D){let e=(null==E?void 0:E.votes)||0;h={address:N.ethInfo.walletAddress,rank:4,reward:0,votes:e}}else{let e=(null==E?void 0:E.votes)||0;h={...null!=E?E:{address:N.ethInfo.walletAddress},reward:T.userRewardInfo.nodeTopReward.toNumber(),votes:e}}let S=R&&null!==j&&j!==l.r.NodeType.MASTER&&j!==l.r.NodeType.SUPER;return(0,a.jsx)(Z,{className:(0,d.m6)("",e.className),title:w("NodeRankTitle"),description:w("NodeRankDescription",{rate:(null!==(c=null===(n=T.daoContractInfo)||void 0===n?void 0:n.communityRewardRate)&&void 0!==c?c:0)*100,time:v.Z.Time.fromJSTimestamp(null!==(m=null===(s=T.daoContractInfo)||void 0===s?void 0:s.communityDuration)&&void 0!==m?m:0n).toHours(),maxCount:"3"}),totalRewards:Number(g.Z.wei2eth(null!==(x=null===(i=T.daoCurrentRoundInfo)||void 0===i?void 0:i.pool.communityPool)&&void 0!==x?x:0n)),topVoter:S?null:h,voters:(null!==(y=T.rankInfo.nodeRank)&&void 0!==y?y:[]).map(e=>({...e,votes:e.beVotes})),node:!0,showPreviousRoundIcon:!0,previousRoundType:"node"})}function _(e){var t,n,s,i,r,o,c,m,f;let x;let{t:y}=(0,u.$G)(["dao"]),h=(0,p.C)(e=>e.dao),w=(0,p.C)(e=>e.user),T=(null!==(i=h.rankInfo.voteRank)&&void 0!==i?i:[]).findIndex(e=>e.address===w.ethInfo.walletAddress),N=h.userRankInfo.find(e=>e.rewardType===l.r.RankRewardType.VOTE_TOP_REWARD),b=N&&N.rank&&N.rank<=3&&(-1===T||T>=3);if(T>=0){let e=(null!==(r=h.rankInfo.voteRank)&&void 0!==r?r:[])[T];x={...e,votes:e.beVotes}}else if(b){let e=(null==N?void 0:N.votes)||0;x={address:w.ethInfo.walletAddress,rank:4,reward:0,votes:e}}else{let e=(null==N?void 0:N.votes)||0;x={...null!=N?N:{address:w.ethInfo.walletAddress},reward:h.userRewardInfo.voteTopReward.toNumber(),votes:e}}return(0,a.jsx)(Z,{className:(0,d.m6)("",e.className),title:y("VoteRankTitle"),description:y("VoteRankDescription",{maxCount:"3",time:v.Z.Time.fromJSTimestamp(null!==(o=null===(t=h.daoContractInfo)||void 0===t?void 0:t.airdropDurationCalc)&&void 0!==o?o:0n).toHours(),rate:(null!==(c=null===(n=h.daoContractInfo)||void 0===n?void 0:n.voteRankRewardRate)&&void 0!==c?c:0)*100}),totalRewards:Number(g.Z.wei2eth(null!==(m=null===(s=h.daoCurrentRoundInfo)||void 0===s?void 0:s.pool.voteRankPool)&&void 0!==m?m:0n)),topVoter:x,voters:(null!==(f=h.rankInfo.voteRank)&&void 0!==f?f:[]).map(e=>({...e,votes:e.beVotes})),showPreviousRoundIcon:!0,previousRoundType:"vote"})}var L=n(98018);function O(e){let{t}=(0,u.$G)("dao"),n=f.useRef(null);return(0,a.jsxs)("div",{className:(0,d.m6)("flex flex-col justify-between items-stretch gap-4 bg-[#050505] border border-[#666666] rounded-lg p-5",e.className),children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg text-white mb-2 relative flex items-center gap-2",ref:n,children:[e.title,(0,a.jsx)(I.Z,{whisperProps:{placement:"bottom"},targetContain:n.current,className:"static",tooltipClassName:"mt-[-35px] pointer-events-all",children:(0,a.jsx)("p",{className:"text-[#999999] text-sm mb-4",children:e.description})})]}),(0,a.jsx)("div",{className:"bg-black border border-[#666666] rounded-lg p-4",children:(0,a.jsx)("div",{className:"text-[#D9D9D9] text-lg text-center",children:e.value})})]}),e.countdown?(0,a.jsxs)("div",{className:"text-[#D9D9D9] text-center mt-2",children:[t("Countdown"),": ",(0,a.jsx)("span",{className:"text-white text-gradient",children:e.countdown})]}):(0,a.jsx)(L.ZP,{className:"w-full md:w-[330px] mx-auto",waitForClick:!0,onClick:e.controlButton.onClick,children:e.controlButton.title}),e.extraLink&&(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("div",{className:"inline-block",children:(0,a.jsxs)("a",{className:"flex flex-col items-center cursor-pointer hover:opacity-90",onClick:t=>{var n,a;t.preventDefault(),t.stopPropagation(),null===(a=e.extraLink)||void 0===a||null===(n=a.onClick)||void 0===n||n.call(a)},children:[(0,a.jsx)("span",{className:"block text-gradient",children:e.extraLink.title}),(0,a.jsx)("span",{className:"block w-full h-[1px] bg-gradient-to-r from-[#E700E6] to-[#4B4BDF]"})]})})})]})}var V=n(19379),F=n(94503),P=n(74293);function q(e){var t,n,s;(0,p.C)(e=>e.global);let i=(0,p.C)(e=>e.dao),{t:r}=(0,u.$G)("dao"),o=(0,F.Z)(),l=c.Q.getTargetNet(),m=(0,P.Z)(),v=m.isRoundClaimEnd?void 0:m.getFundCountdownInfo(),f={value:g.Z.wei2eth(null!==(s=null===(t=i.daoCurrentRoundInfo)||void 0===t?void 0:t.pool.fundPool)&&void 0!==s?s:0n),unit:l.nativeCurrency.symbol};return(0,a.jsx)("div",{className:(0,d.m6)("",e.className),children:(0,a.jsx)(O,{title:r("FundInfoTitle"),description:r("FundInfoDescription",{name:null===(n=i.nodeListFilters.selectedDao)||void 0===n?void 0:n.name,rate:new V.Z("10000 # percent x100 (10000 = 100%)").div(100).toString()}),value:(0,a.jsx)("div",{className:"text-[#D9D9D9] flex justify-center items-center gap-2 text-lg text-center",children:(0,a.jsx)(b.eO,{preChildren:"".concat(r("FundValueTitle"),":"),value:Number(f.value),valueClassName:"text-gradient",children:f.unit})}),countdown:null==v?void 0:v.toFormated(),controlButton:{title:r("FundButton"),onClick:o.reopenDAO}})})}var B=n(58504),U=n(79424),H=n(82217),z=n(60450),J=n(61101);function $(e){var t,n,s;let i=(0,B.useRouter)(),r=(0,p.C)(e=>e.dao),{t:o}=(0,u.$G)("dao"),l=(0,P.Z)(),m=l.isRoundClaimEnd?void 0:l.getClaimCountdownInfo(),v=c.Q.getTargetNet(),[x,y]=f.useState("0"),[h,w]=f.useState(""),T=null===(t=r.nodeListFilters.selectedDao)||void 0===t?void 0:t.address,N=f.useMemo(()=>(0,H.Cv)(T,v.chainId),[T,v.chainId]);async function j(){}return f.useEffect(()=>{let e=!0;return(async()=>{try{let t=v.chainId;if(!(0,H.Cv)(T,t))return;let n=(0,H.OM)(t),a=(0,H.yO)(t),s=null==n?void 0:n.rewardTokenAddress;if(!n||!a||!s)return;let i=e=>/^0x0{40}$/i.test(e);if(i(a)||i(s))return;let r=c.Q.getDefaultProvider(),o=new J.CH(s,z.s,r),[l,d,u]=await Promise.all([o.balanceOf(a),o.symbol(),o.decimals()]);if(!e)return;let p=new V.Z(l.toString()).div(new V.Z(10).pow(u)).toString();y(p),w(d)}catch(e){}})(),()=>{e=!1}},[v.chainId,T]),(0,a.jsx)("div",{className:(0,d.m6)("",e.className),children:(0,a.jsx)(O,{title:o("RewardTitle"),description:o("RewardDescription",{name:r.tokenInfo.symbol,rate:new V.Z("10000 # percent x100 (10000 = 100%)").div(100).toString()}),value:(0,a.jsxs)("div",{className:"text-[#D9D9D9] flex justify-center items-center gap-3 text-lg text-center",children:[(0,a.jsx)("div",{className:"flex items-end gap-2",children:(0,a.jsx)(U.Z,{className:"w-[20px] h-[25px]"})}),(0,a.jsxs)("div",{className:"flex flex-col items-start",children:[[{value:null!==(s=null===(n=r.daoCurrentRoundInfo)||void 0===n?void 0:n.pool.loserPool)&&void 0!==s?s:0n,unit:"$".concat(r.tokenInfo.symbol)}].map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(b.eO,{value:Number(g.Z.wei2eth(e.value)),valueClassName:"text-gradient"}),(0,a.jsx)("span",{children:e.unit})]},e.unit)),N&&(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,a.jsx)(b.eO,{value:Number(x),valueClassName:"text-gradient"}),(0,a.jsx)("span",{children:"$".concat(h||"TOKEN")})]})]})]}),countdown:null==m?void 0:m.toFormated(),controlButton:{title:o("RewardButton"),onClick:j},extraLink:{title:o("RewardRecordsTitle"),onClick:()=>{let e=new URLSearchParams(location.search);i.push("/dao/reward/record?".concat(e.toString()))}}})})}var W=n(77248);function G(e){(0,p.T)(),(0,p.C)(e=>e.dao),(0,p.C)(e=>e.global),(0,p.C)(e=>e.user);let{t}=(0,u.$G)(["dao"]);return(0,W.Z)({autoTrigger:!0}),(0,a.jsxs)("div",{className:(0,d.m6)("flex flex-col items-stretch gap-[20px]",e.className),children:[(0,a.jsx)(j,{}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-[20px] justify-between items-stretch",children:[(0,a.jsx)(S,{className:"order-2 md:order-1"}),(0,a.jsxs)("div",{className:"flex flex-col gap-[20px] order-1 md:order-2",children:[(0,a.jsx)(_,{}),(0,a.jsx)(A,{}),(0,a.jsx)(q,{}),(0,a.jsx)($,{})]})]})]})}var Q=n(64436);function Y(){var e,t;let n=(0,p.C)(e=>e.dao);return(0,F.Z)(void 0,{autoTrigger:!0,autoUpdateTokenInfo:!0}),(0,a.jsx)("div",{className:"relative overflow-x-hidden text-secondary bg-[#000000]",children:(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)(o.Z,{}),(0,a.jsx)(s.Z,{}),(0,a.jsxs)(i.ZP,{width:i.W7.ContentV2,background:i.nV.None,className:"mx-[20px] 2xl:mx-auto",children:[(0,a.jsx)(Q.Z,{activeTarget:l.r.VotingTabEnum.EWV}),(0,a.jsx)(G,{className:"mt-[20px]"},null!==(t=null===(e=n.nodeListFilters.selectedDao)||void 0===e?void 0:e.address)&&void 0!==t?t:"_"),(0,a.jsx)(r.Z,{})]})]})})}},60543:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(37821);function s(e){var t,n;return(0,a.jsx)("img",{src:"/images/icon-eth.svg",width:null!==(t=e.width)&&void 0!==t?t:20,height:null!==(n=e.height)&&void 0!==n?n:20,alt:"ETH",className:e.className})}},79424:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(37821);function s(e){var t,n;let s=null!==(t=e.defsPrexId)&&void 0!==t?t:"paint0";return(0,a.jsxs)("svg",{viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:null!==(n=e.className)&&void 0!==n?n:"",children:[(0,a.jsx)("path",{d:"M3.99681 6.00318H1.99045V3.66242C1.99045 3.15287 2.0913 2.67781 2.29299 2.23726C2.49469 1.79671 2.77335 1.40924 3.12898 1.07484C3.48461 0.740446 3.90393 0.477707 4.38694 0.286624C4.86996 0.0955414 5.39809 -1.03773e-08 5.97134 0C6.48089 0 6.97187 0.0955414 7.44427 0.286624C7.91667 0.477707 8.33599 0.740446 8.70223 1.07484C9.06847 1.40924 9.3604 1.79671 9.57802 2.23726C9.79565 2.67781 9.90446 3.15287 9.90446 3.66242V6.00318H7.97771V4.10828C7.97771 3.43949 7.79193 2.92197 7.42038 2.55573C7.04883 2.18949 6.54459 2.00637 5.90764 2.00637C5.33439 2.00637 4.87261 2.18949 4.52229 2.55573C4.17197 2.92197 3.99681 3.43949 3.99681 4.10828V6.00318ZM10.8599 6.9586C11.1465 6.9586 11.3933 7.0621 11.6003 7.26911C11.8073 7.47611 11.9108 7.72293 11.9108 8.00955V12.9459C11.9108 13.2325 11.8604 13.5005 11.7596 13.75C11.6587 13.9995 11.5207 14.2171 11.3455 14.4029C11.1704 14.5886 10.9634 14.7346 10.7245 14.8408C10.4857 14.9469 10.2229 15 9.93631 15H1.8949C1.60828 15 1.3482 14.9469 1.11465 14.8408C0.881104 14.7346 0.682059 14.5939 0.517516 14.4188C0.352972 14.2436 0.225584 14.0393 0.13535 13.8057C0.0451166 13.5722 0 13.3227 0 13.0573V8.00955C0 7.72293 0.100849 7.47611 0.302548 7.26911C0.504246 7.0621 0.748407 6.9586 1.03503 6.9586H1.99045H3.99681H7.97771H9.90446H10.8599Z",fill:"url(#".concat(s,"_linear_20_507)")}),(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"".concat(s,"_linear_20_507"),x1:"-0.000176537",y1:"7.49995",x2:"11.9108",y2:"7.49995",gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{stopColor:"#E700E6"}),(0,a.jsx)("stop",{offset:"1",stopColor:"#4B4BDF"})]})})]})}},40647:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(37821);n(58078),n(65786);var s=n(46262),i=n(90490),r=n(36051),o=n(31638);function l(e){let{chainId:t,address:n,text:l,children:d,className:u,...c}=e,p=(0,a.jsx)(s.Z,{children:n}),m=new r.Q(t).getAddressUrl(n);return(0,a.jsx)(i.Z,{placement:"top",speaker:p,trigger:"hover",children:(0,a.jsx)("a",{className:(0,o.m6)("component-chain-address-link pointer hover underline",u),href:m,target:"_blank",...c,children:null!=l?l:n})})}},93181:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var a,s=n(37821),i=n(90490),r=n(46262),o=n(29223);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}var d=function(e){return o.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},e),a||(a=o.createElement("path",{fill:"#fff",fillOpacity:.8,d:"M6.992 0q1.455 0 2.73.555t2.229 1.502a7 7 0 0 1 1.502 2.221Q14 5.553 14 7.008t-.547 2.722a7.056 7.056 0 0 1-3.73 3.723Q8.445 14 6.992 14q-1.455 0-2.723-.547a7.1 7.1 0 0 1-2.22-1.502A7.1 7.1 0 0 1 .546 9.73 6.8 6.8 0 0 1 0 7.008q0-1.455.547-2.73.548-1.275 1.502-2.221A7.3 7.3 0 0 1 4.27.555 6.7 6.7 0 0 1 6.992 0m.016 11.794a.92.92 0 0 0 .68-.273.9.9 0 0 0 .274-.665.92.92 0 0 0-.274-.68.92.92 0 0 0-.68-.274.92.92 0 0 0-.68.273.92.92 0 0 0-.274.68q0 .392.273.666.275.273.68.273m.798-3.848q-.016-.25.312-.531.329-.282.736-.626t.75-.774.376-.994q.03-.61-.125-1.142a2.24 2.24 0 0 0-.516-.915 2.5 2.5 0 0 0-.931-.61q-.57-.227-1.338-.227-.954 0-1.587.337a3.3 3.3 0 0 0-1.025.813q-.39.477-.547.986-.158.508-.141.852.015.407.258.595a.88.88 0 0 0 .524.195.84.84 0 0 0 .516-.156.55.55 0 0 0 .235-.477q0-.189.117-.462t.32-.524q.204-.25.494-.422.289-.172.649-.172.703 0 1.126.352.422.351.391.883a.85.85 0 0 1-.156.493 2.4 2.4 0 0 1-.4.438q-.242.211-.516.422-.273.211-.516.438a2.4 2.4 0 0 0-.406.493q-.165.266-.18.579l.015.594q0 .235.22.446.218.212.578.227.36-.015.571-.235a.65.65 0 0 0 .196-.5z"})))},u=n(31638),c=n(58078);let p=(0,c.forwardRef)((e,t)=>{let{children:n,className:a,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,u.m6)("inline-flex items-center justify-center",a),...i,children:n})});function m(e){let t=c.useRef(null);return(0,s.jsx)("div",{ref:t,className:(0,u.m6)("relative",e.className),children:(0,s.jsx)(i.Z,{placement:"auto",className:(0,u.m6)("",e.containClassName),container:()=>{var n,a;return null!==(a=null!==(n=e.targetContain)&&void 0!==n?n:t.current)&&void 0!==a?a:"undefined"!=typeof document?document.body:null},speaker:(0,s.jsx)(r.Z,{className:(0,u.m6)("-mt-[25px]",e.tooltipClassName),style:{maxWidth:"1000px"},children:e.children}),trigger:"hover",enterable:!0,rootClose:!0,...e.whisperProps,children:(0,s.jsx)(p,{className:(0,u.m6)("w-[14px] h-[14px] cursor-pointer",e.iconClassName),children:(0,s.jsx)(d,{className:"w-full h-full"})})})})}p.displayName="SvgWrapper"},79229:function(e,t,n){"use strict";var a,s,i=n(37821),r=n(37557),o=n(66413),l=n(85378),d=n(31638);(a=s||(s={})).rankIcons=[void 0,r.Z,o.Z,l.Z],a.Rank=function(e){let t=a.rankIcons[e.rank]||(t=>(0,i.jsx)("span",{className:(0,d.m6)("block",e.className,t.className),children:e.rank}));return(0,i.jsx)(t,{})},t.Z=s.Rank},21545:function(e,t,n){"use strict";n.d(t,{_:function(){return a}});let a=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0In",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1In",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount0Out",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1Out",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"Swap",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint112",name:"reserve0",type:"uint112"},{indexed:!1,internalType:"uint112",name:"reserve1",type:"uint112"}],name:"Sync",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MINIMUM_LIQUIDITY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"burn",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getReserves",outputs:[{internalType:"uint112",name:"_reserve0",type:"uint112"},{internalType:"uint112",name:"_reserve1",type:"uint112"},{internalType:"uint32",name:"_blockTimestampLast",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token0",type:"address"},{internalType:"address",name:"_token1",type:"address"},{internalType:"address",name:"_WETH",type:"address"},{internalType:"uint256",name:"_burnRate",type:"uint256"},{internalType:"address",name:"_router",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"kLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"liquidity",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"price0CumulativeLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price1CumulativeLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"router",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"skim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount0Out",type:"uint256"},{internalType:"uint256",name:"amount1Out",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"swap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"sync",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}]},74293:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var a,s,i,r,o=n(17147),l=n(71655),d=n(42132),u=n(2321),c=n(97554),p=n(5038),m=n(58078);function v(){let e=(0,p.C)(e=>e.global),t=(0,p.C)(e=>e.dao);return m.useMemo(()=>{var n,a,s,i;return new x().initialize({roundEndTime:null!==(s=null===(n=t.daoCurrentRoundInfo)||void 0===n?void 0:n.roundExpire)&&void 0!==s?s:-1,timeCanReward:null!==(i=null===(a=t.daoContractInfo)||void 0===a?void 0:a.loserPoolRewardTimeLimit)&&void 0!==i?i:0,currentTime:e.currentTime})},[t.daoCurrentRoundInfo,t.daoContractInfo,e.currentTime])}(a=i||(i={}))[a.UNINITIALIZED=0]="UNINITIALIZED",a[a.ROUND_READY=1]="ROUND_READY",a[a.ROUND_START=2]="ROUND_START",a[a.ROUND_END=3]="ROUND_END",(s=r||(r={}))[s.UNINITIALIZED=0]="UNINITIALIZED",s[s.CLAIM_START=1]="CLAIM_START",s[s.CLAIM_END=2]="CLAIM_END";class f{static defaultInfo(){return{toFormated:()=>"--:--:--"}}}class x extends c.Vw.BaseDataAdapter{initialize(e){return super.initialize(e),this}get roundStatus(){let e=this.roundEndTime.toJSTime(),t=this.currentTime;return -1===e?0:0===e?1:e>t?2:3}get isRoundStart(){return 0!==this.roundStatus&&1!==this.roundStatus}get isRoundEnd(){return 3===this.roundStatus}getRoundEndCountdown(){return d.Z.convertTimeDifference(new Date(this.roundEndTime.toJSTime()-this.currentTime))}get roundClaimStartTime(){return this.roundEndTime.toJSTime()}getRoundClaimStartCountdown(){let e=d.Z.convertTimeDifference(new Date(this.roundClaimStartTime-this.currentTime),{includeDays:!1});return 0===e?f.defaultInfo():e}get roundClaimEndTime(){return -1===this.roundEndTime.toJSTime()?-1:this.roundEndTime.toJSTime()+this.timeCanReward.toJSTime()}get claimStatus(){return 0===this.timeCanReward.toJSTime()?0:this.roundClaimEndTime<=this.currentTime?2:this.roundClaimStartTime<=this.currentTime?1:0}get isRoundClaimStart(){return 1===this.claimStatus}getRoundClaimEndCountdown(){let e=d.Z.convertTimeDifference(new Date(this.roundClaimEndTime-this.currentTime),{includeDays:!1});return 0===e?f.defaultInfo():e}get isRoundClaimEnd(){return 2===this.claimStatus}getFundCountdownInfo(){return this.isRoundClaimEnd||!this.isRoundStart?f.defaultInfo():this.isRoundClaimStart?this.isRoundClaimEnd?f.defaultInfo():this.getRoundClaimEndCountdown():this.getRoundClaimStartCountdown()}getClaimCountdownInfo(){return this.getFundCountdownInfo()}constructor(...e){super(...e),(0,o._)(this,"roundEndTime",u.Z.Time.from(-1)),(0,o._)(this,"timeCanReward",u.Z.Time.from(0)),(0,o._)(this,"currentTime",void 0)}}(0,l.gn)([c.Vw.To(u.Z.Time.fromJSTimestamp.bind(u.Z.Time)),(0,l.w6)("design:type",void 0===u.Z||void 0===u.Z.Time?Object:u.Z.Time)],x.prototype,"roundEndTime",void 0),(0,l.gn)([c.Vw.To(u.Z.Time.fromJSTimestamp.bind(u.Z.Time))],x.prototype,"timeCanReward",void 0),(0,l.gn)([c.Vw.To(),(0,l.w6)("design:type",Number)],x.prototype,"currentTime",void 0)},65786:function(){}},function(e){e.O(0,[8570,7615,6326,2047,8640,7851,9982,8691,9403,6489,9125,8113,3458,2035,3946,9931,999,5070,1278,962,5609,8086,9770,9132,1817,7248,7115,2364,1744],function(){return e(e.s=78490)}),_N_E=e.O()}]);