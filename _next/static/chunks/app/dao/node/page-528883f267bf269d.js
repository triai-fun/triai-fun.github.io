(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8386],{91083:function(e,t,n){Promise.resolve().then(n.bind(n,26850))},26850:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return er}});var a=n(57437),i=n(97235),s=n(68071),r=n(27635),o=n(38435),d=n(81939),l=n(13965),u=n(74439),p=n(20605),c=n(10433),m=n(65435),y=n(83123),f=n(49481),x=n(20151),v=n(88847),T=n(6178),g=n(95665),h=n(41662),b=n(99376),w=n(2265),N=n(43949),E=n(53335),C=n(89769),j=n(11710),A=n(39594);function S(e){let t=(0,b.useRouter)(),{t:n}=(0,N.$G)(["dao"]),i=(0,T.C)(e=>e.global);(0,T.C)(e=>e.dao);let[s,r]=w.useState(null);async function o(){if(!s)throw Error("Can't found target nft address");let e="0x7CFA99eE55D07214cdD8E5A38501e0C087d212a4";if(!e)throw Error("NEXT_PUBLIC_DAO_FACTORY_CONTRACT_ADDRESS not found!");let a=l.r.getInstance(),i=d.Z.getInstance(a.getProvider()),r=await i.getSigner(),o=x.lf.connect(e,r);try{var p;let e=await o.createDao(s),a=await e.wait();(0,y.x9)(n("SuccessfullyOpenDAO")),S();let i=null==a?void 0:null===(p=a.logs[0].args)||void 0===p?void 0:p[0];if(i){c.Z.I("DAO created",{daoAddress:i}),await u.Z.sleepForAnimationFrame(3e3);let e=new URLSearchParams;e.set(g.Z.Params.DAO_ADDRESS,i),t.push("/dao/node?".concat(e.toString())),t.refresh()}}catch(e){(0,y.L6)(new y.HU(e,n("FailedToOpenDAO")).asToastMessage())}}async function S(e){let t=new v.Z,[n,a]=(await t.getUserAllCreatedNftLPs({signal:e})).tryGetData();if(a)return(0,y.L6)(a.msg),c.Z.E(a),r(null);if(!n.length)return r(null);let i=(await new v.Z().getBalanceOfTokens(n.map(e=>e.pairAddress))).findIndex(e=>e>=h.fi("0"));if(i<0)return r(null);r(n[i].tokenAddress)}return(0,f.Z)(),w.useEffect(()=>{if(!i.token)return r(null);let e=new AbortController;return u.Z.sleepForAnimationFrame(1e3).promise.then(()=>{e.signal.aborted||S(e.signal)}),()=>{e.abort(p.Z.ReactError.useEffectDestroy())}},[i.token]),(0,a.jsxs)("div",{className:(0,E.m6)("flex flex-col items-start gap-4",e.className),children:[(0,a.jsx)(A.Z,{children:n("Title")}),(0,a.jsx)(j.Z,{children:n("Description")}),(0,a.jsxs)("div",{className:"flex justify-between md:justify-start items-center gap-2 md:gap-[104px]",children:[(0,a.jsx)(m.ZP,{size:m.qE.Small,className:"w-[160px] text-[14px] shine-animation",onClick:()=>{let e=new URLSearchParams(location.search);if(e.has(g.Z.Params.DAO_ADDRESS)){var n;e.set(g.Z.Params.DAO_ADDRESS,null!==(n=e.get(g.Z.Params.DAO_ADDRESS))&&void 0!==n?n:"")}let a=e.toString();t.push("/dao/user?".concat(a,"#").concat(C.r.MyAssetsPageTab.ApplyNode))},children:n("ApplyForNode")}),s?(0,a.jsx)(m.ZP,{size:m.qE.Small,className:"w-[160px] text-[14px] shine-animation",waitForClick:!0,onClick:()=>o(),children:n("OpenDAO")}):null]})]})}var I=n(30648),k=n(7310),Z=n.n(k),D=n(22928),M=n(48423),L=n(79787),O=n(3682),R=n(50544),P=n(94552);function F(e){var t;let n=(0,b.useRouter)(),i=(0,T.C)(e=>e.dao),r=(0,T.C)(e=>e.user),{t:o,i18n:d}=(0,N.$G)(["dao"]);O.Q.getTargetNet();let l=u.Z.dateFormat(new Date(e.creationTime),"yyyy-MM-dd HH:mm:ss"),p=null!==(t=e.onVote)&&void 0!==t?t:()=>{var t;let a=new URLSearchParams;a.set(g.Z.Params.DAO_ADDRESS,e.daoAddress);let s=null===(t=i.userInfo)||void 0===t?void 0:t.userInfo.parent;r.ethInfo.walletAddress&&s&&s!==P.N?a.set(g.Z.Params.NODE_ADDRESS,s):s=e.address,a.set(g.Z.Params.NODE_ADDRESS,s),n.push("/dao/node/detail?".concat(a.toString()))};return(0,a.jsxs)(s.ZP,{autoBorder:!0,autoMargin:!1,autoPadding:!1,className:"rounded-lg p-[15px]",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("span",{className:"text-[#999999] text-[14px] font-medium",children:[o("Address"),": "]}),(0,a.jsx)(M.Z,{className:"text-[#CCCCCC] text-[14px] font-medium underline ml-2",address:e.address,text:L.Z.toShort(e.address)})]}),(0,a.jsx)(_,{nodeType:e.nodeType})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-[#999999] text-[14px] font-medium",children:o("TotalVotes")}),(0,a.jsx)("span",{className:"text-[#999999] text-[14px] font-medium flex gap-1",children:10*Number(e.totalVotes)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-[#999999] text-[14px] font-medium",children:o("Creation Time")}),(0,a.jsx)("span",{className:"text-[#999999] text-[14px] font-medium",children:l})]})]}),(0,a.jsx)("button",{className:"w-full leading-[40px] rounded-[8px] flex items-center justify-center font-medium border border-[#666] normal-text-gradient hover:opacity-90 transition focus:bg-gradient-to-r from-primary to-highlight focus:text-white",onClick:p,children:o("VoteTitle")})]})}function _(e){let{t}=(0,N.$G)(["dao"]),n=(0,R.Z)().nodeMap.get(e.nodeType);return(0,a.jsx)("div",{className:(0,E.m6)("p-[1px] rounded","bg-gradient-to-r from-[".concat(null==n?void 0:n.color1,"] to-[").concat(null==n?void 0:n.color2,"]")),style:{backgroundImage:"linear-gradient(to right, ".concat(null==n?void 0:n.color1,", ").concat(null==n?void 0:n.color2,")")},children:(0,a.jsx)("div",{className:"bg-black w-[100px] h-[22px] flex items-center justify-center leading-none rounded",children:(0,a.jsx)("span",{className:(0,E.m6)("text-[10px] leading-none font-medium bg-gradient-to-r bg-clip-text text-transparent","from-[".concat(null==n?void 0:n.color1,"] to-[").concat(null==n?void 0:n.color2,"]")),style:{backgroundImage:"linear-gradient(to right, ".concat(null==n?void 0:n.color1,", ").concat(null==n?void 0:n.color2,")")},children:null==n?void 0:n.title})})})}var z=n(97644),B=n(63671),V=n(72525),U=n(72790),q=n(11340),H=n(87072);n(31785);var G=n(69787),W=n(56679),$=n(73507);n(33082),n(8113),n(79294);var K=n(21707),Q=n(54740);n(45556),n(97887);var X=n(40366),Y=n(68651);function J(e){var t,n;let{t:i}=(0,N.$G)(["dao"]);(0,T.T)(),(0,T.C)(e=>e.token),(0,T.C)(e=>e.user);let s=null!==(t=e.showResultAfterFocus)&&void 0!==t&&t,r=w.useRef(null),[o,l]=w.useState(""),[y,f]=w.useState((0,B.ki)({pageSize:100})),[x,g]=w.useState({}),[b,C]=w.useState(!1),j=w.useRef(y);w.useEffect(()=>{j.current=y},[y]);let[A,S]=w.useState(!1),k=O.Q.getTargetNet(),M=Z()(function(e){l(e)});function L(t){var n;let a=null!==(n=t.silence)&&void 0!==n&&n,i=new AbortController;new v.Z;let s=Promise.resolve("");function r(e){i.abort(e)}if(y.isLoading||1!==t.page&&y.isEnd)return{promise:s,cancel:r};let d=t.page;return a||f({...y,isLoading:!0,data:[]}),{promise:s=new D.Z().getDaoListForNodeListFilter({page:d,pageSize:y.pageSize,keyword:o,abortController:i}).then(t=>{var n,a;if(o!=o)return;if(t.hasError())return Promise.reject(t.getError());let i=j.current,s=null!==(a=t.getData())&&void 0!==a?a:[],r=[...1===d?[]:i.data,...s],l=0===t.getTotalPage()||0===s.length||s.length<i.pageSize;f({...i,pageIndex:d,isLoading:!1,isEnd:l,data:r}),null===(n=e.onTokensUpdated)||void 0===n||n.call(e,r)}).catch(e=>{p.Z.canBeIgnore(e)||(c.Z.E(e),f({...j.current,isLoading:!1}))}),cancel:r}}return w.useEffect(()=>{if(y.isLoading)return;let e=new AbortController,t={promise:Promise.resolve(0),cancel:e=>{}};return(t=u.Z.sleepForAnimationFrame(160)).promise.then(()=>{t=L({page:1})}),()=>{t.cancel(p.Z.ReactError.useEffectDestroy().asString()),e.abort(p.Z.ReactError.useEffectDestroy().asString())}},[o]),w.useEffect(()=>{function t(t){if(r.current&&!r.current.contains(t.target)){var n;l(""),null===(n=e.onRequestClose)||void 0===n||n.call(e)}}return document.addEventListener("click",t),()=>{document.removeEventListener("click",t)}},[]),w.useEffect(()=>{async function e(){if(!y.data.length)return;C(!0);let e=new $.r6(k.rpcUrl),t=new K.z(k.chainId,e),n={},a=[];for(let e of y.data){let t=new K.C(e.address,X.K);a.push(t.currentRoundNO())}try{let e=await t.all(a),i=[];for(let t=0;t<y.data.length;t++){let n=y.data[t],a=e[t],s=new K.C(n.address,X.K);i.push(s.totalVoteAmount(a),s.totalEthDone(a))}let s=await t.all(i);for(let e=0;e<y.data.length;e++){let t=y.data[e],a=s[2*e],i=s[2*e+1],r=new Y.Z("0.1"),o=new Y.Z(d.Z.wei2eth(a)),l=new Y.Z(d.Z.wei2eth((null!=i?i:0n)/BigInt(h.fi("0.1"))*BigInt(h.fi("0.1")))),u=o.plus(l);n[t.id]=Math.floor(u.div(r).toNumber())}g(n)}catch(e){c.Z.E(e)}finally{C(!1)}}(async()=>{await e()})()},[y.data,k.rpcUrl,k.chainId]),(0,a.jsxs)("div",{className:"dao-search-contain text-secondary ".concat(null!==(n=e.className)&&void 0!==n?n:""," ").concat(s?"show-result-after-focus":""," ").concat(A?"focus-fixed":""),ref:r,children:[(0,a.jsx)(I.ZP,{className:"h-[50px] leading-[50px] search-token-bar",placeHolder:i("SearchByDAOName"),value:o,onInputChange:M,onClick:()=>S(!0),searchButton:!1}),(0,a.jsxs)(G.Z,{className:"search-result-contain",loading:y.isLoading,isEnd:y.isEnd,onScrollBottom:()=>y.isEnd||y.isLoading?Promise.reject("Loading"):L({page:y.pageIndex+1}).promise,children:[(0,a.jsx)("div",{className:"search-result-wrapper",children:y.data.length?(0,a.jsxs)("div",{className:"search-result",children:[(0,a.jsx)(V.Z,{className:"search-result-table",children:(0,a.jsx)(V.Z,{className:"table-body",children:y.data.map((t,n)=>{var i;return(0,a.jsxs)(U.Z,{horizontalArrangement:q.cV.SpaceBetween,verticalAlignment:q.v2.Center,onClick:()=>{if(S(!1),e.onTokenClick){e.onTokenClick(t,n);return}},className:(0,E.m6)("cursor-pointer hover table-row",e.tokenId===t.id?"active":null),children:[(0,a.jsx)("span",{className:"main",children:(0,a.jsxs)(U.Z,{horizontalArrangement:q.cV.SpaceBetween,verticalAlignment:q.v2.Center,className:"main-contain",children:[(0,a.jsx)(H.LazyLoadImage,{src:t.icon,alt:"",className:"logo"}),(0,a.jsx)(V.Z,{horizontalAlignment:q.v2.Start,children:(0,a.jsx)("p",{className:"title",children:t.symbol})})]})}),(0,a.jsx)("div",{className:"flex items-center gap-2 balance",children:b?(0,a.jsx)("span",{className:"text-gray-400",children:"Loading..."}):(0,a.jsx)(Q.eO,{value:null!==(i=x[t.id])&&void 0!==i?i:0})})]},t.id)})})}),0===y.data.length?(0,a.jsx)("div",{className:"tips text-center",children:i("NoData")}):null]}):null}),s?(0,a.jsx)(m.ZP,{className:"w-full btn-close",status:m.Dv.Active,onClick:()=>{var t;S(!1),null==e||null===(t=e.onRequestClose)||void 0===t||t.call(e)},children:"Close"}):null]})]})}function ee(e){let{isOpen:t,onRequestClose:n,onSelect:i,tokenId:s,className:r,tokenAddress:o}=e,{t:d}=(0,N.$G)(["dao"]);return(0,a.jsx)(W.Z,{className:(0,E.m6)("",r),isOpen:t,onRequestClose:n,title:d("SelectDAOTitle"),showCloseButton:!0,size:"small",children:(0,a.jsx)(J,{tokenId:s,onTokenClick:e=>{i(e),n()},onRequestClose:n,tokenAddress:o})})}var et=n(41849);function en(e){var t,n,i,r,o,l;let{t:c}=(0,N.$G)(["dao"]),f=(0,T.T)();(0,T.C)(e=>e.global);let x=(0,T.C)(e=>e.dao),[v,h]=w.useTransition(),C=(0,b.useRouter)(),j=(0,R.Z)(),[A,S]=w.useState(!1),[k,M]=w.useState(x.nodeListFilters.keyword),L=Z()(M,20);function O(){k!==x.nodeListFilters.keyword&&f(g.Z.slice.actions.updateNodeListFilters({keyword:k}))}function P(e){var t,n;function a(e){i.abort(e)}let i=new AbortController,s=x.nodes;if(!x.nodeListFilters.selectedDao||!e.restart&&s.isLoading)return{promise:Promise.resolve(),cancel:a};let r=e.restart?1:null!==(t=e.page)&&void 0!==t?t:s.pageIndex+1;return f(g.Z.slice.actions.setNodesToLoading()),{promise:new D.Z().getNodeList({daoAddress:x.nodeListFilters.selectedDao.address,page:r,keyword:null!==(n=x.nodeListFilters.keyword)&&void 0!==n?n:void 0,abortController:i,pageSize:s.pageSize}).then(e=>{if(e.hasError())throw Error(e.getError().msg);let t=e.getData(),n=e.getTotalPage(),a=null!=n?n:s.total,i=0===n||0===t.length||t.length<s.pageSize;f(g.Z.slice.actions.updateNodeNewPage({pageIndex:r,total:a,isEnd:i,data:t})),w.startTransition(()=>{j.updateNodeCurrentRoundInfoSimpleInfo(t.map(e=>e.walletAddress))})}).catch(e=>{p.Z.canBeIgnore(e)||(0,y.L6)(new y.HU(e,"Error in get node list").asToastMessage())}),cancel:a}}return w.useEffect(()=>{if(x.nodes.isLoading||!x.nodeListFilters.selectedDao||!x.daoContractInfo)return;let e=u.Z.sleepForAnimationFrame(500);return e.promise.then(()=>{f(g.Z.slice.actions.clearNodeList()),h(()=>P({restart:!0}).promise)}),()=>{e.cancel(p.Z.ReactError.useEffectDestroy())}},[x.nodeListFilters,x.daoContractInfo]),(0,a.jsx)("div",{className:(0,E.m6)("relative flex flex-col nodes-contain",e.className),children:(0,a.jsxs)("div",{className:"flex flex-col items-stretch text-center gap-[22px] nodes-contain",children:[(0,a.jsxs)("div",{className:"flex justify-start flex-col items-stretch md:flex-row md:items-center gap-[20px]",children:[(0,a.jsx)(I.ZP,{className:"order-2 md:order-1 w-full md:w-[385px] search-token-bar",placeHolder:c("SearchForAddress"),onInputChange:L,value:null!=k?k:"",searchButton:(0,a.jsx)(m.ZP,{size:m.qE.Small,onClick:()=>O(),children:c("Search")}),onConfirm:O}),(0,a.jsxs)(s.ZP,{autoBorder:!0,autoMargin:!1,autoPadding:!1,className:"order-1 md:order-2 w-full p-[7px_10px] md:w-[385px] flex justify-between items-center text-[14px] font-medium cursor-pointer hover:opacity-90",onClick:()=>S(!0),children:[(0,a.jsx)("span",{className:"text-[#999]",children:c("SelectDAOTitle")}),(0,a.jsxs)(m.ZP,{size:m.qE.Customize,status:m.Dv.None,className:"flex items-center gap-2 pointer-events-none",children:[(0,a.jsx)("img",{src:null===(t=x.nodeListFilters.selectedDao)||void 0===t?void 0:t.icon,alt:"",width:25,height:25,className:"w-[25px] h-[25px] object-cover rounded-full"}),(0,a.jsx)("span",{className:"font-medium",children:null===(n=x.nodeListFilters.selectedDao)||void 0===n?void 0:n.symbol}),(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})]}),(0,a.jsx)(ee,{className:"token-detail-token-search-view",isOpen:A,tokenId:null!==(o=null===(i=x.nodeListFilters.selectedDao)||void 0===i?void 0:i.id)&&void 0!==o?o:null,onRequestClose:()=>S(!1),onSelect:e=>{f(g.Z.slice.actions.updateSelectedDao(e));let t=new URLSearchParams(location.search);t.set(g.Z.Params.DAO_ADDRESS,e.address),C.push("?".concat(t.toString()))},tokenAddress:null!==(l=null===(r=x.nodeListFilters.selectedDao)||void 0===r?void 0:r.address)&&void 0!==l?l:null}),(0,a.jsxs)(z.ZP,{pageInfo:{page:x.nodes.pageIndex,totalPage:x.nodes.total},onPaginationChange:e=>{let{page:t}=e;return 0===t?{promise:Promise.resolve(),cancel:()=>{}}:P({page:t})},children:[(0,a.jsx)("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-[20px] mx-auto",children:x.nodes.data.map(e=>{let t=e.totalVotes.toString(),n=j.nodeCurrentRoundSimpleInfoMap.get("".concat(e.daoAddress,",").concat(e.walletAddress));if(n){var a,i,s;let e=new Y.Z(d.Z.wei2eth(n.promotionInfo.totalSonVotedAmount)),r=null!==(i=null===(a=x.daoContractInfo)||void 0===a?void 0:a.votePrice)&&void 0!==i?i:1n,o=new Y.Z(d.Z.wei2eth((null!==(s=n.promotionInfo.totalSonEthDone)&&void 0!==s?s:0n)/r*r));t=e.plus(o).toString()}return{id:e.id,address:e.walletAddress,daoAddress:e.daoAddress,nodeType:e.nodeType,totalVotes:t,creationTime:e.createTime}}).map(e=>(0,a.jsx)(F,{...e},e.id))}),0===x.nodes.data.length?(0,a.jsx)(et.Z,{}):null]})]})})}function ea(e){return(0,a.jsx)("div",{className:(0,E.m6)("",e.className),children:(0,a.jsx)("img",{src:"/images/dao/dao-vote-banner.png",alt:"Vote Banner"})})}var ei=n(12628),es=n(72917);function er(){return(0,es.Z)(void 0,{autoTrigger:!0}),(0,a.jsx)("div",{className:"relative overflow-x-hidden text-secondary bg-[#000000]",children:(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)(o.Z,{}),(0,a.jsx)(i.Z,{}),(0,a.jsxs)(s.ZP,{width:s.W7.Wrapper,background:s.nV.None,className:"mx-[20px] 2xl:mx-auto",children:[(0,a.jsx)(ei.Z,{activeTarget:C.r.VotingTabEnum.VOTE}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-2",children:[(0,a.jsx)(S,{className:"flex-1 max-w-[836px] order-2 md:order-1"}),(0,a.jsx)(ea,{className:"hidden md:block order-1 md:order-2"})]}),(0,a.jsx)(en,{className:"mt-4 md:mt-[50px]"}),(0,a.jsx)(r.Z,{})]})]})})}},48423:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a=n(57437);n(2265),n(53953);var i=n(22448),s=n(10867),r=n(3682),o=n(53335);function d(e){let{chainId:t,address:n,text:d,children:l,className:u,...p}=e,c=(0,a.jsx)(i.Z,{children:n}),m=new r.Q(t).getAddressUrl(n);return(0,a.jsx)(s.Z,{placement:"top",speaker:c,trigger:"hover",children:(0,a.jsx)("a",{className:(0,o.m6)("component-chain-address-link pointer hover underline",u),href:m,target:"_blank",...p,children:null!=d?d:n})})}},11710:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(57437);n(2265);var i=n(53335);function s(e){let{children:t,className:n}=e;return(0,a.jsx)("p",{className:(0,i.m6)("text-[14px] text-tip desc",n),children:t})}},39594:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(57437);n(2265);var i=n(53335);function s(e){let{children:t,className:n}=e;return(0,a.jsx)("h1",{className:(0,i.m6)("text-[33px] md:text-[36px] leading-none text-white font-semibold",n),children:t})}},30648:function(e,t,n){"use strict";n.d(t,{ZP:function(){return m}});var a,i,s,r,o,d=n(57437),l=n(2265);n(2624);var u=n(94746);function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}var c=function(e){return u.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 22 22"},e),s||(s=u.createElement("path",{fill:"currentColor",d:"M21.395 21.395a2.066 2.066 0 0 1-2.922 0l-3.646-3.647a9.57 9.57 0 0 1-5.185 1.535C4.317 19.283 0 14.967 0 9.64S4.317 0 9.642 0a9.64 9.64 0 0 1 9.641 9.641 9.57 9.57 0 0 1-1.534 5.186l3.646 3.646a2.066 2.066 0 0 1 0 2.922M9.643 2.755a6.887 6.887 0 1 0 0 13.774 6.887 6.887 0 0 0 0-13.774"})))};function m(e){let{value:t,children:n,className:a,placeHolder:i,onInputChange:s,searchButton:r,onConfirm:o,...u}=e,p=l.useRef(null),m=r?"button-customize":"button-default";return r=null!=r?r:(0,d.jsx)(c,{className:"icon text-tip",onClick:()=>null==o?void 0:o()}),l.useEffect(()=>{},[]),(0,d.jsxs)("div",{className:"search-bar ".concat(m," ").concat(null!=a?a:""),...u,children:[(0,d.jsx)("input",{ref:p,className:"input",type:"text",placeholder:null!=i?i:"Search",value:null!=t?t:"",onChange:function(e){null==s||s(e.target.value)},onKeyDown:e=>{("Enter"===e.nativeEvent.code||"NumpadEnter"===e.nativeEvent.code)&&(null==o||o())}}),r]})}(a=r||(r={})).NORMAL="normal-size",a.MAX_WIDTH="max-width",(i=o||(o={})).DEFAULT="button-default",i.CUSTOMIZE="button-customize"},69787:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(57437),i=n(2265);n(76360);var s=n(52926),r=n(66917);function o(e){let t=e.isEnd||!1,n=i.useRef(null),o=i.useRef(null),[d,l]=i.useState(!1);return i.useEffect(()=>{if(!o.current||!n.current)return;let t=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(e.onScrollBottom().finally(()=>{l(!1)}),l(!0))})},{root:n.current,threshold:.1});return t.observe(o.current),()=>{t.disconnect()}},[n,o]),(0,a.jsxs)("div",{className:"flex flex-col scroll-layout ".concat(e.className||""),children:[(0,a.jsx)("div",{ref:n,className:"scroll-wrapper",children:e.children}),e.loading||d?(0,a.jsx)(s.Z,{}):null,e.loading||d||t?null:(0,a.jsx)(r.Z,{ref:o,text:"Load More"})]})}},32223:function(e,t,n){"use strict";n.d(t,{L:function(){return i},Z:function(){return d}});var a,i,s=n(57437),r=n(53335);n(61940);var o=n(2265);function d(e){var t,n;let[a,i]=(0,o.useState)(null!==(t=e.activeIndex)&&void 0!==t?t:0),d=null!==(n=e.displayType)&&void 0!==n?n:"default";return(0,o.useEffect)(()=>{void 0!==e.activeIndex&&e.activeIndex!==a&&i(e.activeIndex)},[e.activeIndex]),(0,s.jsxs)("div",{className:(0,r.m6)("tab-list-v2 flex flex-col items-stretch ".concat(d),e.className),children:[(0,s.jsxs)("ul",{className:(0,r.m6)("list tab-list-title flex flex-row items-center",e.tabListTitleClassName),children:[e.title?(0,s.jsx)("li",{className:(0,r.m6)("item tab-list-title-item bold transition-fast no-active text-[12px] md:text-[14px]",e.tabList.length>3?"flex-1 md:flex-none":"",e.titleClassName),children:(0,s.jsx)("span",{className:"flex justify-center items-center title cursor-pointer hover transition-fast",children:e.title})},-1):null,e.tabList.map((t,n)=>{var o,l;return(0,s.jsx)("li",{className:(0,r.m6)("item tab-list-title-item bold transition-fast text-[12px] md:text-[14px] ".concat(a==n?"in-active":"no-active"),e.tabList.length>3?"flex-1 md:flex-none":"",null===(o=e.tabItemClassName)||void 0===o?void 0:o.call(e,a===n)),children:(0,s.jsx)("span",{onClick:()=>{i(n),e.onClick(e.tabList[n].url)},className:(0,r.m6)("flex justify-center items-center title cursor-pointer hover transition-fast w-full",null===(l=e.tabItemTitleClassName)||void 0===l?void 0:l.call(e,a===n)),children:(0,s.jsx)("i",{className:a==n&&("default"===d||"border-gradient"===d)?"text-gradient":"text-secondary",children:t.title})})},n)})]}),e.children?(0,s.jsx)("ul",{className:"list tab-list-content",children:e.children}):""]})}(a=i||(i={})).Default="default",a.BorderGradient="border-gradient",a.BgGradient="bg-gradient"},33082:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});let a=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"nft",type:"address"},{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"nft",type:"address"},{indexed:!0,internalType:"address",name:"nftRewards",type:"address"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"symbol",type:"string"},{indexed:!1,internalType:"string",name:"img",type:"string"},{indexed:!1,internalType:"string",name:"link",type:"string"},{indexed:!1,internalType:"uint256",name:"cap",type:"uint256"},{indexed:!1,internalType:"uint256",name:"startTs",type:"uint256"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint256",name:"ts",type:"uint256"}],name:"NftCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ts",type:"uint256"}],name:"NftTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"nft",type:"address"},{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Refunded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"nft",type:"address"},{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RefundedAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"nft",type:"address"},{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"backAmount",type:"uint256"}],name:"Settled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!0,internalType:"address",name:"stakingRewards",type:"address"},{indexed:!0,internalType:"address",name:"nftStakingReward",type:"address"},{indexed:!1,internalType:"address",name:"lp",type:"address"},{indexed:!1,internalType:"string",name:"symbol",type:"string"},{indexed:!1,internalType:"uint256",name:"totalSupply",type:"uint256"},{indexed:!1,internalType:"uint256",name:"liquidity",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountA",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountB",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ts",type:"uint256"}],name:"TokenCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ts",type:"uint256"}],name:"TokenTransfer",type:"event"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"string",name:"img",type:"string"},{internalType:"uint256",name:"cap",type:"uint256"},{internalType:"string",name:"link",type:"string"},{internalType:"uint256",name:"startTs",type:"uint256"}],name:"createNft",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"nft",type:"address"}],name:"deploySwap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenFactory",type:"address"},{internalType:"address",name:"_WETH",type:"address"},{internalType:"address payable",name:"_stakingRewardsFactory",type:"address"},{internalType:"address",name:"_trinityswapV2Router",type:"address"},{internalType:"address",name:"_trinityswapV2Factory",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"mintEvent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"nftInfoBySymbol",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nftList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"ts",type:"uint256"}],name:"nftTransferEvent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"refundAllEvent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"refundEvent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_dao",type:"address"}],name:"setDao",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_trinityswapV2Router",type:"address"}],name:"setRouter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenReceipt",type:"address"}],name:"setTokenReceipt",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"backAmount",type:"uint256"}],name:"settleEvent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"tokenInfoBySymbol",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tokenList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"ts",type:"uint256"}],name:"tokenTransferEvent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}]},45556:function(e,t,n){"use strict";n.d(t,{R:function(){return a}});let a=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amountToken",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountETH",type:"uint256"},{indexed:!1,internalType:"uint256",name:"liquidity",type:"uint256"}],name:"AddLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amountIn",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountOut",type:"uint256"},{indexed:!1,internalType:"uint256",name:"reserveA",type:"uint256"},{indexed:!1,internalType:"uint256",name:"reserveB",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ts",type:"uint256"}],name:"Swap",type:"event"},{inputs:[],name:"COMMON_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountTokenDesired",type:"uint256"},{internalType:"uint256",name:"amountTokenMin",type:"uint256"},{internalType:"uint256",name:"amountETHMin",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"addLiquidityETH",outputs:[{internalType:"uint256",name:"amountToken",type:"uint256"},{internalType:"uint256",name:"amountETH",type:"uint256"},{internalType:"uint256",name:"liquidity",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"addWhiteList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"reserveIn",type:"uint256"},{internalType:"uint256",name:"reserveOut",type:"uint256"}],name:"getAmountIn",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"reserveIn",type:"uint256"},{internalType:"uint256",name:"reserveOut",type:"uint256"}],name:"getAmountOut",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_router02",type:"address"},{internalType:"address",name:"_priceConsumerV3",type:"address"},{internalType:"address",name:"_trinityswapV2Factory",type:"address"},{internalType:"address payable",name:"_stakingRewardsFactory",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceConsumerV3",outputs:[{internalType:"contract PriceConsumerV3",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"router02",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addWhiteUser",type:"address"}],name:"setAddWhiteUser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_dao",type:"address"}],name:"setDao",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_developer",type:"address"}],name:"setDeveloper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_router02",type:"address"}],name:"setRouter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"fee",type:"uint256"}],name:"setTokenSwapFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stakingRewardsFactory",outputs:[{internalType:"contract IStakingRewardsFactory",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"inputAmount",type:"uint256"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapETHForExactTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"inputAmount",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactETHForTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactTokensForETH",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapTokensForExactETH",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tokenSwapFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"trinityswapV2Factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"usedAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whiteList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}]},12628:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var a=n(57437),i=n(32223),s=n(43949),r=n(89769),o=n(99376),d=n(53335),l=n(95665);function u(e){let t=(0,o.useRouter)(),{t:n}=(0,s.$G)(["dao"]),u=[{title:n("TabVote"),url:"/dao/node",target:r.r.VotingTabEnum.VOTE},{title:n("TabEWV"),url:"/dao/ewv",target:r.r.VotingTabEnum.EWV},{title:n("TabNode"),url:"/dao/user",target:r.r.VotingTabEnum.NODE}];return(0,a.jsx)("div",{className:"flex flex-col items-stretch md:items-center",children:(0,a.jsx)(i.Z,{className:(0,d.m6)("mb-10",e.className),tabItemClassName:()=>"w-[33%] md:w-[180px]",tabItemTitleClassName:()=>"w-full",displayType:i.L.BgGradient,activeIndex:u.findIndex(t=>t.target===e.activeTarget),tabList:u,onClick:e=>{let n=new URLSearchParams(location.search);if(!n.has(l.Z.Params.DAO_ADDRESS))return t.push(e);let a=new URL(e,location.origin),i=new URLSearchParams(a.search);i.set(l.Z.Params.DAO_ADDRESS,n.get(l.Z.Params.DAO_ADDRESS)),a.search=i.toString(),t.push("".concat(a.origin).concat(a.pathname,"?").concat(i.toString()))}})})}},50544:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var a=n(2265),i=n(89769),s=n(43949),r=n(6178),o=n(21707),d=n(40366),l=n(3682),u=n(10433),p=n(95665),c=n(81939);function m(){var e,t,n,m,y,f,x,v,T,g,h,b,w,N,E,C,j,A,S,I;let k=(0,r.T)(),{t:Z,i18n:D}=(0,s.$G)(["dao"]),M=(0,r.C)(e=>e.dao),L="/images/dao/",O=new Map([[i.r.NodeType.NONE,{color1:"#000",color2:"#fff",title:Z("notNode.title"),description:Z("notNode.description"),image:"".concat(L,"not-node.png"),upgradeInfo:{userNodeCount:0n,requiredNodeCount:0n,ethPrice:0n}}],[i.r.NodeType.CANDIDATE,{color1:"#E700E6",color2:"#4B4BDF",title:Z("candidateNode.title"),description:Z("candidateNode.description",{title:Z("candidateNode.title").toLocaleLowerCase(),token:M.tokenInfo.symbol,value:c.Z.wei2eth(null!==(h=null===(e=M.daoContractInfo)||void 0===e?void 0:e.applyCandidateEthAmount)&&void 0!==h?h:0n)}),image:"".concat(L,"candidate-node.png"),upgradeInfo:{userNodeCount:0n,requiredNodeCount:0n,ethPrice:null!==(b=null===(t=M.daoContractInfo)||void 0===t?void 0:t.applyCandidateEthAmount)&&void 0!==b?b:0n}}],[i.r.NodeType.MASTER,{color1:"#EA7D01",color2:"#B06D00",title:Z("mainNode.title"),description:Z("mainNode.description",{prevTitle:Z("candidateNode.title").toLocaleLowerCase(),title:Z("mainNode.title").toLocaleLowerCase(),nodeCount:String(null!==(w=null===(n=M.daoContractInfo)||void 0===n?void 0:n.votesForMaster)&&void 0!==w?w:0n)}),image:"".concat(L,"main-node.png"),upgradeInfo:{userNodeCount:null!==(N=null===(m=M.userInfo)||void 0===m?void 0:m.userInfo.sonCount)&&void 0!==N?N:0n,requiredNodeCount:null!==(E=null===(y=M.daoContractInfo)||void 0===y?void 0:y.votesForMaster)&&void 0!==E?E:0n,ethPrice:0n}}],[i.r.NodeType.SUPER,{color1:"#00E7D4",color2:"#4B4BDF",title:Z("superNode.title"),description:Z("superNode.description",{prevTitle:Z("mainNode.title").toLocaleLowerCase(),title:Z("superNode.title").toLocaleLowerCase(),token:M.tokenInfo.symbol,value:c.Z.wei2eth(null!==(C=null===(f=M.daoContractInfo)||void 0===f?void 0:f.applySuperEthAmount)&&void 0!==C?C:0n),nodeCount:String(null!==(j=null===(x=M.daoContractInfo)||void 0===x?void 0:x.masterForSuper)&&void 0!==j?j:0n)}),image:"".concat(L,"super-node.png"),upgradeInfo:{userNodeCount:null!==(A=null===(v=M.userInfo)||void 0===v?void 0:v.userInfo.sonMasterNodeCount)&&void 0!==A?A:0n,requiredNodeCount:null!==(S=null===(T=M.daoContractInfo)||void 0===T?void 0:T.masterForSuper)&&void 0!==S?S:0n,ethPrice:null!==(I=null===(g=M.daoContractInfo)||void 0===g?void 0:g.applySuperEthAmount)&&void 0!==I?I:0n}}]]),R=Array.from(O.entries()),P=new Map;R.forEach((e,t)=>{let n=e[0],a=R[t+1];P.set(n,{nextKey:a?Number(a[0]):void 0,nextValue:a?a[1]:void 0})});let F=new Map(M.nodesCurrentRoundInfo.map(e=>["".concat(e.daoAddress,",").concat(e.nodeAddress),e]));async function _(e,t){if(0===e.length)return[];let n=new o.C(t.daoAddress,d.K),a=e.map(e=>n.promotions(t.currentRoundNO,e)),i=l.Q.getDefaultProvider(),s=new o.z(l.Q.getTargetNet().chainId,i),r=await s.all(a),p=e.map((e,n)=>({nodeAddress:e,daoAddress:t.daoAddress,promotionInfo:r[n]}));return u.Z.I("getNodeCurrentRoundSimpleInfo",p),p}async function z(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(!(t=null!=t?t:M.daoContractInfo))throw Error("daoAddress and currentRoundNO can't be empty");let n=await _([e,M.nodes.data.map(e=>e.walletAddress)].flat(),t);k(p.Z.slice.actions.updateNodesCurrentRoundInfo(n))}return a.useEffect(()=>{O.set(i.r.NodeType.MASTER,{...O.get(i.r.NodeType.MASTER),title:Z("mainNode.title")}),O.set(i.r.NodeType.SUPER,{...O.get(i.r.NodeType.SUPER),title:Z("superNode.title")})},[D.language]),{nodeMap:O,nodeToNextMap:P,getNodeCurrentRoundSimpleInfo:_,updateNodeCurrentRoundInfoSimpleInfo:z,nodeCurrentRoundSimpleInfoMap:F}}},53953:function(){},2624:function(){},76360:function(){},61940:function(){},31785:function(){}},function(e){e.O(0,[1283,5073,9409,4758,2784,927,6482,6870,977,2506,6764,2517,3448,3690,9738,1811,7072,6570,6011,4942,9481,1240,8933,2971,2117,1744],function(){return e(e.s=91083)}),_N_E=e.O()}]);