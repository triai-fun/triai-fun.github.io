(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7374,6011],{25455:function(e,t,n){"use strict";var a,r,i=n(94746);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 33 33"},e),a||(a=i.createElement("circle",{cx:16.5,cy:16.5,r:16,fill:"#000",stroke:"#111"})),r||(r=i.createElement("path",{fill:"currentColor",d:"M22.566 11.014a.04.04 0 0 0-.021-.02 13.4 13.4 0 0 0-3.257-.993.05.05 0 0 0-.052.024q-.225.4-.406.82a12.4 12.4 0 0 0-3.658 0 8 8 0 0 0-.412-.82.052.052 0 0 0-.052-.024 13.3 13.3 0 0 0-3.257.994.05.05 0 0 0-.021.018c-2.074 3.05-2.643 6.023-2.364 8.96a.05.05 0 0 0 .02.038 13.4 13.4 0 0 0 3.996 1.987q.016.005.031 0a.05.05 0 0 0 .025-.018q.464-.621.818-1.308a.05.05 0 0 0-.028-.07 9 9 0 0 1-1.248-.585.05.05 0 0 1-.025-.04.05.05 0 0 1 .02-.044q.126-.092.248-.191a.05.05 0 0 1 .051-.007c2.619 1.176 5.454 1.176 8.041 0a.05.05 0 0 1 .052.006q.123.099.249.192a.05.05 0 0 1 .013.067.1.1 0 0 1-.017.017q-.6.344-1.25.585l-.017.01a.05.05 0 0 0-.015.04.1.1 0 0 0 .006.02q.36.682.816 1.307a.05.05 0 0 0 .057.019 13.3 13.3 0 0 0 4.001-1.987.05.05 0 0 0 .021-.037c.334-3.396-.559-6.345-2.366-8.96m-8.22 7.171c-.788 0-1.437-.712-1.437-1.586s.637-1.587 1.438-1.587c.807 0 1.45.718 1.438 1.586 0 .875-.637 1.587-1.438 1.587m5.317 0c-.788 0-1.438-.712-1.438-1.586s.637-1.587 1.438-1.587c.808 0 1.45.718 1.438 1.586 0 .875-.63 1.587-1.438 1.587"})))}},51800:function(e,t,n){"use strict";var a,r=n(94746);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}t.Z=function(e){return r.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"none"},e),a||(a=r.createElement("path",{fill:"#333",d:"M12.5 0C5.607 0 0 5.607 0 12.5S5.607 25 12.5 25 25 19.393 25 12.5 19.393 0 12.5 0m2.708 9.464a1.34 1.34 0 1 1 2.679 0v1.786a1.34 1.34 0 1 1-2.679 0zm-8.036 0a1.339 1.339 0 1 1 2.679 0v1.786a1.339 1.339 0 1 1-2.679 0zm11.73 7.187a7.99 7.99 0 0 1-6.373 3.141 7.99 7.99 0 0 1-6.33-3.087.893.893 0 0 1 1.406-1.1 6.21 6.21 0 0 0 4.925 2.401 6.21 6.21 0 0 0 4.957-2.443.892.892 0 1 1 1.416 1.088"})))}},12642:function(e,t,n){"use strict";var a,r=n(94746);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}t.Z=function(e){return r.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 19 18"},e),a||(a=r.createElement("path",{fill:"#F2CB51",d:"M5 18c-.462 0-.913-.14-1.293-.42a2.15 2.15 0 0 1-.879-2.128l.546-3.156a1.22 1.22 0 0 0-.368-1.099L.667 8.953A2.15 2.15 0 0 1 .11 6.721a2.19 2.19 0 0 1 1.792-1.485l3.217-.455a1.25 1.25 0 0 0 .95-.678l1.437-2.876A2.21 2.21 0 0 1 9.5 0c.855 0 1.614.468 1.983 1.216L12.93 4.09c.19.362.546.62.95.678l3.217.456a2.19 2.19 0 0 1 1.793 1.484 2.15 2.15 0 0 1-.558 2.233l-2.327 2.232c-.297.28-.44.701-.368 1.099l.546 3.156c.142.83-.19 1.636-.879 2.127a2.23 2.23 0 0 1-2.327.163l-2.884-1.46a1.3 1.3 0 0 0-1.176 0l-2.885 1.495A2.35 2.35 0 0 1 5.001 18"})))}},54325:function(e,t,n){"use strict";var a,r,i=n(94746);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 33 33"},e),a||(a=i.createElement("circle",{cx:16.5,cy:16.5,r:16,fill:"#000",stroke:"#111"})),r||(r=i.createElement("path",{fill:"currentColor",d:"m24.12 11.177-2.298 11.04c-.166.776-.616.97-1.256.606l-3.483-2.596-1.682 1.65c-.19.194-.332.34-.71.34l.26-3.64 6.468-5.968c.284-.267-.071-.389-.427-.146l-8.007 5.144-3.436-1.092c-.758-.243-.758-.777.166-1.14l13.433-5.314c.64-.218 1.185.146.972 1.116"})))}},73321:function(e,t,n){"use strict";var a,r,i=n(94746);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 33 33"},e),a||(a=i.createElement("circle",{cx:16.5,cy:16.5,r:16,fill:"#000",stroke:"#111"})),r||(r=i.createElement("path",{fill:"currentColor",d:"M16.828 10.012c.816-.012 1.627-.006 2.437-.012.05.893.393 1.803 1.092 2.432.698.648 1.683.945 2.643 1.045v2.35c-.898-.029-1.802-.204-2.619-.565a8 8 0 0 1-1.01-.543c-.006 1.703.007 3.407-.012 5.104a4.27 4.27 0 0 1-.842 2.299c-.816 1.12-2.232 1.849-3.684 1.872a4.8 4.8 0 0 1-2.544-.6c-1.26-.695-2.145-1.967-2.276-3.332a10 10 0 0 1-.006-.869c.112-1.108.698-2.17 1.608-2.893 1.035-.84 2.482-1.243 3.835-1.003.012.863-.025 1.726-.025 2.59-.618-.187-1.34-.135-1.883.215-.393.24-.692.607-.848 1.021-.131.298-.094.624-.087.94.15.956 1.134 1.761 2.182 1.674a2.13 2.13 0 0 0 1.727-.94c.118-.192.25-.39.256-.618.062-1.044.037-2.082.043-3.127.006-2.35-.006-4.695.013-7.04"})))}},59075:function(e,t,n){"use strict";var a,r,i=n(94746);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 33 33"},e),a||(a=i.createElement("circle",{cx:16.5,cy:16.5,r:16,fill:"#000",stroke:"#111"})),r||(r=i.createElement("path",{fill:"currentColor",d:"M19.77 18c.06-.495.105-.99.105-1.5s-.045-1.005-.105-1.5h2.535c.12.48.195.982.195 1.5 0 .517-.075 1.02-.195 1.5m-3.863 4.17c.45-.833.796-1.733 1.035-2.67h2.213a6.02 6.02 0 0 1-3.248 2.67M18.255 18h-3.51a10 10 0 0 1-.12-1.5c0-.51.045-1.012.12-1.5h3.51c.068.488.12.99.12 1.5s-.052 1.005-.12 1.5M16.5 22.47a10.2 10.2 0 0 1-1.432-2.97h2.865a10.2 10.2 0 0 1-1.433 2.97m-3-8.97h-2.19a5.94 5.94 0 0 1 3.24-2.67c-.45.832-.788 1.733-1.05 2.67m-2.19 6h2.19c.262.938.6 1.837 1.05 2.67a6 6 0 0 1-3.24-2.67m-.615-1.5a6.2 6.2 0 0 1-.195-1.5c0-.518.075-1.02.195-1.5h2.535c-.06.495-.105.99-.105 1.5s.045 1.005.105 1.5m3.27-7.477c.622.9 1.125 1.905 1.433 2.977h-2.865c.307-1.072.81-2.078 1.432-2.977m5.19 2.977h-2.213a11.7 11.7 0 0 0-1.035-2.67 6 6 0 0 1 3.248 2.67M16.5 9C12.352 9 9 12.375 9 16.5c0 4.14 3.36 7.5 7.5 7.5s7.5-3.36 7.5-7.5S20.64 9 16.5 9"})))}},72546:function(e,t,n){"use strict";var a,r,i=n(94746);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:60,height:60,fill:"none",viewBox:"0 0 33 33"},e),a||(a=i.createElement("circle",{cx:16.5,cy:16.5,r:16,fill:"#000",stroke:"#111"})),r||(r=i.createElement("path",{fill:"currentColor",d:"M19.974 11h1.96l-4.284 4.876 5.04 6.636h-3.946l-3.092-4.025-3.537 4.025h-1.963l4.584-5.216L9.9 11h4.047l2.794 3.678zm-.689 10.343h1.087l-7.015-9.236H12.19z"})))}},34456:function(e,t,n){"use strict";var a,r,i=n(94746);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}t.Z=function(e){return i.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 33 33"},e),a||(a=i.createElement("circle",{cx:16.5,cy:16.5,r:16,fill:"#000",stroke:"#111"})),r||(r=i.createElement("path",{fill:"currentColor",d:"m22.509 11.366-1.115-.113a50 50 0 0 0-10.034 0l-1.069.113a2.6 2.6 0 0 0-1.648.845A2.5 2.5 0 0 0 8 13.924v6.152c-.01.63.22 1.24.643 1.713s1.011.774 1.648.845l1.115.113c3.336.337 6.698.337 10.034 0l1.069-.113a2.6 2.6 0 0 0 1.648-.844 2.5 2.5 0 0 0 .643-1.714v-6.152a2.5 2.5 0 0 0-.643-1.713 2.6 2.6 0 0 0-1.648-.845m-3.818 6.1-2.97 1.95a.58.58 0 0 1-.763-.197.56.56 0 0 1-.085-.268v-3.902a.56.56 0 0 1 .304-.496.58.58 0 0 1 .59.031l2.97 1.95a.56.56 0 0 1 .256.466.55.55 0 0 1-.256.465z"})))}},28074:function(e,t,n){Promise.resolve().then(n.bind(n,35761))},35761:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return tt}});var a,r,i,s,l,o,c,d,u,m,p=n(57437),g=n(2265);n(64667);var f=n(20605),h=n(83123),x=n(72790),y=n(11340),v=n(79787),w=n(88847),k=n(6178),b=n(48423),N=n(54740),j=n(68071),I=n(32223),C=n(74439),S=n(72525),T=n(87072),Z=n(65435),A=n(10433),D=n(72300),E=n(38435),P=n(43009),O=n(7797),M=n(53335),L=n(64037),R=n(3682),B=n(43949),_=n(97235),F=n(5664),V=n(60389);function z(e){return(0,p.jsxs)("svg",{width:"17",height:"15",viewBox:"0 0 17 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("path",{d:"M13.1259 0H15.6815L10.0983 6.35395L16.6667 15H11.5235L7.49548 9.75608L2.88636 15H0.329069L6.30091 8.20386L0 0H5.27341L8.91455 4.79301L13.1259 0ZM12.2289 13.4769H13.6451L4.504 1.44319H2.98447L12.2289 13.4769Z",fill:"url(#".concat(e.defsPrexId,"_20_1034)")}),(0,p.jsx)("defs",{children:(0,p.jsxs)("linearGradient",{id:"".concat(e.defsPrexId,"_20_1034"),x1:"-0.000247025",y1:"7.49995",x2:"16.6666",y2:"7.49995",gradientUnits:"userSpaceOnUse",children:[(0,p.jsx)("stop",{stopColor:"#E700E6"}),(0,p.jsx)("stop",{offset:"1",stopColor:"#4B4BDF"})]})})]})}(a=s||(s={})).SWAP_DONE="SWAP_DONE",a.KLINE_UPDATED="KLINE_UPDATED",(r=l||(l={})).Auto="Auto",r.Custom="Custom",(i=o||(o={}))[i.None=0]="None",i[i.InitWithdraw=1]="InitWithdraw",i[i.NormalWithdraw=2]="NormalWithdraw";var H=n(80149),W=n(71002),U=n(69356),q=n(68651),K=n(56611),Q=n(94746);function G(){return(G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}var $=function(e){return Q.createElement("svg",G({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),c||(c=Q.createElement("path",{fill:"currentColor",d:"M10 4.933c-2.776 0-5.067 2.291-5.067 5.067 0 2.775 2.29 5.066 5.066 5.066s5.067-2.291 5.067-5.066-2.291-5.067-5.067-5.067m0 8.811A3.74 3.74 0 0 1 6.254 10a3.74 3.74 0 0 1 3.744-3.745A3.74 3.74 0 0 1 13.744 10a3.74 3.74 0 0 1-3.745 3.744"})),d||(d=Q.createElement("path",{fill:"currentColor",d:"M19.515 11.674A1.94 1.94 0 0 1 18.59 10c0-.705.353-1.278.925-1.674.397-.265.573-.75.44-1.234a11.3 11.3 0 0 0-.88-2.115c-.22-.396-.705-.66-1.19-.528-.66.132-1.321-.044-1.806-.529-.484-.484-.66-1.145-.529-1.806.089-.44-.132-.925-.528-1.19-.661-.396-1.41-.66-2.115-.88-.44-.133-.969.043-1.233.44-.353.573-.97.925-1.674.925-.705 0-1.278-.352-1.674-.925-.265-.397-.75-.573-1.234-.44a11.3 11.3 0 0 0-2.115.88c-.396.22-.66.705-.528 1.19.132.66-.044 1.366-.529 1.806-.484.485-1.145.661-1.806.529-.44-.088-.925.132-1.19.528-.396.661-.66 1.41-.88 2.115-.133.44.043.97.44 1.234.573.352.925.969.925 1.674 0 .704-.352 1.277-.925 1.674-.397.264-.573.749-.44 1.233.22.75.528 1.454.88 2.115.22.396.705.617 1.19.528.66-.132 1.366.045 1.806.53.485.484.661 1.145.529 1.805-.088.44.132.925.528 1.19.661.396 1.41.66 2.115.88.44.133.97-.043 1.234-.44.352-.572.969-.925 1.674-.925.704 0 1.277.353 1.674.925.22.309.572.485.925.485.088 0 .22 0 .308-.044a11.3 11.3 0 0 0 2.115-.881c.396-.22.66-.705.528-1.19-.132-.66.045-1.365.53-1.806.484-.484 1.145-.66 1.805-.529.44.089.925-.132 1.19-.528.396-.661.66-1.41.88-2.115.133-.484-.043-.969-.44-1.233m-1.541 2.555a3.28 3.28 0 0 0-2.864.925 3.28 3.28 0 0 0-.925 2.864 9.6 9.6 0 0 1-1.542.66 3.32 3.32 0 0 0-2.687-1.365c-1.058 0-2.027.484-2.688 1.365a9.6 9.6 0 0 1-1.542-.66 3.28 3.28 0 0 0-.925-2.864 3.28 3.28 0 0 0-2.863-.925 9.6 9.6 0 0 1-.661-1.542A3.32 3.32 0 0 0 2.643 10c0-1.058-.485-2.027-1.366-2.688a9.6 9.6 0 0 1 .66-1.542 3.28 3.28 0 0 0 2.864-.925 3.28 3.28 0 0 0 .925-2.863 9.6 9.6 0 0 1 1.542-.661 3.32 3.32 0 0 0 2.688 1.366c1.057 0 2.026-.485 2.687-1.366a9.6 9.6 0 0 1 1.542.66 3.28 3.28 0 0 0 .925 2.864 3.28 3.28 0 0 0 2.864.925c.264.485.484 1.014.66 1.542A3.32 3.32 0 0 0 17.27 10c0 1.057.484 2.026 1.365 2.687a9.6 9.6 0 0 1-.66 1.542"})))},J=n(6543);function X(e){var t,n;let a=null!==(t=e.defsPrexId)&&void 0!==t?t:"paint0";return(0,p.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:null!==(n=e.className)&&void 0!==n?n:"",children:[(0,p.jsx)("defs",{children:(0,p.jsxs)("linearGradient",{id:"".concat(a,"_linear_20_267"),x1:"24.3729",y1:"28.0337",x2:"24.3729",y2:"12.0008",gradientUnits:"userSpaceOnUse",children:[(0,p.jsx)("stop",{stopColor:"#E700E6"}),(0,p.jsx)("stop",{offset:"1",stopColor:"#4B4BDF"})]})}),(0,p.jsx)("circle",{cx:"20",cy:"20",r:"19.5",fill:"#050505",stroke:"#111111"}),(0,p.jsx)("path",{d:"M26.7621 23.0146C26.9044 23.1568 26.9888 23.3467 26.9991 23.5475C27.0094 23.7483 26.9448 23.9458 26.8179 24.1018L26.7621 24.1635L23.1321 27.794C22.6378 28.2878 21.8057 27.9673 21.7489 27.2933L21.7456 27.2196L21.7456 12.8123C21.7457 12.6038 21.826 12.4033 21.97 12.2523C22.1139 12.1014 22.3104 12.0116 22.5187 12.0016C22.727 11.9916 22.9312 12.0621 23.0889 12.1985C23.2466 12.3349 23.3459 12.5268 23.366 12.7344L23.3698 12.8123L23.3698 25.2587L25.6138 23.0146C25.756 22.8726 25.9457 22.7882 26.1464 22.7779C26.3471 22.7676 26.5445 22.8321 26.7004 22.9589L26.7621 23.0146Z",fill:"url(#".concat(a,"_linear_20_267)")}),(0,p.jsx)("path",{d:"M12.2381 17.019C12.0958 16.8768 12.0114 16.687 12.0011 16.4861C11.9908 16.2853 12.0553 16.0878 12.1823 15.9319L12.2381 15.8701L15.8686 12.2396C16.3624 11.7458 17.195 12.0663 17.2519 12.7404L17.2551 12.814L17.2551 27.2213C17.255 27.4298 17.1747 27.6303 17.0308 27.7813C16.8868 27.9322 16.6904 28.022 16.4821 28.032C16.2738 28.042 16.0696 27.9715 15.9118 27.8351C15.7541 27.6987 15.6549 27.5068 15.6347 27.2992L15.631 27.2213L15.6304 14.7749L13.3869 17.019C13.2447 17.1612 13.0549 17.2457 12.8541 17.256C12.6532 17.2663 12.4557 17.2017 12.2998 17.0747L12.2381 17.019Z",fill:"#333333"})]})}var Y=n(63671),ee=n(64798),et=n.n(ee),en=n(30648);n(43847);var ea=n(69787),er=n(56679);n(33082),n(8113),n(79294);var ei=n(21707),es=n(1804),el=n(68031),eo=n(49481);function ec(e){var t,n;let{t:a}=(0,B.$G)(["common"]),r=(0,k.T)(),i=(0,k.C)(e=>e.token),s=(0,k.C)(e=>e.user),l=null!==(t=e.showResultAfterFocus)&&void 0!==t&&t,o=g.useRef(null),[c,d]=g.useState(""),[u,m]=g.useState((0,Y.ki)({pageSize:100})),h=g.useRef(u);g.useEffect(()=>{h.current=u},[u]);let[v,b]=g.useState(!1),N=R.Q.getTargetNet(),j=(0,eo.Z)(s.ethInfo.walletAddress),I=et()(function(e){d(e)});function C(t){var n;let a=null!==(n=t.silence)&&void 0!==n&&n,r=new AbortController,i=new w.Z,s=Promise.resolve("");function l(e){r.abort(e)}if(u.isLoading||1!==t.page&&u.isEnd)return{promise:s,cancel:l};let o=t.page;return a||m({...u,isLoading:!0,data:[]}),{promise:s=i.getTokenSimpleList({page:o,pageSize:u.pageSize,keyword:c,abortController:r}).then(t=>{var n,a,r;if(c!=c)return;let i=new el.zv(t);if(i.hasError())return Promise.reject(i.getError());let s=h.current,l=null!==(r=null===(n=i.getData())||void 0===n?void 0:n.coinSearchList)&&void 0!==r?r:[],d=[...1===o?[]:s.data,...l],u=0===i.getTotalPage()||0===l.length||l.length<s.pageSize;m({...s,pageIndex:o,isLoading:!1,isEnd:u,data:d}),null===(a=e.onTokensUpdated)||void 0===a||a.call(e,d),(0,g.startTransition)(()=>D(d))}).catch(e=>{f.Z.canBeIgnore(e)||(A.Z.E(e),m({...h.current,isLoading:!1}))}),cancel:l}}async function D(e){let t=R.Q.getTargetNet(),n=t.chainId,a=t.nativeCurrency.decimals;if(n!==es.a.NoNetwork){if(!s.ethInfo.walletAddress){r(U.Z.slice.actions.clearTokenBalances());return}return j.updateTokenBalances(e.map((e,t)=>{var r;return{icon:e.tokenImage,chainId:n,name:e.tokenName,address:e.tokenAddress,decimals:null!==(r=e.tokenDecimals)&&void 0!==r?r:a,symbol:e.tokenSymbol}})).catch(e=>{A.Z.E(e)})}}return g.useEffect(()=>{if(u.isLoading)return;let e=C({page:1});return()=>e.cancel(f.Z.ReactError.useEffectDestroy().asString())},[c]),g.useEffect(()=>{function t(t){if(o.current&&!o.current.contains(t.target)){var n;d(""),null===(n=e.onRequestClose)||void 0===n||n.call(e)}}return document.addEventListener("click",t),()=>{document.removeEventListener("click",t)}},[]),(0,p.jsxs)("div",{className:"search-contain text-secondary ".concat(null!==(n=e.className)&&void 0!==n?n:""," ").concat(l?"show-result-after-focus":""," ").concat(v?"focus-fixed":""),ref:o,children:[(0,p.jsx)(en.ZP,{className:"search-token-bar",placeHolder:a("Search by name or paste address"),value:c,onInputChange:I,onClick:()=>b(!0),searchButton:!1}),(0,p.jsxs)(ea.Z,{className:"search-result-contain",loading:u.isLoading,isEnd:u.isEnd,onScrollBottom:()=>u.isEnd||u.isLoading?Promise.reject("Loading"):C({page:u.pageIndex+1}).promise,children:[(0,p.jsx)("div",{className:"search-result-wrapper",children:u.data.length?(0,p.jsxs)("div",{className:"search-result",children:[(0,p.jsx)(S.Z,{className:"search-result-table",children:(0,p.jsx)(S.Z,{className:"table-body",children:u.data.map((t,n)=>{var a;return(0,p.jsxs)(x.Z,{horizontalArrangement:y.cV.SpaceBetween,verticalAlignment:y.v2.Center,onClick:()=>{if(b(!1),e.onTokenClick){e.onTokenClick(t,n);return}},className:(0,M.m6)("cursor-pointer hover table-row",e.tokenId===t.tokenId?"active":null),children:[(0,p.jsx)("span",{className:"main",children:(0,p.jsxs)(x.Z,{horizontalArrangement:y.cV.SpaceBetween,verticalAlignment:y.v2.Center,className:"main-contain",children:[(0,p.jsx)(T.LazyLoadImage,{src:t.tokenImage,alt:"",className:"logo"}),(0,p.jsx)(S.Z,{horizontalAlignment:y.v2.Start,children:(0,p.jsx)("p",{className:"title",children:t.tokenSymbol})})]})}),(0,p.jsx)("div",{className:"balance text-tip",children:P.Z.toFixed(Number(null!==(a=j.tokenBalancesMap.get("".concat(N.chainId,",").concat(t.tokenAddress)))&&void 0!==a?a:"0"),i.decimals)})]},t.tokenId)})})}),0===u.data.length?(0,p.jsx)("div",{className:"tips text-center",children:a("NoData")}):null]}):null}),l?(0,p.jsx)(Z.ZP,{className:"w-full btn-close",status:Z.Dv.Active,onClick:()=>{var t;b(!1),null==e||null===(t=e.onRequestClose)||void 0===t||t.call(e)},children:"Close"}):null]})]})}function ed(e){let{isOpen:t,onRequestClose:n,onSelect:a,type:r,tokenId:i,className:s,tokenAddress:l}=e,{t:o}=(0,B.$G)(["common"]);return(0,p.jsx)(er.Z,{className:(0,M.m6)("",s),isOpen:t,onRequestClose:n,title:o("Select a Token"),showCloseButton:!0,children:(0,p.jsx)(ec,{type:r,tokenId:i,onTokenClick:e=>{a(e),n()},onRequestClose:n,tokenAddress:l})})}n(97887),n(45556);var eu=n(344),em=n(97644);function ep(e){let{defsPrexId:t,...n}=e;return t=null!=t?t:"paint0",(0,p.jsxs)("svg",{viewBox:"0 0 17 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:[(0,p.jsx)("defs",{children:(0,p.jsxs)("linearGradient",{id:"".concat(t,"_linear_20_521"),x1:"-0.000257424",y1:"9.99994",x2:"17.3682",y2:"9.99994",gradientUnits:"userSpaceOnUse",children:[(0,p.jsx)("stop",{stopColor:"#E700E6"}),(0,p.jsx)("stop",{offset:"1",stopColor:"#4B4BDF"})]})}),(0,p.jsx)("path",{d:"M8.47183 0C11.2791 0 13.5548 2.23856 13.5548 4.99946C13.5548 7.76109 11.2791 9.99964 8.47183 9.99964C5.66454 9.99964 3.38888 7.76109 3.38888 4.99946C3.38888 2.23784 5.66525 0 8.47183 0ZM8.47183 0C11.2791 0 13.5548 2.23856 13.5548 4.99946C13.5548 7.76109 11.2791 9.99964 8.47183 9.99964C5.66454 9.99964 3.38888 7.76109 3.38888 4.99946C3.38888 2.23784 5.66525 0 8.47183 0ZM6.56581 11.6666H10.8024C14.4289 11.6666 17.3683 14.5574 17.3683 18.1247V18.5407C17.3683 19.9465 14.4282 20 10.8024 20H6.56581C2.93931 20 0 19.9979 0 18.5407V18.1247C0 14.5574 2.93931 11.6666 6.56581 11.6666Z",fill:"url(#".concat(t,"_linear_20_521)")})]})}var eg=n(81939),ef=n(40066),eh=n(3876);function ex(e){let{t}=(0,B.$G)(["common"]),n=(0,k.C)(e=>e.token),[a,r]=g.useState(null);R.Q.getTargetNet();let[i,s]=g.useTransition(),[l,o]=g.useState(0),[c,d]=g.useState((0,Y.ki)({pageSize:15})),u=g.useRef(c),m=g.useMemo(()=>{let e=new Set("0x000000000000000000000000000000000000dEaD,0x66ca5649CB09ae68903778c07b0F2b843f1856Eb,0x4d4dCf18C66bA149B13fc01Eb4537ee32975a24d".split(",").filter(e=>e.trim()).map(e=>e.toLowerCase()));return e.add(n.tokenDetail.pairAddress.toLowerCase()),e.add(n.tokenDetail.daoAddress.toLowerCase()),e.add("0x79baf19c82c88c63b4b827ba5d37f9d0a05e65d5"),e},[n.tokenDetail.pairAddress,n.tokenDetail.daoAddress]);function w(e){var t;function a(e){r.abort(e)}let r=new AbortController,i=u.current;if(!n.tokenSwapPage.tokenAddress||!e.restart&&i.isLoading)return{promise:Promise.resolve(),cancel:a};let s=e.restart?1:null!==(t=e.page)&&void 0!==t?t:i.pageIndex+1;return d({...i,isLoading:!0}),{promise:new eu.M2y().getHolders({tokenAddress:n.tokenSwapPage.tokenAddress,page:s,pageSize:i.pageSize}).then(async e=>{var t,n,a,r;let l=new el.zv(e);if(l.hasError()){let e=l.getError();(0,h.L6)(e.msg),A.Z.E(e);return}let c=l.getData(),u=(null!==(t=null==c?void 0:c.coinHolderList)&&void 0!==t?t:[]).map(e=>({address:e.walletAddress,amount:eg.Z.wei2eth(e.amount.split(".")[0]),percentage:Number(e.percent)})),m=null!==(n=l.getTotalPage())&&void 0!==n?n:i.total,p=0===l.getTotalPage()||0===u.length||u.length<i.pageSize,g=[];for(let e of u)g.push({...e,address:eh.UJ(e.address)?await eh.ru(e.address):e.address});d({...i,pageIndex:s,isLoading:!1,total:m,isEnd:p,data:g}),o(null!==(r=null!==(a=null==c?void 0:c.holdersCount)&&void 0!==a?a:null==c?void 0:c.total)&&void 0!==r?r:0)}).catch(e=>{A.Z.D("getTokens err",e),f.Z.canBeIgnore(e)||(0,h.L6)(new h.HU(e,"Error in get token holders").asToastMessage())}),cancel:a}}function j(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];d({...c,data:[],pageIndex:1,isEnd:!1,isLoading:!1}),e&&s(async()=>{await w({restart:!0}).promise})}return g.useEffect(()=>{u.current=c},[c]),g.useEffect(()=>{if(!a){j(!1);return}if(u.current.isLoading)return;let e=C.Z.sleepForAnimationFrame(500);return e.promise.then(()=>j()),()=>{e.cancel(f.Z.ReactError.useEffectDestroy())}},[a]),g.useEffect(()=>{n.tokenSwapPage.tokenAddress!==a&&r(n.tokenSwapPage.tokenAddress)},[n.tokenSwapPage.tokenAddress]),(0,p.jsx)("div",{className:(0,M.m6)("mx-auto p-4",e.className),children:(0,p.jsxs)("div",{className:"",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,p.jsx)("h1",{className:"text-{16px] text-white",children:t("Token Holder Distribution")}),(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)(ep,{defsPrexId:"".concat(e.id,"-TokenHoldersView"),className:"w-[20px] h-[20px]"}),(0,p.jsx)("span",{className:"text-white",children:l})]})]}),(0,p.jsxs)(x.Z,{className:"text-gray-500 pb-4",horizontalArrangement:y.cV.SpaceBetween,verticalAlignment:y.v2.Center,children:[(0,p.jsx)("div",{className:"flex-[3_1_0]",children:t("Address")}),(0,p.jsx)("div",{className:"flex-[2_1_0] text-center",children:t("Amount")}),(0,p.jsx)("div",{className:"flex-[2_1_0] text-right",children:t("Percentage")})]}),(0,p.jsx)(em.ZP,{pageInfo:{page:c.pageIndex,totalPage:c.total},onPaginationChange:e=>{let{page:t}=e;return 0===t?{promise:Promise.resolve(),cancel:()=>{}}:w({page:t})},children:(0,p.jsx)("div",{className:"space-y-4",children:c.data.map((t,n)=>{let a=t.isLock||m.has(t.address.toLowerCase());return(0,p.jsxs)(x.Z,{className:"text-white hover:bg-gray-800/50 rounded-lg py-4 transition-colors flex-wrap",horizontalArrangement:y.cV.SpaceBetween,verticalAlignment:y.v2.Center,children:[(0,p.jsx)("div",{className:"flex-[3_1_0] font-mono",children:(0,p.jsx)(b.Z,{address:t.address,text:v.Z.toShort(t.address)})}),(0,p.jsxs)("div",{className:"flex-[2_1_0] text-center flex justify-center items-center gap-1",children:[a?(0,p.jsx)(ef.Z,{defsPrexId:"".concat(e.id,"-TokenHoldersView"),className:"w-[15px] h-[15px]"}):null,(0,p.jsx)(N.eO,{value:Number(t.amount),useSub:!0})]}),(0,p.jsxs)("div",{className:"flex-[2_1_0] text-right",children:[(100*t.percentage).toFixed(2),"%"]})]},n)})})})]})})}var ey=n(76211),ev=function(e){let{maxValue:t=100,minValue:n=0,step:a=1}=e,r=[{value:.25},{value:.5},{value:.75},{value:1}].map(e=>({...e,text:1===e.value?"MAX":"".concat(100*e.value,"%")})),[i,s]=(0,g.useState)(!1),l=function(r){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!i&&!s)return;let l=r.currentTarget.getBoundingClientRect(),o=Math.min(Math.max((r.clientX-l.left)/l.width*t,n),t);e.onChange(Math.round(o/a)*a)};return(0,p.jsxs)("div",{className:"relative w-full rounded-lg p-5 flex flex-col gap-4",children:[(0,p.jsxs)("p",{className:"text-[20px] text-secondary",children:[e.value,"%"]}),(0,p.jsxs)("div",{className:"relative mx-[11px] h-[12px] bg-primary-bg border border-[#111] rounded-full mb-2",children:[(0,p.jsx)("div",{className:"absolute w-full h-full cursor-pointer"}),(0,p.jsx)("div",{className:"absolute top-0 h-full bg-gradient-to-r from-primary to-highlight rounded-full",style:{width:"".concat(e.value/t*100,"%")},children:(0,p.jsx)("div",{className:"block absolute top-0 mt-[-4px] right-[-21px] bg-gradient-to-r from-primary to-highlight w-[42px] h-[18px] rounded-full cursor-pointer"})}),(0,p.jsx)("div",{className:"absolute w-full mt-[-4px] h-[26px] cursor-pointer opacity-0",onClick:e=>l(e,!0),onMouseDown:e=>{e.preventDefault(),s(!0)},onMouseLeave:()=>{s(!1)},onMouseOut:()=>{s(!1)},onMouseUp:()=>{s(!1)},onMouseMove:l})]}),(0,p.jsx)("div",{className:"flex justify-between w-full gap-4",children:r.map(n=>{let a=n.value*t===e.value;return(0,p.jsx)(Z.ZP,{size:Z.qE.ExtraSmall,status:Z.Dv.NoImportant,border:a?Z.ku.Active:Z.ku.Normal,className:"flex-1 h-[33px] bg-primary-bg rounded-md text-tip border border-[#111]",onClick:()=>e.onChange(n.value*t),children:(0,p.jsx)("span",{className:(0,M.m6)("transition-all",a?"text-gradient":""),children:n.text})},n.value)})})]})},ew=n(59365),ek=n(78604);function eb(){var e;let t=(0,k.T)(),n=(0,k.C)(e=>e.nft),a=(0,k.C)(e=>e.token),r=(0,k.C)(e=>e.user),i=(0,F.we)(a.tokenDetail.nftStakingAddress,r.ethInfo.walletAddress),s=(0,O.d)(null!==(e=a.tokenDetail.tokenStakingAddress)&&void 0!==e?e:a.stakingRewardsContractDetail.stakingRewardsAddress);return{updateAccountInfo:async function(){let e=new ei.z(R.Q.getTargetNet().chainId,R.Q.getDefaultProvider()),l=i.buildAccountInfoCall(n.nftContractInfo.nftStakingRewards,r.ethInfo.walletAddress),o=s.buildAccountInfoCall(a.stakingRewardsContractDetail.stakingRewardsAddress,r.ethInfo.walletAddress),[c,d,u,m,p,g]=await e.all([l,o].flat());A.Z.I("updateAccountInfo",n.nftContractInfo.nftStakingRewards,a.stakingRewardsContractDetail.stakingRewardsAddress,c,d,u,m,p,g),t(ey.Z.slice.actions.updateNftStakingRewardsAccountInfo({userRewardPerTokenPaid:c,rewards:d,stakedAmount:u,earned:m})),t(D.Z.slice.actions.updateStakingRewardsAccountInfo({stakedAmount:p,earned:g}))}}}function eN(e){let{t}=(0,B.$G)(["common"]),n=(0,k.C)(e=>e.global),a=(0,k.C)(e=>e.nft),r=(0,k.C)(e=>e.token),i=(0,k.C)(e=>e.user),s=(0,ek.Ox)(r.uniswapV2FactoryInfo.pairAddress),l=eb(),[c,d]=g.useState(o.None),u=R.Q.getTargetNet(),m=a.nftStakingRewardsContractDetail.earned>0n,v=r.stakingRewardsContractDetail.earned>0n,w=new q.Z(r.stakingRewardsContractDetail.earned.toString()).plus(a.nftStakingRewardsContractDetail.earned.toString()),b=new q.Z(w.toString()).div(10**u.nativeCurrency.decimals),I=r.tokenDetail.createTime+P.Z.Days.fromNumber(Number("90")).toJSTime(),T=C.Z.convertTimeDifference(new Date(I-n.currentTime),{includeSeconds:!1}),D=(0,F.we)(r.tokenDetail.nftStakingAddress),E=(0,O.d)(r.stakingRewardsContractDetail.stakingRewardsAddress),M="/images/icon-eth.svg",[L,_]="0x4200000000000000000000000000000000000006"===r.uniswapV2PairInfo.token0?[r.uniswapV2PairInfo.reserve0,r.uniswapV2PairInfo.reserve1]:[r.uniswapV2PairInfo.reserve1,r.uniswapV2PairInfo.reserve0],V=10**u.nativeCurrency.decimals,z=new q.Z(_.toString()).multipliedBy(r.tokenDetail.price).plus(L.toString()).div(V);async function H(){try{let e={wait:()=>Promise.resolve()},t=await (m?D.getRewards():Promise.resolve(e)),n=await (v?E.getRewards():Promise.resolve(e));await Promise.all([t.wait(),n.wait()]),(0,h.x9)("Claim rewards successfully"),await W()}catch(e){A.Z.E(e),(0,h.L6)(new h.HU(e,t("Claim rewards failed")).asToastMessage())}}async function W(){await Promise.all([s.updatePairBalance(r.tokenDetail.tokenAddress),l.updateAccountInfo()])}return(g.useEffect(()=>{if(!r.uniswapV2FactoryInfo.pairAddress||!i.ethInfo.walletAddress)return;let e=C.Z.sleepForAnimationFrame(16);return e.wait(()=>W()),()=>{e.cancel(f.Z.ReactError.useEffectDestroy())}},[r.tokenDetail.tokenAddress,r.uniswapV2FactoryInfo.pairAddress,i.ethInfo.walletAddress]),g.useEffect(()=>{if(!r.uniswapV2FactoryInfo.pairAddress||!r.tokenDetail.nftStakingAddress||!i.ethInfo.walletAddress)return;let e=C.Z.sleepForAnimationFrame(16);return e.wait(()=>s.updateUserLiquidityInfo(r.tokenDetail.tokenStakingAddress,r.tokenDetail.nftStakingAddress,i.ethInfo.walletAddress)),()=>{e.cancel(f.Z.ReactError.useEffectDestroy())}},[r.tokenDetail.nftStakingAddress,i.ethInfo.walletAddress]),c!==o.None)?(0,p.jsx)(ej,{type:c,onBack:()=>d(o.None)}):(0,p.jsxs)(S.Z,{className:"gap-2",children:[(0,p.jsxs)(j.ZP,{autoBorder:!0,autoMargin:!1,autoPadding:!1,className:"flex items-center justify-between p-4",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsxs)("div",{className:"flex -space-x-2",children:[(0,p.jsx)("img",{src:r.tokenDetail.tokenImage,className:"w-8 h-8 rounded-full"}),(0,p.jsx)("img",{src:M,className:"w-8 h-8 rounded-full"})]}),(0,p.jsxs)("span",{children:[r.tokenDetail.tokenSymbol,"/",u.nativeCurrency.symbol]})]}),(0,p.jsxs)("div",{className:"text-right",children:[(0,p.jsxs)("span",{className:"text-tip",children:[t("APR"),":"]}),(0,p.jsxs)("span",{className:"text-gradient ml-1",children:[P.Z.toFixed(100*r.tokenDetail.apr,2),"%"]})]})]}),(0,p.jsxs)(j.ZP,{autoBorder:!0,autoMargin:!1,autoPadding:!1,className:"p-4",children:[(0,p.jsxs)(x.Z,{verticalAlignment:y.v2.Center,horizontalArrangement:y.cV.SpaceBetween,className:"gap-2 mb-2",children:[(0,p.jsx)("h3",{className:"text-[14px]",children:t("TotalValueOfLPPool")}),(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)(ew.Z,{className:"w-6 h-6"}),(0,p.jsx)("span",{children:z.toFixed(r.decimals,q.Z.ROUND_DOWN)})]})]}),(0,p.jsxs)(S.Z,{horizontalAlignment:y.v2.Stretch,className:"gap-2",children:[[{title:r.tokenDetail.tokenSymbol,icon:r.tokenDetail.tokenImage,value:new q.Z(eg.Z.wei2eth(_)).toFixed(r.decimals,q.Z.ROUND_DOWN)},{title:u.nativeCurrency.symbol,icon:M,value:new q.Z(eg.Z.wei2eth(L)).toFixed(r.decimals,q.Z.ROUND_DOWN)}].map(e=>(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("span",{className:"flex items-center gap-1 text-third",children:[(0,p.jsx)("img",{src:e.icon,className:"w-6 h-6",alt:e.title}),t("LP Pool")," ",e.title]}),(0,p.jsx)("span",{children:e.value})]},e.title)),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("span",{className:"text-third",children:t("ShareInLPPool")}),(0,p.jsxs)("span",{children:[s.userInLPPoolPercentage.multipliedBy(100).toFixed(2),"%"]})]})]})]}),(0,p.jsx)(j.ZP,{autoBorder:!0,autoMargin:!1,autoPadding:!1,className:"p-4",children:(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsxs)(S.Z,{children:[(0,p.jsx)("h3",{className:"text-[14px]",children:t("Your Deposited LP")}),(0,p.jsx)("span",{className:"text-tip text-[14px]",children:s.userLpAmount.div(V).toFixed(r.decimals,q.Z.ROUND_DOWN)})]}),(0,p.jsx)(Z.ZP,{status:s.userLpAmount.isZero()?Z.Dv.Disabled:Z.Dv.Active,size:Z.qE.Small,className:"",onClick:()=>d(o.NormalWithdraw),children:t("Withdraw")})]})}),(0,p.jsx)(j.ZP,{autoBorder:!0,autoMargin:!1,autoPadding:!1,className:"p-4",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)(S.Z,{children:[(0,p.jsx)("h3",{className:"text-[14px]",children:t("Inially Deposited LP")}),(0,p.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[0!==T?(0,p.jsx)(ef.Z,{defsPrexId:e.id+"IniallyDepositedLP",className:"w-[12px] h-[15px]"}):null,(0,p.jsx)("span",{className:"text-tip",children:s.initialLpAmount.div(V).toFixed(r.decimals,q.Z.ROUND_DOWN)}),0!==T?(0,p.jsxs)("span",{className:"text-gradient text-[12px]",children:[t("End in"),": ",T.toFormated("DDD:HHH:mmM")]}):null]})]}),(0,p.jsx)(Z.ZP,{status:0!==T||s.initialLpAmount.isZero()?Z.Dv.Disabled:Z.Dv.Active,size:Z.qE.Small,disabled:0!==T,onClick:()=>d(o.InitWithdraw),children:t("Withdraw")})]})}),(0,p.jsx)(j.ZP,{autoBorder:!0,autoMargin:!1,autoPadding:!1,className:"p-4",children:(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsxs)(S.Z,{children:[(0,p.jsx)("h3",{className:"text-[14px]",children:t("YourEarned")}),(0,p.jsxs)("span",{className:"flex gap-2 items-center text-tip",children:[(0,p.jsx)(N.eO,{value:b.toNumber()}),(0,p.jsx)("img",{src:"/images/icon-eth.svg",className:"w-4 h-4"}),"≈$",b.multipliedBy(r.eth2usd).toFixed(r.decimals,q.Z.ROUND_DOWN)]})]}),(0,p.jsx)(Z.ZP,{status:b.isZero()?Z.Dv.Disabled:Z.Dv.Active,size:Z.qE.Small,className:"",waitForClick:!0,onClick:()=>H(),children:t("Claim")})]})}),(0,p.jsxs)(Z.ZP,{className:"w-full h-12 text-[14px] bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",onClick:()=>e.requestAddLiquidity(),children:["+",t("AddLP")]})]})}function ej(e){let{t}=(0,B.$G)(["common"]),n=(0,k.C)(e=>e.nft),a=(0,k.C)(e=>e.token),r=(0,k.C)(e=>e.user),i=(0,F.we)(a.tokenDetail.nftStakingAddress),s=(0,O.d)(a.stakingRewardsContractDetail.stakingRewardsAddress);(0,eo.Z)(r.ethInfo.walletAddress);let l=R.Q.getTargetNet(),[c,d]=g.useState(0),u=(0,ek.Ox)(a.uniswapV2FactoryInfo.pairAddress),m=eb(),x=e.type===o.InitWithdraw?u.initialLpAmount:u.userLpAmount,y={amount0:x.multipliedBy(a.uniswapV2PairWithdrawInfo.tokenBalanceForLP.toString()).div(a.uniswapV2PairInfo.totalSupply.toString()),amount1:x.multipliedBy(a.uniswapV2PairWithdrawInfo.wethBalanceForLP.toString()).div(a.uniswapV2PairInfo.totalSupply.toString())},v=new q.Z(c).div(100),w=v.multipliedBy(y.amount0.toString()).integerValue(q.Z.ROUND_DOWN),b=v.multipliedBy(y.amount1.toString()).integerValue(q.Z.ROUND_DOWN);async function N(){d(0)}async function I(){await Promise.all([u.updatePairBalance(a.tokenDetail.tokenAddress),m.updateAccountInfo()])}async function S(){try{let e=v.multipliedBy(n.nftStakingRewardsContractDetail.stakedAmount.toString()).integerValue(q.Z.ROUND_DOWN);await i.withdrawRewards(e.isZero()?1n:BigInt(e.toFixed(0,q.Z.ROUND_DOWN))),(0,h.x9)(t("Withdraw rewards successfully")),N(),await I()}catch(e){(0,h.L6)(new h.HU(e,t("Withdraw rewards failed")).asToastMessage()),A.Z.E(e)}}async function T(){try{let e=v.multipliedBy(a.stakingRewardsContractDetail.stakedAmount.toString()).integerValue(q.Z.ROUND_DOWN);await s.withdrawRewards(BigInt(e.toFixed(0,q.Z.ROUND_DOWN))),(0,h.x9)(t("Withdraw rewards successfully")),N(),await I()}catch(e){(0,h.L6)(new h.HU(e,t("Withdraw rewards failed")).asToastMessage()),A.Z.E(e)}}g.useEffect(()=>{if(!a.uniswapV2FactoryInfo.pairAddress||!r.ethInfo.walletAddress)return;let e=C.Z.sleepForAnimationFrame(16);return e.wait(()=>I()),()=>{e.cancel(f.Z.ReactError.useEffectDestroy())}},[a.uniswapV2FactoryInfo.pairAddress]);let D=(0,p.jsxs)("div",{className:"flex items-center justify-between h-[60px] rounded-lg p-2 mb-2",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)("img",{className:"w-[30px] h-[30px]",src:a.tokenDetail.tokenImage}),(0,p.jsx)("span",{className:"text-[14px] text-secondary",children:a.tokenDetail.tokenSymbol})]}),(0,p.jsx)("span",{className:"text-[14px] text-secondary",children:new q.Z(eg.Z.wei2eth(w.toFixed(0,q.Z.ROUND_DOWN))).toFixed(a.swapKeepDecimals,q.Z.ROUND_DOWN)})]});return(0,p.jsxs)(j.ZP,{autoBorder:!0,autoMargin:!1,autoPadding:!1,className:"relative p-2 md:p-4",children:[(0,p.jsxs)("div",{className:"mb-5",children:[(0,p.jsx)(Z.ZP,{size:Z.qE.Small,status:Z.Dv.None,onClick:()=>e.onBack(),className:"text-[14px] cursor-pointer underline text-secondary block mb-2",children:t("Back")}),(0,p.jsx)("h1",{className:"text-[18px] text-secondary mb-1",children:t("WithdrawETCPoupLiquidity").replace("#{token0}",a.tokenDetail.tokenSymbol).replace("#{token1}",l.nativeCurrency.symbol)}),(0,p.jsx)("p",{className:"text-[14px] text-tip",children:t("ReceiveETCandPump").replace("#{token0}",a.tokenDetail.tokenSymbol).replace("#{token1}",l.nativeCurrency.symbol)})]}),(0,p.jsxs)("div",{className:"flex flex-col gap-2 mb-4",children:[(0,p.jsx)("p",{className:"text-[14px] text-secondary",children:t("Amount")}),(0,p.jsx)(j.ZP,{autoBorder:!0,autoMargin:!1,autoPadding:!1,className:"p-2",children:(0,p.jsx)(ev,{value:c,onChange:function(t){e.type,o.InitWithdraw,d(t)}})})]}),e.type===o.InitWithdraw?(0,p.jsxs)("div",{className:"flex flex-col gap-2 mb-4",children:[(0,p.jsx)("p",{className:"text-[14px] text-secondary mb-2",children:t("Burn")}),(0,p.jsx)(j.ZP,{autoBorder:!0,autoMargin:!1,autoPadding:!1,className:"flex flex-col gap-2",children:D})]}):null,(0,p.jsxs)("div",{className:"flex flex-col gap-2 mb-4",children:[(0,p.jsx)("p",{className:"text-[14px] text-secondary mb-2",children:t("YouWillReceive")}),(0,p.jsxs)(j.ZP,{autoBorder:!0,autoMargin:!1,autoPadding:!1,className:"space-y-1 text-[14px] p-[12px]",children:[e.type===o.NormalWithdraw?D:null,(0,p.jsxs)("div",{className:"flex items-center justify-between h-[60px] rounded-lg p-2",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)("img",{className:"w-[30px] h-[30px]",src:"/images/icon-eth.svg"}),(0,p.jsx)("span",{className:"text-[14px] text-secondary",children:l.nativeCurrency.symbol})]}),(0,p.jsx)("span",{className:"text-[14px] text-secondary",children:new q.Z(eg.Z.wei2eth(b.toFixed(0,q.Z.ROUND_DOWN))).toFixed(a.swapKeepDecimals,q.Z.ROUND_DOWN)})]})]})]}),e.type===o.InitWithdraw?(0,p.jsx)(Z.ZP,{status:Z.Dv.Active,className:"w-full",waitForClick:!0,onClick:()=>S(),children:t("Withdraw")}):null,e.type===o.NormalWithdraw?(0,p.jsx)(Z.ZP,{status:Z.Dv.Active,className:"w-full",waitForClick:!0,onClick:()=>T(),children:t("Withdraw")}):null]})}var eI=n(13965),eC=n(59868),eS=n(1267),eT=n(71845),eZ=n(31434);function eA(e){let{t}=(0,B.$G)(["common"]);(0,k.C)(e=>e.nft);let n=(0,k.C)(e=>e.token),a=R.Q.getTargetNet(),[r,i]=g.useState(null),[s,l]=g.useTransition(),[o,c]=g.useState(0),[d,u]=g.useState((0,Y.ki)({pageSize:15,totalCount:0})),m=g.useRef(d);function w(e){var t;function r(e){i.abort(e)}let i=new AbortController,s=m.current;if(!n.tokenSwapPage.tokenAddress||!e.restart&&s.isLoading)return{promise:Promise.resolve(),cancel:r};let l=e.restart?1:null!==(t=e.page)&&void 0!==t?t:s.pageIndex+1;return u({...s,isLoading:!0}),{promise:new eu.M2y().getLPHolders({tokenAddress:n.tokenSwapPage.tokenAddress,page:l,pageSize:s.pageSize}).then(e=>{var t,n,r;let i=new el.zv(e);if(i.hasError()){let e=i.getError();(0,h.L6)(e.msg),A.Z.E(e);return}let o=i.getData(),d=Math.pow(10,a.nativeCurrency.decimals),m=(null!==(t=null==o?void 0:o.lpHolderList)&&void 0!==t?t:[]).map(e=>{let t=Number(e.lock)===eZ.t.TRUE,n=new q.Z(e.amount.split(".")[0]).div(d);return{address:e.walletAddress,amount:n.toFixed(a.nativeCurrency.decimals,q.Z.ROUND_DOWN),percentage:Number(e.percent),isLock:t}}),p=null!==(n=i.getTotalPage())&&void 0!==n?n:s.total,g=0===i.getTotalPage()||0===m.length||m.length<s.pageSize,f=[...m];u({...s,pageIndex:l,isLoading:!1,total:p,isEnd:g,data:f}),c(null!==(r=null==o?void 0:o.holderCount)&&void 0!==r?r:0)}).catch(e=>{A.Z.D("getTokens err",e),f.Z.canBeIgnore(e)||(0,h.L6)(new h.HU(e,"Error in get lp holders").asToastMessage())}),cancel:r}}function j(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];u({...d,data:[],pageIndex:1,isEnd:!1,isLoading:!1}),e&&l(async()=>{await w({restart:!0}).promise})}return g.useEffect(()=>{m.current=d},[d]),g.useEffect(()=>{if(!r){j(!1);return}if(m.current.isLoading)return;let e=C.Z.sleepForAnimationFrame(500);return e.promise.then(()=>j()),()=>{e.cancel(f.Z.ReactError.useEffectDestroy())}},[r]),g.useEffect(()=>{n.tokenSwapPage.tokenAddress!==r&&i(n.tokenSwapPage.tokenAddress)},[n.tokenSwapPage.tokenAddress]),(0,p.jsx)("div",{className:(0,M.m6)("mx-auto p-4",e.className),children:(0,p.jsxs)("div",{className:"",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,p.jsx)("h1",{className:"text-{16px] text-white",children:t("LP Holder Distribution")}),(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)(ep,{defsPrexId:"".concat(e.id,"-LPHoldersView"),className:"w-[20px] h-[20px]"}),(0,p.jsx)("span",{className:"text-white",children:o})]})]}),(0,p.jsxs)(x.Z,{className:"text-gray-500 pb-4",horizontalArrangement:y.cV.SpaceBetween,verticalAlignment:y.v2.Center,children:[(0,p.jsx)("div",{className:"flex-[3_1_0]",children:t("Address")}),(0,p.jsx)("div",{className:"flex-[2_1_0] text-center",children:t("Amount(LP)")}),(0,p.jsx)("div",{className:"flex-[2_1_0] text-right",children:t("Percentage")})]}),(0,p.jsx)(em.ZP,{pageInfo:{page:d.pageIndex,totalPage:d.total},onPaginationChange:e=>{let{page:t}=e;return 0===t?{promise:Promise.resolve(),cancel:()=>{}}:w({page:t})},children:(0,p.jsx)("div",{className:"space-y-4",children:d.data.map((t,r)=>{let i=new q.Z(t.amount),s=0n===n.uniswapV2PairInfo.totalSupply?new q.Z(0):i.multipliedBy(Math.pow(10,a.nativeCurrency.decimals)).div(n.uniswapV2PairInfo.totalSupply.toString());return(0,p.jsxs)(x.Z,{className:"text-white hover:bg-gray-800/50 rounded-lg py-4 transition-colors flex-wrap",horizontalArrangement:y.cV.SpaceBetween,verticalAlignment:y.v2.Center,children:[(0,p.jsx)("div",{className:"flex-[3_1_0] font-mono",children:(0,p.jsx)(b.Z,{address:t.address,text:v.Z.toShort(t.address)})}),(0,p.jsxs)("div",{className:"flex-[2_1_0] text-center flex justify-center items-center gap-1",children:[t.isLock?(0,p.jsx)(ef.Z,{defsPrexId:"".concat(e.id,"-LPHoldersView"),className:"w-[15px] h-[15px]"}):null,(0,p.jsx)(N.eO,{value:i.toNumber()})]}),(0,p.jsxs)("div",{className:"flex-[2_1_0] text-right",children:[s.multipliedBy(100).toFixed(2),"%"]})]},r)})})})]})})}var eD=n(46493),eE=n(70042),eP=n(13167);function eO(e){var t,n,a,r,i,o,c,d,u,m,v;let{t:w}=(0,B.$G)(["common"]),b=(0,k.T)(),N=(0,k.C)(e=>e.global),I=(0,k.C)(e=>e.nft),T=(0,k.C)(e=>e.token),E=(0,k.C)(e=>e.user),[L,_]=g.useTransition(),V=E.ethInfo.isConnected&&N.token;(0,O.Z)(null!==(i=T.tokenSwapPage.tokenAddress)&&void 0!==i?i:"");let z=(0,O.d)(null!==(o=T.tokenDetail.tokenStakingAddress)&&void 0!==o?o:T.stakingRewardsContractDetail.stakingRewardsAddress),Q=(0,ek.ZP)(""),{connectETHWallet:G}=g.useContext(H.Cv),Y=(0,F.we)(null!==(c=T.tokenDetail.nftStakingAddress)&&void 0!==c?c:I.nftContractInfo.nftStakingRewards,E.ethInfo.walletAddress),ee=eb(),et=(0,W.Z)(),en=R.Q.getTargetNet(),ea=T.stakingRewardsContractDetail,ei=T.uniswapV2PairInfo,es=(0,eD.Z)(),el=Object.freeze(es.initWETHTokenSimpleInfo());g.useEffect(()=>{if(!T.tokenSwapPage.tokenAddress||!E.ethInfo.walletAddress||0===E.userInfo.updateTime)return;let e=C.Z.sleepForAnimationFrame(100);return e.promise.then(async()=>{await ts()}),()=>{e.cancel(f.Z.ReactError.useEffectDestroy())}},[T.tokenSwapPage.tokenAddress,E.userInfo.updateTime,E.ethInfo.walletAddress,E.ethInfo.isConnected]),g.useEffect(()=>{E.ethInfo.isConnected&&E.ethInfo.walletAddress&&ts()},[E.ethInfo.isConnected]);let eo={title:w("Swap"),url:"Swap"},ec={title:w("LP"),url:"LP"},eu={title:w("Send"),url:"Send"},em=[eo,ec,eu],[ep,ef]=g.useState(""),[eh,ev]=g.useState(!1),[ew,ej]=g.useState(!1);function eZ(e,t){void 0!==t&&ej(t),ev(null!=e?e:!eh)}let[eO,eR]=g.useState(!1),[eB,e_]=g.useState({slippage:{mode:l.Auto,defaultValue:"0.5",value:"0.5"},deadline:{minutes:"10"}});async function eF(){var e,t,n,a;let r=es.getMaxBuyTokenAmount().div(es.LAMP);if(es.isSwapSelectBuy()){let n=null!==(t=null===(e=es.tokenInBalanceInfo)||void 0===e?void 0:e.balance)&&void 0!==t?t:"0";if(r.isZero())return es.onAmountInChange("");let a=r.toFixed(T.swapKeepDecimals,q.Z.ROUND_DOWN),i=es.getAmountInByAmountOut(a);es.onAmountInChange(q.Z.min(n,i).toFixed(T.swapKeepDecimals,q.Z.ROUND_DOWN))}else{let e=null!==(a=null===(n=es.tokenInBalanceInfo)||void 0===n?void 0:n.balance)&&void 0!==a?a:"0";es.onAmountInChange(r.gt(e)?e.toString():r.toFixed(T.swapKeepDecimals,q.Z.ROUND_DOWN))}}async function eV(){if(ei.tradingEnable){if(!E.ethInfo.isConnected)return b(U.Z.slice.actions.updateNeedBinding(!0)),await G(K.w3.WALLETCONNECT);if(!N.token){b(U.Z.slice.actions.updateNeedBinding(!0));return}if(isNaN(Number(eB.deadline.minutes))){(0,h.L6)(w("Invalid deadline"));return}es.isSwapSelectBuy()?await eq():await eQ()}}function ez(){return Math.floor(Date.now()/1e3)+60*Number(eB.deadline.minutes)}let eH={minAmountIn:new q.Z(T.tokenSwapInfo.usdFee.toString()).div(T.eth2usd.toString()).multipliedBy(es.LAMP),tip:w("Need at least {{usdFee}} USD fee",{usdFee:T.tokenSwapInfo.usdFee.toString()})},[eW,eU]=g.useState(!1);async function eq(){var e,t;if(!ei.tradingEnable)return;if(!E.ethInfo.isConnected)return await G(K.w3.WALLETCONNECT);if(!N.token){b(U.Z.slice.actions.updateNeedBinding(!0));return}if(!T.tokenSwapPage.tokenAddress){(0,h.L6)("Can't found tokenAddress");return}let n=new q.Z(es.swapTransferInfo.amountIn).multipliedBy(es.LAMP);if(n.isNaN())return;if(n.isZero()){(0,h.L6)(w("Amount is 0"));return}if(new q.Z(null!==(t=null===(e=es.tokenInBalanceInfo)||void 0===e?void 0:e.balance)&&void 0!==t?t:0).multipliedBy(es.LAMP).lte(eH.minAmountIn.plus(n))){(0,h.L6)(eH.tip);return}let a=new q.Z(es.swapTransferInfo.amountOut).multipliedBy(es.LAMP),r=es.getMaxBuyTokenAmount(),i=a.multipliedBy(1-Number(eB.slippage.value)/100);if(i.gt(r)){eU(!0);return}await et.buy({tokenAddress:es.swapTransferInfo.tokenOut.tokenAddress,amountIn:BigInt(n.toFixed(0,q.Z.ROUND_DOWN)),amountOut:BigInt(i.toFixed(0,q.Z.ROUND_DOWN)),deadline:ez(),value:BigInt(eH.minAmountIn.toFixed(0,q.Z.ROUND_DOWN))}).then(async e=>(await e.wait(),(0,h.x9)(w("Buy Successfully")),es.setSwapTransferInfo({...es.swapTransferInfo,amountIn:"",amountOut:""}),e7(),C.Z.sleepForAnimationFrame(1e3).promise)).then(()=>{ts();let e=new CustomEvent(s.SWAP_DONE);document.dispatchEvent(e)}).catch(e=>((0,h.L6)(new eK(e,w("Error in buy")).asToastMessage()),Promise.reject(e)))}class eK extends h.HU{asToastMessage(){let e=super.asToastMessage();if("string"!=typeof e)return e;let t=w("TrinitySwap"),[n,...a]=e.split(":");return(null==a?void 0:a.length)>0?[t,...a].join(":"):e}}async function eQ(){var e,t;let n=new q.Z(es.swapTransferInfo.amountIn).multipliedBy(es.LAMP);if(!T.tokenSwapPage.tokenAddress){(0,h.L6)("Can't found tokenAddress");return}if(new q.Z(E.ethInfo.walletBalance).multipliedBy(es.LAMP).lte(eH.minAmountIn)){(0,h.L6)(eH.tip);return}if(n.isNaN())return;if(n.isZero()){(0,h.L6)(w("Amount is 0"));return}let a=eg.Z.eth2wei(null!==(t=null===(e=es.tokenInBalanceInfo)||void 0===e?void 0:e.balance)&&void 0!==t?t:"0");if(n.gt(a.toString())){(0,h.L6)(w("NotEnoughBalance"));return}let r=new q.Z(es.swapTransferInfo.amountOut).multipliedBy(es.LAMP);await et.sell({tokenAddress:es.swapTransferInfo.tokenIn.tokenAddress,amountIn:BigInt(n.toFixed(0,q.Z.ROUND_DOWN)),amountOut:BigInt(r.multipliedBy(1-Number(eB.slippage.value)/100).toFixed(0,q.Z.ROUND_DOWN)),deadline:ez(),value:BigInt(eH.minAmountIn.toFixed(0,q.Z.ROUND_DOWN))}).then(async e=>(await e.wait(),(0,h.x9)(w("Sell Successfully")),es.setSwapTransferInfo({...es.swapTransferInfo,amountIn:"",amountOut:""}),e7(),C.Z.sleepForAnimationFrame(1e3).promise)).then(()=>{ts();let e=new CustomEvent(s.SWAP_DONE);document.dispatchEvent(e)}).catch(e=>((0,h.L6)(new eK(e,w("Error in sell")).asToastMessage()),Promise.reject(e)))}let[eG,e$]=g.useState(eM());function eJ(e){let[t,n]=es.getReserves();return e?eg.Z.wei2eth(et.getLiquidityAmountOutLocal(eg.Z.eth2wei(e),t,n)):""}function eX(e){let[t,n]=es.getReserves();return e?eg.Z.wei2eth(et.getLiquidityAmountInLocal(eg.Z.eth2wei(e),t,n)):""}async function eY(){var e,t,n,a;let r=null!==(n=null===(e=es.tokenInBalanceInfo)||void 0===e?void 0:e.balance)&&void 0!==n?n:"0",i=null!==(a=null===(t=es.tokenOutBalanceInfo)||void 0===t?void 0:t.balance)&&void 0!==a?a:"0";eJ(r);let s=eX(i);new q.Z(s).gt(r)?e0(r):e1(i)}async function e0(e){var t,n;let[a,r]=es.getLPStoreKeys(),i=new q.Z(e),s=e;(null!==(t=i.decimalPlaces())&&void 0!==t?t:0)>T.swapKeepDecimals&&(s=i.toFixed(T.swapKeepDecimals,q.Z.ROUND_DOWN));let l=eJ(s),o=new q.Z(l);(null!==(n=o.decimalPlaces())&&void 0!==n?n:0)>T.swapKeepDecimals&&(l=o.toFixed(T.swapKeepDecimals,q.Z.ROUND_DOWN)),e$({...eG,[a]:s,[r]:l})}async function e1(e){var t,n;let[a,r]=es.getLPStoreKeys(),i=new q.Z(e),s=e;(null!==(t=i.decimalPlaces())&&void 0!==t?t:0)>T.swapKeepDecimals&&(s=i.toFixed(T.swapKeepDecimals,q.Z.ROUND_DOWN));let l=eX(s),o=new q.Z(l);(null!==(n=o.decimalPlaces())&&void 0!==n?n:0)>T.swapKeepDecimals&&(l=o.toFixed(T.swapKeepDecimals,q.Z.ROUND_DOWN)),e$({...eG,[a]:l,[r]:s})}async function e2(){if(!ei.tradingEnable)return;if(!E.ethInfo.isConnected)return b(U.Z.slice.actions.updateNeedBinding(!0)),await G(K.w3.WALLETCONNECT);if(!N.token){b(U.Z.slice.actions.updateNeedBinding(!0));return}if(isNaN(Number(eB.deadline.minutes))){(0,h.L6)(w("Invalid deadline"));return}let e=new q.Z(eG.amountTokenMin).multipliedBy(es.LAMP),t=e.multipliedBy(1-Number(eB.slippage.value)/100),n=new q.Z(eG.amountETHMin).multipliedBy(es.LAMP),a=n.multipliedBy(1-Number(eB.slippage.value)/100);try{let r=await et.addLiquidity(T.tokenDetail.tokenAddress,BigInt(e.toFixed(0,q.Z.ROUND_DOWN)),BigInt(t.toFixed(0,q.Z.ROUND_DOWN)),BigInt(n.toFixed(0,q.Z.ROUND_DOWN)),BigInt(a.toFixed(0,q.Z.ROUND_DOWN)),E.ethInfo.walletAddress,ez());await r.wait(),e$(eM()),(0,h.x9)(w("Add liquidity successfully")),await e9(),e5(!1)}catch(e){return(0,h.L6)(new h.HU(e,w("Error in add liquidity")).asToastMessage()),Promise.reject(e)}}let[e6,e5]=g.useState(!1),e3=I.nftStakingRewardsContractDetail.stakedAmount>0n||T.stakingRewardsContractDetail.stakedAmount>0n,e4=new q.Z(T.stakingRewardsContractDetail.earned.toString()).plus(I.nftStakingRewardsContractDetail.earned.toString()).gt(0);async function e7(){let e=await et.getInfo();if(b(D.Z.slice.actions.updateTokenSwapInfo(e)),!T.tokenSwapPage.tokenAddress)return;let t=T.tokenDetail.pairAddress;await Promise.all([Q.updateInfo(t),z.updateInfo(T.tokenDetail.tokenStakingAddress,E.ethInfo.walletAddress)]),await ts()}async function e8(){Y.getInfo().then(e=>{b(ey.Z.slice.actions.updateNftStakingRewardsContractDetail(e))}).catch(e=>{})}async function e9(){await ee.updateAccountInfo()}g.useEffect(()=>{if(!T.tokenDetail.tokenAddress)return;let e=C.Z.sleepForAnimationFrame(150);return e.promise.then(async()=>{var e;ef((()=>{if(location.hash){let e=em.find(e=>"#".concat(e.url)===location.hash);if(e)return e.url}return eo.url})()),await e7();let t={tokenId:null!==(e=T.tokenDetail.tokenId)&&void 0!==e?e:"",tokenImage:T.tokenDetail.tokenImage,tokenName:T.tokenDetail.tokenName,tokenSymbol:T.tokenDetail.tokenSymbol,tokenAddress:T.tokenDetail.tokenAddress};if(!t.tokenSymbol||!t.tokenName){let e=eI.r.getInstance().getProvider(),n=eg.Z.getInstance(e),a=await n.getSigner(),r=new eC.CH(t.tokenAddress,eP.R,a);t.tokenSymbol||(t.tokenSymbol=await r.symbol()),t.tokenName||(t.tokenName=await r.name())}t.tokenImage||(t.tokenImage="/images/default-token.svg");let n=ew?{tokenIn:t,tokenOut:el}:{tokenIn:el,tokenOut:t};es.setSwapTransferInfo({...es.swapTransferInfo,...n,amountIn:"",amountOut:""}),T.tokenSwapPage.tokenAddress||b(D.Z.slice.actions.updateTokenSwapPageAddress(T.tokenDetail.tokenAddress)),await C.Z.sleepForAnimationFrame(300).promise,await ts()}),()=>e.cancel(f.Z.ReactError.useEffectDestroy())},[E.ethInfo.walletAddress,T.tokenDetail.tokenAddress]),g.useEffect(()=>{if(!T.tokenDetail.nftStakingAddress)return;let e=C.Z.sleepForAnimationFrame(150);return e.promise.then(()=>e8()),()=>e.cancel(f.Z.ReactError.useEffectDestroy())},[E.ethInfo.walletAddress,T.tokenDetail.nftStakingAddress]),g.useEffect(()=>{if(ep!==ec.url||!T.tokenDetail.nftStakingAddress||!ea.stakingRewardsAddress||!E.ethInfo.walletAddress)return;let e=C.Z.sleepForAnimationFrame(150);return e.promise.then(()=>{e9()}),()=>{e.cancel(f.Z.ReactError.useEffectDestroy())}},[ep,T.tokenDetail.nftStakingAddress,ea.stakingRewardsAddress,E.ethInfo.walletAddress]);let[te,tt]=g.useState(""),[tn,ta]=g.useState("");async function tr(){return E.ethInfo.isConnected?!!N.token||(b(U.Z.slice.actions.updateNeedBinding(!0)),!1):(b(U.Z.slice.actions.updateNeedBinding(!0)),await G(K.w3.WALLETCONNECT),!1)}async function ti(){try{var t,n;if(!/^0x[a-fA-F0-9]{40}$/.test(tn)){(0,h.L6)(w("Invalid address!"));return}if(!await tr())return;if(!e.mintStartTime){(0,h.L6)(w("Mint not start"));return}if(isNaN(Number(te))){(0,h.L6)(w("Invalid amount"));return}let a=eg.Z.eth2wei(te);if(a<=0n){(0,h.L6)(w("Invalid send amount"));return}let r=eg.Z.eth2wei(null!==(n=null===(t=es.tokenInBalanceInfo)||void 0===t?void 0:t.balance)&&void 0!==n?n:"0");if(a>r){(0,h.L6)(w("Insufficient balance"));return}let i=eI.r.getInstance(),s=eg.Z.getInstance(i.getProvider()),l=await s.getSigner(),o=new eC.CH(es.swapTransferInfo.tokenIn.tokenAddress,eP.R,l),c=await (es.swapTransferInfo.tokenIn.tokenSymbol===en.nativeCurrency.symbol?l.sendTransaction({to:tn,value:a}):o.transfer(tn,a));await c.wait(),(0,h.x9)(w("Send Success"))}catch(e){(0,h.L6)(new h.HU(e,w("Send failed")).asToastMessage())}}async function ts(){let e=E.ethInfo.walletAddress;if(e)try{var t,n,a,r;let i;let s=eI.r.getInstance().getProvider(),l=eg.Z.getInstance(s),o=await l.getBalance(e),c=eg.Z.wei2eth(o),d=null!==(t=T.tokenSwapPage.tokenAddress)&&void 0!==t?t:T.tokenDetail.tokenAddress,u=T.tokenDetail.tokenSymbol,m=T.tokenDetail.tokenName,p=T.tokenDetail.tokenImage;if(!d)return;let g=await l.getSigner(),f=new eC.CH(d,eP.R,g),h="0";try{i=await f.balanceOf(e),h=eg.Z.wei2eth(i)}catch(e){A.Z.E("获取代币余额失败:",e)}if(!u)try{u=await f.symbol()}catch(e){A.Z.E("获取代币符号失败:",e),u="Unknown"}if(!m)try{m=await f.name()}catch(e){A.Z.E("获取代币名称失败:",e),m="Unknown Token"}p||(p="/images/default-token.svg"),b(U.Z.slice.actions.updateETHWalletBalance(c));let x=[{icon:p,chainId:en.chainId,name:m,address:d,decimals:en.nativeCurrency.decimals,symbol:u,balance:h},{icon:el.tokenImage,chainId:en.chainId,name:el.tokenName,address:el.tokenAddress,decimals:en.nativeCurrency.decimals,symbol:el.tokenSymbol,balance:c}];b(U.Z.slice.actions.updateTokenBalances(x));let y=es.swapTransferInfo.tokenIn,v=es.swapTransferInfo.tokenOut;if("ETH"===y.tokenSymbol&&"ETH"===v.tokenSymbol)es.setSwapTransferInfo({...es.swapTransferInfo,tokenOut:{tokenId:null!==(n=T.tokenDetail.tokenId)&&void 0!==n?n:"",tokenImage:p,tokenName:m,tokenSymbol:u,tokenAddress:d}});else{let e=E.tokenBalances.find(e=>e.symbol===y.tokenSymbol||e.address.toLowerCase()===y.tokenAddress.toLowerCase()),t=E.tokenBalances.find(e=>e.symbol===v.tokenSymbol||e.address.toLowerCase()===v.tokenAddress.toLowerCase());e&&t||(d.toLowerCase()!==y.tokenAddress.toLowerCase()||e?d.toLowerCase()!==v.tokenAddress.toLowerCase()||t||es.setSwapTransferInfo({...es.swapTransferInfo,tokenOut:{tokenId:null!==(r=T.tokenDetail.tokenId)&&void 0!==r?r:"",tokenImage:p,tokenName:m,tokenSymbol:u,tokenAddress:d}}):es.setSwapTransferInfo({...es.swapTransferInfo,tokenIn:{tokenId:null!==(a=T.tokenDetail.tokenId)&&void 0!==a?a:"",tokenImage:p,tokenName:m,tokenSymbol:u,tokenAddress:d}}))}}catch(e){A.Z.E("更新余额失败:",e)}}return g.useEffect(()=>{let e=new R.Q,t=new eS.q(e.webSocketUrl),n=eE.Ro.connect("0x4Cd906AEF43aB89BB5714391B024b3C49bC76617",t),a=n.filters.Swap();return n.on(a,e=>{let[t,n,a,r,i,s,l,o]=e.args}),()=>{n.off(a)}},[]),(0,p.jsxs)(S.Z,{className:"transfer-view text-secondary",children:[(0,p.jsxs)(j.ZP,{autoMargin:!1,autoPadding:!1,autoBorder:!0,className:"tx-section",children:[(0,p.jsxs)(x.Z,{horizontalArrangement:y.cV.SpaceBetween,className:"tab-title-contain",children:[(0,p.jsx)("div",{className:"flex-1 flex justify-around gap-2 border border-[#666] rounded-lg",children:em.map(e=>(0,p.jsx)(Z.ZP,{id:e.url,className:(0,M.m6)("btn-transfer-tab",ep===e.url&&"in-active"),status:Z.Dv.None,size:Z.qE.Small,onClick:()=>{var t;return t=e.url,void(location.href="#".concat(t),ef(t))},children:(0,p.jsx)("span",{className:ep===e.url?"text-gradient":"text-secondary",children:e.title})},e.url))}),(0,p.jsx)(j.ZP,{autoBorder:!0,autoMargin:!1,autoPadding:!1,className:"",children:(0,p.jsxs)(Z.ZP,{status:Z.Dv.NoImportant,size:Z.qE.Small,onClick:()=>eR(!eO),className:"flex justify-around items-center text-center gap-2",children:[eB.slippage.mode===l.Custom?(0,p.jsxs)("span",{className:"text-secondary",children:[eB.slippage.value,"%"]}):null,(0,p.jsx)($,{className:(0,M.m6)("mx-auto",eB.slippage.mode===l.Auto?"text-[#333]":"text-primary")})]})})]}),(0,p.jsx)(eL,{isOpen:eO,onClose:()=>eR(!1),settings:eB,onSettingsChange:e=>{e_(e)}}),(0,p.jsx)(er.Z,{className:"swap-max-limit-tips-modal",isOpen:eW,onRequestClose:()=>eU(!1),children:(0,p.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,p.jsx)("h6",{className:"text-center text-secondary text-[18px]",children:w("⚠Tips")}),(0,p.jsx)("div",{className:"text-center text-secondary text-[14px]",children:w("SwapMaxLimitTips",{percentage:100*es.TOKEN_SWAP_MAX_PERCENT})}),(0,p.jsx)(Z.ZP,{className:"block mx-auto",status:Z.Dv.Active,onClick:()=>eU(!1),children:w("Confirm")})]})}),eo.url===ep?(0,p.jsxs)(S.Z,{horizontalAlignment:y.v2.Stretch,className:"form",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"text-tip text-[12px] mb-2 block",children:w("From")}),(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)(J.ZP,{autoMargin:!1,type:"number",placeholder:"0",className:"bg-black/60 border-gray-700 rounded-lg p-4 w-full text-[14px]",value:es.swapTransferInfo.amountIn,onChange:e=>es.onAmountInChange(e.target.value)}),(0,p.jsxs)(Z.ZP,{size:Z.qE.Customize,status:Z.Dv.None,className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",onClick:()=>eZ(!0,!0),children:[(0,p.jsx)("img",{src:es.swapTransferInfo.tokenIn.tokenImage,alt:"",width:30,height:30,className:"w-[30px] h-[30px] object-cover rounded-full"}),(0,p.jsx)("span",{className:"font-medium",children:es.swapTransferInfo.tokenIn.tokenSymbol}),(0,p.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),(0,p.jsxs)("div",{className:"text-[12px] text-tip mt-2",children:[w("Balance"),":",(0,p.jsxs)("span",{className:"text-secondary",children:[P.Z.toFixed(Number(null!==(d=null===(t=es.tokenInBalanceInfo)||void 0===t?void 0:t.balance)&&void 0!==d?d:0),T.decimals)," ",es.swapTransferInfo.tokenIn.tokenSymbol]}),(0,p.jsx)("a",{className:"cursor-pointer hover:opactiy-90 ml-2 text-primary",onClick:()=>eF(),children:w("Max")})]})]}),(0,p.jsx)("div",{className:"flex justify-center",children:(0,p.jsx)(Z.ZP,{size:Z.qE.Customize,status:Z.Dv.None,className:"w-[40px] h-[40px] flex items-center justify-center",onClick:()=>{es.setSwapTransferInfo({amountIn:"",tokenIn:es.swapTransferInfo.tokenOut,tokenOut:es.swapTransferInfo.tokenIn,amountOut:""})},children:(0,p.jsx)(X,{defsPrexId:"".concat(e.id,"-swap"),className:"w-full h-full rounded-full border border-[#666]"})})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"text-tip text-[12px] mb-2 block",children:w("To")}),(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)(J.ZP,{autoMargin:!1,type:"number",placeholder:"0",className:"bg-black/60 border-gray-700 rounded-lg p-4 w-full text-[14px]",value:es.swapTransferInfo.amountOut,onChange:e=>es.onAmountOutChange(e.target.value)}),(0,p.jsxs)(Z.ZP,{size:Z.qE.Customize,status:Z.Dv.None,className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",onClick:()=>eZ(!0,!1),children:[(0,p.jsx)("img",{src:es.swapTransferInfo.tokenOut.tokenImage,alt:"",width:30,height:30,className:"w-[30px] h-[30px] object-cover rounded-full"}),(0,p.jsx)("span",{className:"font-medium",children:es.swapTransferInfo.tokenOut.tokenSymbol}),(0,p.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),(0,p.jsxs)("div",{className:"text-[12px] text-tip mt-2",children:[(0,p.jsxs)("span",{children:[w("Balance"),":"]})," ",(0,p.jsxs)("span",{className:"text-secondary",children:[P.Z.toFixed(Number(null!==(u=null===(n=es.tokenOutBalanceInfo)||void 0===n?void 0:n.balance)&&void 0!==u?u:0),T.decimals)," ",es.swapTransferInfo.tokenOut.tokenSymbol]})]})]}),(0,p.jsx)(Z.ZP,{className:"w-full h-12 text-[14px] bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",status:e.mintStartTime<=N.currentTime&&0!==N.currentTime?Z.Dv.Active:Z.Dv.Disabled,waitForClick:!0,onClick:eV,children:V?w("Swap"):w("ConnectWallet")}),null]}):null,(0,p.jsx)(ed,{className:"token-detail-token-search-view",isOpen:eh,tokenId:e.tokenId,onRequestClose:()=>eZ(!1),onSelect:async e=>{b(D.Z.slice.actions.updateTokenSwapPageAddress(e.tokenAddress));let t={...e};if(!t.tokenSymbol||!t.tokenName){let n=eI.r.getInstance().getProvider(),a=eg.Z.getInstance(n),r=await a.getSigner(),i=new eC.CH(e.tokenAddress,eP.R,r);t.tokenSymbol||(t.tokenSymbol=await i.symbol()),t.tokenName||(t.tokenName=await i.name())}t.tokenImage||(t.tokenImage="/images/default-token.svg");let n=function(){var e;let t=R.Q.getTargetNet();return{tokenId:"-1",tokenImage:"/images/icon-eth.svg",tokenName:t.nativeCurrency.name,tokenSymbol:t.nativeCurrency.symbol,tokenAddress:null!==(e=t.nativeCurrency.address)&&void 0!==e?e:""}}(),a=ew?{tokenIn:{tokenId:t.tokenId,tokenImage:t.tokenImage,tokenName:t.tokenName,tokenSymbol:t.tokenSymbol,tokenAddress:t.tokenAddress,tokenDecimals:t.tokenDecimals},tokenOut:n}:{tokenIn:n,tokenOut:{tokenId:t.tokenId,tokenImage:t.tokenImage,tokenName:t.tokenName,tokenSymbol:t.tokenSymbol,tokenAddress:t.tokenAddress,tokenDecimals:t.tokenDecimals}},r=E.ethInfo.walletAddress;if(!r)return;let i=eI.r.getInstance().getProvider(),s=eg.Z.getInstance(i),l=await s.getBalance(r),o=eg.Z.wei2eth(l),c=await s.getSigner(),d=new eC.CH(t.tokenAddress,eP.R,c),u=await d.balanceOf(r),m=eg.Z.wei2eth(u);b(U.Z.slice.actions.updateETHWalletBalance(o));let p=[{icon:t.tokenImage,chainId:en.chainId,name:t.tokenName,address:t.tokenAddress,decimals:en.nativeCurrency.decimals,symbol:t.tokenSymbol,balance:m},{icon:el.tokenImage,chainId:en.chainId,name:el.tokenName,address:el.tokenAddress,decimals:en.nativeCurrency.decimals,symbol:el.tokenSymbol,balance:o}];b(U.Z.slice.actions.updateTokenBalances(p)),es.setSwapTransferInfo({...es.swapTransferInfo,...a,amountIn:"",amountOut:""}),await C.Z.sleepForAnimationFrame(300).promise,await ts()},type:"trade",tokenAddress:T.tokenSwapPage.tokenAddress}),ec.url===ep?(0,p.jsx)(S.Z,{horizontalAlignment:y.v2.Stretch,className:"form",children:(e3||e4)&&!e6?(0,p.jsx)(eN,{id:e.id,requestAddLiquidity:()=>e5(!0)}):(0,p.jsxs)(S.Z,{horizontalAlignment:y.v2.Stretch,className:"form",children:[(0,p.jsxs)(j.ZP,{autoBorder:!0,autoMargin:!1,autoPadding:!1,className:"flex flex-col gap-2 p-2",children:[(0,p.jsx)("label",{className:"text-tip text-[12px] mb-2 block",children:w("When 1ETH is worth")}),(0,p.jsxs)("div",{className:"flex justify-between items-center relative",children:[(0,p.jsx)("div",{className:"p-4 w-full text-[14px]",children:P.Z.toFixed(1/T.tokenDetail.price,T.decimals)}),(0,p.jsxs)(Z.ZP,{size:Z.qE.Customize,status:Z.Dv.None,className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[(0,p.jsx)("img",{src:T.tokenDetail.tokenImage,className:"w-[30px] h-[30px] object-cover rounded-full",alt:""}),(0,p.jsx)("span",{className:"font-medium",children:T.tokenDetail.tokenSymbol})]})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"text-tip text-[12px] mb-2 block",children:w("Select pair")}),(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)(J.ZP,{autoMargin:!1,type:"number",placeholder:"0",className:"bg-black/60 border-gray-700 rounded-lg p-4 w-full text-[14px]",value:es.swapTransferInfo.tokenIn.tokenSymbol===T.tokenDetail.tokenSymbol?eG.amountTokenMin:eG.amountETHMin,onChange:e=>e0(e.target.value)}),(0,p.jsxs)(Z.ZP,{size:Z.qE.Customize,status:Z.Dv.None,className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",onClick:()=>eZ(!0,!0),children:[(0,p.jsx)("img",{src:es.swapTransferInfo.tokenIn.tokenImage,className:"w-[30px] h-[30px] object-cover rounded-full",alt:""}),(0,p.jsx)("span",{className:"font-medium",children:es.swapTransferInfo.tokenIn.tokenSymbol}),(0,p.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),(0,p.jsxs)("div",{className:"text-[12px] text-tip mt-2",children:[w("Balance"),":",(0,p.jsxs)("span",{className:"text-secondary",children:[P.Z.toFixed(Number(null!==(m=null===(a=es.tokenInBalanceInfo)||void 0===a?void 0:a.balance)&&void 0!==m?m:0),T.decimals)," ",es.swapTransferInfo.tokenIn.tokenSymbol]}),(0,p.jsx)("a",{className:"cursor-pointer hover:opactiy-90 ml-2 text-primary",onClick:()=>eY(),children:w("Max")})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"text-tip text-[12px] mb-2 block",children:w("To")}),(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)(J.ZP,{autoMargin:!1,type:"number",placeholder:"0",className:"bg-black/60 border-gray-700 rounded-lg p-4 w-full text-[14px]",value:es.swapTransferInfo.tokenOut.tokenSymbol===T.tokenDetail.tokenSymbol?eG.amountTokenMin:eG.amountETHMin,onChange:e=>e1(e.target.value)}),(0,p.jsxs)(Z.ZP,{size:Z.qE.Customize,status:Z.Dv.None,className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",onClick:()=>eZ(!0,!1),children:[(0,p.jsx)("img",{src:es.swapTransferInfo.tokenOut.tokenImage,className:"w-[30px] h-[30px] object-cover rounded-full",alt:""}),(0,p.jsx)("span",{className:"font-medium",children:es.swapTransferInfo.tokenOut.tokenSymbol}),(0,p.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),(0,p.jsxs)("div",{className:"text-[12px] text-tip mt-2",children:[(0,p.jsxs)("span",{children:[w("Balance"),":"]})," ",(0,p.jsxs)("span",{className:"text-secondary",children:[P.Z.toFixed(Number(null!==(v=null===(r=es.tokenOutBalanceInfo)||void 0===r?void 0:r.balance)&&void 0!==v?v:0),T.decimals)," ",es.swapTransferInfo.tokenOut.tokenSymbol]})]})]}),(0,p.jsx)(Z.ZP,{className:"w-full h-12 text-[14px] bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",waitForClick:!0,onClick:()=>e2(),children:E.ethInfo.isConnected&&N.token?eG.amountTokenMin&&eG.amountETHMin?w("AddLP"):w("Input Amount"):w("ConnectWallet")})]})}):null,eu.url===ep?(0,p.jsx)(S.Z,{horizontalAlignment:y.v2.Stretch,className:"form",children:(0,p.jsxs)(S.Z,{horizontalAlignment:y.v2.Stretch,className:"form gap-6",children:[(0,p.jsxs)(j.ZP,{autoBorder:!0,autoMargin:!1,autoPadding:!1,className:"space-y-1 text-[14px] p-[12px]",children:[(0,p.jsx)("h2",{className:"text-third",children:w("YouAreSending")}),(0,p.jsx)("p",{className:"text-tip",children:w("PleaseInputAmount")}),(0,p.jsx)(J.ZP,{autoMargin:!1,type:"text",status:J.X7.Simple,value:te,onChange:e=>tt(e.target.value),className:""})]}),(0,p.jsx)("div",{className:"relative",children:(0,p.jsxs)(Z.ZP,{status:Z.Dv.NoImportant,className:"w-full flex justify-between items-center gap-2 text-left",onClick:()=>eZ(!0,!0),children:[(0,p.jsxs)(x.Z,{verticalAlignment:y.v2.Center,className:"gap-2",children:[(0,p.jsx)("img",{src:es.swapTransferInfo.tokenIn.tokenImage,alt:es.swapTransferInfo.tokenIn.tokenSymbol,className:"w-[30px] h-[30px] rounded-full"}),(0,p.jsx)("span",{className:"text-[14px]",children:es.swapTransferInfo.tokenIn.tokenSymbol})]}),(0,p.jsx)(eT.Z,{className:" ml-auto"})]})}),(0,p.jsxs)(j.ZP,{autoBorder:!0,autoMargin:!1,autoPadding:!1,className:"space-y-1 text-[14px] p-[12px]",children:[(0,p.jsx)("label",{className:"text-tip block",children:w("To")}),(0,p.jsx)(J.ZP,{autoMargin:!1,type:"text",status:J.X7.Simple,value:tn,onChange:e=>ta(e.target.value),placeholder:w("WalletAddress"),className:""})]}),(0,p.jsx)(Z.ZP,{status:Z.Dv.Active,size:Z.qE.Large,className:"w-full text-[16px]",disabled:!tn,waitForClick:!0,onClick:()=>{ti()},children:(0,p.jsx)("span",{className:"block w-full h-full",children:E.ethInfo.isConnected&&N.token?te?w("Send"):w("Input Amount"):w("ConnectWallet")})})]})}):null]}),(0,p.jsx)(S.Z,{className:"other-info",children:(0,p.jsxs)(S.Z,{className:"main-info",children:[eo.url===ep?(0,p.jsx)(j.ZP,{autoMargin:!1,autoPadding:!1,autoBorder:!0,className:"flex flex-col gap-3",children:(0,p.jsx)(ex,{id:e.id,className:"w-full"})}):null,ec.url===ep?(0,p.jsx)(j.ZP,{autoMargin:!1,autoPadding:!1,autoBorder:!0,className:"flex flex-col gap-3",children:(0,p.jsx)(eA,{id:e.id,className:"w-full"})}):null]})})]})}function eM(){return{amountTokenMin:"",amountETHMin:"",to:""}}function eL(e){let{isOpen:t,onClose:n,settings:a,onSettingsChange:r}=e,{t:i}=(0,B.$G)(["common"]),s=e=>{if(e===l.Auto){r({...a,slippage:{...a.slippage,mode:e,value:a.slippage.defaultValue}});return}r({...a,slippage:{...a.slippage,mode:e,value:a.slippage.defaultValue}})},o=e=>{var t;let n=(e=e.replace(/[^\d.]/g,"")).split(".");n.length>2&&(e=n[0]+"."+n.slice(1).join("")),(null===(t=n[1])||void 0===t?void 0:t.length)>2&&(e=n[0]+"."+n[1].slice(0,2)),parseFloat(e)>100&&(e="100"),r({...a,slippage:{...a.slippage,mode:l.Custom,value:e}})},c=e=>{""===(e=e.replace(/\D/g,""))&&(e="1");let t=parseInt(e);t<1&&(e="1"),t>60&&(e="60"),r({...a,deadline:{minutes:e}})};return(0,p.jsx)(er.Z,{isOpen:t,onRequestClose:n,className:"bg-black/90 p-6 rounded-lg max-w-md w-full",children:(0,p.jsxs)(S.Z,{className:"gap-6",children:[(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"text-secondary text-[12px] mb-2 block",children:i("MaxSlippage")}),(0,p.jsxs)("div",{className:"flex items-stretch gap-2",children:[(0,p.jsx)(I.Z,{tabListTitleClassName:"rounded-lg",tabList:[{title:i("Auto"),url:l.Auto},{title:i("Custom"),url:l.Custom}],displayType:I.L.BorderGradient,onClick:e=>s(e)}),(0,p.jsxs)("div",{className:"relative flex-1",children:[(0,p.jsx)(J.ZP,{autoMargin:!1,autoPadding:!1,type:"text",value:a.slippage.value,placeholder:a.slippage.mode===l.Auto?a.slippage.defaultValue:"",onChange:e=>{o(e.target.value)},readOnly:a.slippage.mode===l.Auto,className:"w-full bg-black/60 border border-gray-700 rounded px-3 py-2 ".concat(a.slippage.mode===l.Auto?"opacity-50":"")}),(0,p.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-secondary",children:"%"})]})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"text-secondary text-[12px] mb-2 block",children:i("TransactionDeadline")}),(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)(J.ZP,{autoMargin:!1,type:"text",value:a.deadline.minutes,onChange:e=>c(e.target.value),className:"w-full text-tip bg-black/60 border border-gray-700 rounded px-3 py-2"}),(0,p.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-secondary",children:i("Minutes")})]})]})]}),(0,p.jsx)("div",{className:"control",children:(0,p.jsx)(Z.ZP,{status:Z.Dv.None,size:Z.qE.Customize,className:"w-full flex bg-gradient-to-r from-primary to-highlight p-[1px]",onClick:()=>n(),children:(0,p.jsx)("div",{className:"w-full h-full bg-black rounded-[8px] p-[15px]",children:(0,p.jsx)("span",{className:"text-gradient",children:i("Close")})})})})]})})}var eR=n(49748),eB=n(10391);let e_=null,eF=null;function eV(e){let{t,i18n:n}=(0,B.$G)(["common"]),a=(0,k.C)(e=>e.global),r=(0,k.C)(e=>e.token);R.Q.getTargetNet();let i={[eR._.KlineReqVOIntervalEnum.M1]:"1M",[eR._.KlineReqVOIntervalEnum.M5]:"5M",[eR._.KlineReqVOIntervalEnum.M15]:"15M",[eR._.KlineReqVOIntervalEnum.H1]:"1H",[eR._.KlineReqVOIntervalEnum.H4]:"4H",[eR._.KlineReqVOIntervalEnum.D1]:"1D"},s=Object.values(eR._.KlineReqVOIntervalEnum).map(e=>({title:i[e],url:e})),l=null,[o,c]=g.useState(s.length>0?s[5].url:eR._.KlineReqVOIntervalEnum.D1),d=g.useRef(o);g.useEffect(()=>{d.current=o},[o]);let[u,m]=g.useState((0,Y.ki)({pageSize:50,pageIndex:0})),v=g.useRef(u);async function b(e){if(e!==o){null==l||l("tabClick"),l=null,c(e);try{let t={...u,isLoading:!0,data:[],pageIndex:0};if(m(t),v.current=t,e_&&(e_.remove(),e_=null,eF=null),await C.Z.sleepForAnimationFrame(100).promise,M(),!e_){m({...t,isLoading:!1}),v.current={...t,isLoading:!1};return}let n=new w.Z,a=await n.getTokenKLine({tokenAddress:r.tokenDetail.tokenAddress||"",interval:e,page:1,pageSize:t.pageSize});if(a.hasError()){(0,h.L6)(a.getError().msg);let e={...t,isLoading:!1};m(e),v.current=e;return}await _(e,void 0,!1,a,1),l=F().cancel}catch(t){A.Z.E("Error switching k-line interval:",t);let e={...u,isLoading:!1,pageIndex:0};m(e),v.current=e}}}g.useEffect(()=>{v.current=u},[u]);let[Z,D]=g.useState({time:0,open:"",high:"",low:"",close:""}),E=Z.open?new q.Z(Z.close).minus(Z.open).div(Z.open).multipliedBy(100):new q.Z(0),O=g.useRef(null);function M(){if(!O.current)return null;null==e_||e_.remove(),e_=null,eF=null;let e=C.Z.checkIfMobile(),t=d.current,n=t===eR._.KlineReqVOIntervalEnum.D1,a=t===eR._.KlineReqVOIntervalEnum.H4||t===eR._.KlineReqVOIntervalEnum.H1;A.Z.D("Creating chart for period: ".concat(t)),e_=(0,eB.C2)(O.current,{autoSize:!0,layout:{textColor:"#8A919E",background:{type:"solid",color:"#050505"}},timeScale:{timeVisible:!0,secondsVisible:!e&&!n&&!a,tickMarkFormatter:e=>{let t=Number(e);t<1e10&&(t*=1e3);let r=new Date(t);return n?"".concat((r.getMonth()+1).toString().padStart(2,"0"),"-").concat(r.getDate().toString().padStart(2,"0")):a?"".concat((r.getMonth()+1).toString().padStart(2,"0"),"-").concat(r.getDate().toString().padStart(2,"0")," ").concat(r.getHours().toString().padStart(2,"0"),":00"):"".concat(r.getHours().toString().padStart(2,"0"),":").concat(r.getMinutes().toString().padStart(2,"0"))},ticksVisible:!0},grid:{vertLines:{color:"#29292a",visible:!0},horzLines:{color:"#29292a",visible:!0}},rightPriceScale:{scaleMargins:{top:e?.3:.2,bottom:e?.3:.2}},handleScale:!0,handleScroll:!0}),A.Z.D("Created chart");let i={period:"",page:0,timestamp:0,visibleRange:""},s=!0;setTimeout(()=>{s=!1},1e3);let l=!1,o=et()(async(e,t)=>{if(!s&&e_&&!l&&e&&e.from<2){let e=d.current,s=v.current;if(s.data.length>0&&e===d.current)try{var n,a;let o=s.pageIndex||0;if(0===o){let e={...s,pageIndex:1};m(e),v.current=e;return}let c=o+1,u=Date.now();if(i.period===e&&i.page===c&&u-i.timestamp<5e3){A.Z.I("Skip duplicate request: period=".concat(e,", page=").concat(c));return}l=!0,i={period:e,page:c,timestamp:u,visibleRange:JSON.stringify(t)},A.Z.I("Loading historical data for period: ".concat(e,", page: ").concat(c));let p=new w.Z,g=await p.getTokenKLine({tokenAddress:r.tokenDetail.tokenAddress||"",interval:e,page:c,pageSize:s.pageSize});if(e!==d.current){A.Z.I("Period changed during historical data loading, aborting"),l=!1;return}if(g.hasError()){(0,h.L6)(g.getError().msg),l=!1;return}let f=null!==(a=null===(n=g.getData())||void 0===n?void 0:n.klineVOs)&&void 0!==a?a:[];if(f.length>0){let t={...s,pageIndex:c};m(t),v.current=t,await L(e,f),f.length<s.pageSize&&A.Z.I("No more historical data available")}else A.Z.I("Reached the boundary of historical data")}catch(e){A.Z.E("Error loading historical data:",e)}finally{l=!1}}},500);return e_.timeScale().subscribeVisibleTimeRangeChange(async()=>{if(!e_)return;let e=e_.timeScale().getVisibleRange();if(!e)return;let t=e_.timeScale().getVisibleLogicalRange(),n=JSON.stringify(e);i.visibleRange===n&&Date.now()-i.timestamp<1e3||(A.Z.I("Visible range:",e),o(t,e))}),e_.subscribeCrosshairMove(function(e){if(!eF)return;e.time;let t=e.seriesData.get(eF),n=v.current;if(!t){n.data.length&&D(n.data[n.data.length-1]);return}let a=n.data.find(e=>e.time===t.time);a&&D(a)}),e_.subscribeClick(function(e){if(!eF)return;let t=e.time;if(!t){let e=v.current;e.data&&e.data.length>0&&D(e.data[e.data.length-1]);return}let n=v.current,a=n.data.find(e=>e.time===t);if(!a){n.data&&n.data.length>0&&D(n.data[n.data.length-1]);return}D(a)}),{cancel(){null==e_||e_.remove(),e_=null,eF=null}}}async function L(e,t){if(e_&&eF&&0!==t.length)try{A.Z.D("Appending historical data for period: ".concat(e,", data length: ").concat(t.length));let n=e_.timeScale();n.getVisibleRange(),n.scrollPosition(),n.getVisibleLogicalRange();let a=(t=>{let n=(e,t)=>{e<1e10&&(e*=1e3);let n=new Date(e);if(t===eR._.KlineReqVOIntervalEnum.D1)return n.setHours(0,0,0,0),n.getTime();if(t===eR._.KlineReqVOIntervalEnum.H4){let e=4*Math.floor(n.getHours()/4);return n.setHours(e,0,0,0),n.getTime()}if(t===eR._.KlineReqVOIntervalEnum.H1)return n.setMinutes(0,0,0),n.getTime();if(t===eR._.KlineReqVOIntervalEnum.M15){let e=15*Math.floor(n.getMinutes()/15);return n.setMinutes(e,0,0),n.getTime()}{if(t!==eR._.KlineReqVOIntervalEnum.M5)return n.setSeconds(0,0),n.getTime();let e=5*Math.floor(n.getMinutes()/5);return n.setMinutes(e,0,0),n.getTime()}};return t.reverse().map(t=>{let a=Number(t.ts);a=n(a,e);let i=e=>{try{return Number(new q.Z(e).multipliedBy(r.eth2usd).toFixed(r.swapKeepDecimals,q.Z.ROUND_DOWN))}catch(e){return 0}};return{time:Math.floor(a/1e3),open:i(t.open),high:i(t.high),low:i(t.low),close:i(t.close)}})})(t).filter(e=>!isNaN(e.open)&&!isNaN(e.high)&&!isNaN(e.low)&&!isNaN(e.close)&&e.low<=e.high);if(0===a.length){A.Z.D("No valid historical data to append");return}let i=[...v.current.data],s=a.map(e=>({time:e.time,open:e.open.toString(),high:e.high.toString(),low:e.low.toString(),close:e.close.toString()})),l=new Set(i.map(e=>Number(e.time))),o=s.filter(e=>!l.has(Number(e.time)));if(0===o.length){A.Z.D("No new historical data to append");return}let c=[...o,...i].sort((e,t)=>Number(e.time)-Number(t.time));if(o.length){let e=new eH(o.map(e=>({ts:(1e3*Number(e.time)).toString(),open:e.open,high:e.high,low:e.low,close:e.close,volume:"0"})));document.dispatchEvent(e)}m(e=>({...e,data:c,isLoading:!1})),setTimeout(()=>{try{let e=c.map(e=>({time:Number(e.time),open:Number(e.open),high:Number(e.high),low:Number(e.low),close:Number(e.close)}));if(eF&&e_){let t=n.getVisibleLogicalRange();if(eF.setData(e),t){let e=o.length,a=Math.max(0,t.from+e),r=t.to+e;n.setVisibleLogicalRange({from:a,to:r})}}A.Z.D("Historical data appended successfully, new total: ".concat(c.length))}catch(e){A.Z.E("Error updating chart with historical data:",e)}},0)}catch(e){A.Z.E("Error appending historical data:",e),m(e=>({...e,isLoading:!1}))}}async function _(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.current,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(t=null!=t?t:r.tokenDetail.tokenAddress,n=null!=n&&n,!t||!e_&&(M(),!e_))return null;try{var s,l;let o=new w.Z,c=i||(a?1:v.current.pageIndex||1);A.Z.D("Updating chart with period: ".concat(e,", current active: ").concat(d.current,", page: ").concat(c));let u=a||await o.getTokenKLine({tokenAddress:t,interval:e,page:c,pageSize:v.current.pageSize});if(u.hasError())return(0,h.L6)(u.getError().msg),u;let p=null!==(l=null===(s=u.getData())||void 0===s?void 0:s.klineVOs)&&void 0!==l?l:[];if(0===p.length){let e={...v.current,isLoading:!1,data:[]};return m(e),v.current=e,u}if(p.length){let e=new eH(p);document.dispatchEvent(e)}let g=(t=>{let n=0,a=(e,t)=>{e<1e10&&(e*=1e3);let n=new Date(e);if(t===eR._.KlineReqVOIntervalEnum.D1)return n.setHours(0,0,0,0),n.getTime();if(t===eR._.KlineReqVOIntervalEnum.H4){let e=4*Math.floor(n.getHours()/4);return n.setHours(e,0,0,0),n.getTime()}if(t===eR._.KlineReqVOIntervalEnum.H1)return n.setMinutes(0,0,0),n.getTime();if(t===eR._.KlineReqVOIntervalEnum.M15){let e=15*Math.floor(n.getMinutes()/15);return n.setMinutes(e,0,0),n.getTime()}{if(t!==eR._.KlineReqVOIntervalEnum.M5)return n.setSeconds(0,0),n.getTime();let e=5*Math.floor(n.getMinutes()/5);return n.setMinutes(e,0,0),n.getTime()}};return t.reverse().map(t=>{let i=Number(t.ts);(i=a(i,e))<=n&&(i=n+1e3),n=i;let s=e=>{try{return Number(new q.Z(e).multipliedBy(r.eth2usd).toFixed(r.swapKeepDecimals,q.Z.ROUND_DOWN))}catch(e){return 0}},l={time:i,open:s(t.open),high:s(t.high),low:s(t.low),close:s(t.close)},o=Math.floor(i/1e3);return{areaSeriesData:{time:o,value:eg.Z.wei2eth(t.volume.split(".")[0]).toString()},candlestickSeriesData:{time:o,open:l.open,high:l.high,low:l.low,close:l.close}}})})(p).map(e=>e.candlestickSeriesData).filter(e=>!isNaN(e.open)&&!isNaN(e.high)&&!isNaN(e.low)&&!isNaN(e.close)&&e.low<=e.high);if(0===g.length){let e={...v.current,isLoading:!1,data:[]};return m(e),v.current=e,u}let f=r.swapKeepDecimals,x=g.map(e=>({time:e.time,open:e.open.toString(),high:e.high.toString(),low:e.low.toString(),close:e.close.toString()})),y=JSON.stringify(x),k=JSON.stringify(v.current.data);if(y!==k||0===v.current.data.length){let e={...v.current,isLoading:!1,data:x,pageIndex:void 0!==i?i:a?1:v.current.pageIndex};if(m(e),v.current=e,x.length&&D(x[x.length-1]),eF){let e,t,a;if(n){let n=e_.timeScale();e=n.getVisibleRange(),t=n.scrollPosition(),a=n.getVisibleLogicalRange()}if(p.length>0&&n&&g.length===v.current.data.length){let e=g[g.length-1];if(eF&&e)try{eF.update(e)}catch(e){eF.setData(g)}}else null==eF||eF.setData(g);if(n&&e&&t&&a){let n=e_.timeScale();n.setVisibleRange(e),n.scrollToPosition(t,!1),n.setVisibleLogicalRange(a)}else n||e_.timeScale().fitContent()}else{let e="#48B03E",t="#F24040";null==(eF=e_.addCandlestickSeries({upColor:e,downColor:t,borderVisible:!0,wickUpColor:e,wickDownColor:t}))||eF.applyOptions({priceFormat:{type:"price",precision:f,minMove:Math.pow(10,-f)}}),null==eF||eF.setData(g),e_.timeScale().fitContent(),C.Z.checkIfMobile()&&g.length>0&&(g[g.length-1],D(x[x.length-1]),setTimeout(()=>{if(e_&&eF){let e=new MouseEvent("click",{bubbles:!0,cancelable:!0});e_.timeScale().fitContent();let t=O.current;t&&t.dispatchEvent(e)}},100))}}else{let e={...v.current,isLoading:!1};m(e),v.current=e}return u}catch(t){A.Z.E("Error updating k-line chart:",t);let e={...v.current,isLoading:!1};return m(e),v.current=e,null}}function F(){let e=!1,t=C.Z.checkIfMobile(),n=d.current,a=!1,i={[eR._.KlineReqVOIntervalEnum.M1]:[],[eR._.KlineReqVOIntervalEnum.M5]:[],[eR._.KlineReqVOIntervalEnum.M15]:[],[eR._.KlineReqVOIntervalEnum.H1]:[],[eR._.KlineReqVOIntervalEnum.H4]:[],[eR._.KlineReqVOIntervalEnum.D1]:[]};async function s(){if(e)return;if(a||u.isLoading)return l=C.Z.sleepForAnimationFrame(1e3),await l.promise,s();n=d.current;let o={[eR._.KlineReqVOIntervalEnum.M1]:15e3,[eR._.KlineReqVOIntervalEnum.M5]:6e4,[eR._.KlineReqVOIntervalEnum.M15]:6e4,[eR._.KlineReqVOIntervalEnum.H1]:3e5,[eR._.KlineReqVOIntervalEnum.H4]:6e5,[eR._.KlineReqVOIntervalEnum.D1]:18e5},c=t?Math.max(o[n]||3e4,3e4):o[n]||15e3;if(l=C.Z.sleepForAnimationFrame(c),await l.promise,n!==d.current)return n=d.current,A.Z.D("Task period changed during execution, updated to: ".concat(n)),s();a=!0;try{var m;if(n!==d.current)return n=d.current,a=!1,A.Z.D("Task period changed after data fetch, updated to: ".concat(n)),s();A.Z.D("Fetching data for period: ".concat(n));let e=new w.Z,t=await e.getTokenKLine({tokenAddress:r.tokenDetail.tokenAddress||"",interval:n,page:1,pageSize:u.pageSize});if(n!==d.current)return n=d.current,a=!1,A.Z.D("Task period changed after data fetch, updated to: ".concat(n)),s();if(t.hasError())return a=!1,s();let l=(null===(m=t.getData())||void 0===m?void 0:m.klineVOs)||[];if(0===l.length)return a=!1,s();if(i[n]&&0!==i[n].length){if(function(e,t){if(!e||!t||e.length!==t.length)return!0;let n=new Map;for(let t of e){let e=Number(t.ts);e>=1e10&&(e=Math.floor(e/1e3)),n.set(e,t)}for(let e of t){let t=Number(e.ts);t>=1e10&&(t=Math.floor(t/1e3));let a=n.get(t);if(!a||a.close!==e.close||a.high!==e.high||a.low!==e.low||a.open!==e.open)return!0}return!1}(i[n],l)){A.Z.D("Data changed for period: ".concat(n,", updating chart"));let e=l[l.length-1];if(eF&&e_&&e)try{let t=e=>{try{return Number(new q.Z(e).multipliedBy(r.eth2usd).toFixed(r.swapKeepDecimals,q.Z.ROUND_DOWN))}catch(e){return 0}},a=Number(e.ts);a<1e10&&(a*=1e3);let s=new Date(a);if(n===eR._.KlineReqVOIntervalEnum.D1)s.setHours(0,0,0,0),a=s.getTime();else if(n===eR._.KlineReqVOIntervalEnum.H4){let e=4*Math.floor(s.getHours()/4);s.setHours(e,0,0,0),a=s.getTime()}else if(n===eR._.KlineReqVOIntervalEnum.H1)s.setMinutes(0,0,0),a=s.getTime();else if(n===eR._.KlineReqVOIntervalEnum.M15){let e=15*Math.floor(s.getMinutes()/15);s.setMinutes(e,0,0),a=s.getTime()}else if(n===eR._.KlineReqVOIntervalEnum.M5){let e=5*Math.floor(s.getMinutes()/5);s.setMinutes(e,0,0),a=s.getTime()}else s.setSeconds(0,0),a=s.getTime();let o={time:Math.floor(a/1e3),open:t(e.open),high:t(e.high),low:t(e.low),close:t(e.close)};A.Z.D("Updating single point for period: ".concat(n)),eF.update(o);let c={time:o.time,open:o.open.toString(),high:o.high.toString(),low:o.low.toString(),close:o.close.toString()};D(c),i[n]=l}catch(e){A.Z.E("Error updating single point: ".concat(e,", falling back to full update for period: ").concat(n)),i[n]=l,await _(n,void 0,!0,t)}else A.Z.D("No candlestick series or chart, doing full update for period: ".concat(n)),i[n]=l,await _(n,void 0,!0,t)}else A.Z.D("No data changes for period: ".concat(n,", skipping update"))}else i[n]=l,A.Z.D("Initial data load for period: ".concat(n,", updating chart")),await _(n,void 0,!1,t)}catch(e){A.Z.E("Error in update task:",e)}finally{a=!1}if(!e)return s()}let l=null;return s(),{cancel:function(t){null==l||l.cancel(t),e=!0}}}g.useEffect(()=>{if(r.tokenDetail.tokenId&&O.current&&0!==r.eth2usd)return l&&(l(f.Z.ReactError.useEffectDestroy().message),l=null),e(),()=>{l&&(l(f.Z.ReactError.useEffectDestroy().message),l=null)};async function e(){try{var e,t;if(M(),!e_){let e={...u,isLoading:!1};m(e),v.current=e;return}let n={...u,isLoading:!0,pageIndex:0};m(n),v.current=n;let a=new w.Z,i=await a.getTokenKLine({tokenAddress:r.tokenDetail.tokenAddress||"",interval:o,page:1,pageSize:n.pageSize});if(!i.hasError()&&(null===(t=i.getData())||void 0===t?void 0:null===(e=t.klineVOs)||void 0===e?void 0:e.length)){if(await _(o,void 0,!1,i,1),C.Z.checkIfMobile()&&v.current.data.length>0){let e=v.current.data[v.current.data.length-1];D(e)}}else{let e={...n,isLoading:!1};m(e),v.current=e}l=F().cancel}catch(t){A.Z.E("Error in initial load:",t);let e={...u,isLoading:!1,pageIndex:1};m(e),v.current=e}}},[r.tokenDetail.tokenId,r.tokenDetail.createTime,r.eth2usd,O]),g.useEffect(()=>{if(!O.current||!C.Z.checkIfMobile())return;let e=!1,t=new IntersectionObserver(t=>{let n=t[0];n.isIntersecting&&!e?(e=!0,e_&&!eF&&r.tokenDetail.tokenAddress&&setTimeout(async()=>{try{var e,t;if(!e_||eF)return;let n=new w.Z,a=await n.getTokenKLine({tokenAddress:r.tokenDetail.tokenAddress||"",interval:o,page:1,pageSize:u.pageSize});!a.hasError()&&(null===(t=a.getData())||void 0===t?void 0:null===(e=t.klineVOs)||void 0===e?void 0:e.length)&&await _(o,void 0,!1,a)}catch(e){A.Z.E("Error loading chart data on visibility change:",e)}},300)):n.isIntersecting||(e=!1)},{threshold:.1});return t.observe(O.current),()=>{t&&t.disconnect()}},[O.current,e_,eF,r.tokenDetail.tokenAddress]);let V=[{name:"O",value:Z.open},{name:"H",value:Z.high},{name:"L",value:Z.low},{name:"C",value:Z.close},{name:"",value:"("+(E.isPositive()?"+":"")+E.toFixed(2,q.Z.ROUND_DOWN)+"%)"}];return(0,p.jsxs)(j.ZP,{autoMargin:!1,autoBorder:!0,className:"kpi-view",children:[(0,p.jsxs)(S.Z,{horizontalAlignment:y.v2.Start,className:"kpi-top-bar gap-1 pb-5",children:[(0,p.jsxs)("div",{className:"w-full flex flex-col md:flex-row justify-between items-start md:items-center gap-2",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2 text-secondary w-full max-w-[370px] overflow-hidden text-ellipsis",children:[(0,p.jsx)(T.LazyLoadImage,{className:"w-[25px] h-[25px] object-cover",width:25,height:25,src:r.tokenDetail.tokenImage,alt:r.tokenDetail.tokenName}),(0,p.jsxs)("div",{className:"flex gap-1",children:[(0,p.jsx)("span",{children:r.tokenDetail.tokenName}),(0,p.jsxs)("span",{children:["($",r.tokenDetail.tokenSymbol,")"]})]})]}),(0,p.jsx)(I.Z,{className:"w-full md:w-auto",title:t("Indicators"),titleClassName:"flex-2 md:flex-none",tabList:s,activeIndex:s.findIndex(e=>e.url===o),onClick:e=>b(e)})]}),(0,p.jsx)("div",{className:"flex flex-row items-center text-secondary gap-1 time-value-show-container",children:V.map(e=>(0,p.jsxs)(x.Z,{className:"time-value-show",children:[(0,p.jsx)("span",{className:"name",children:e.name}),(0,p.jsx)("span",{className:"value ".concat(Z.close===Z.open?"":Z.close>Z.open?"success":"fail"),children:""!==e.name?(0,p.jsx)(N.eO,{value:Number(e.value),useSub:!0}):e.value})]},e.name))})]}),(0,p.jsxs)("div",{className:"kpi-container text-center relative ".concat(0===u.data.length&&r.tokenDetail.createTime+P.Z.Hours.fromString("1").toJSTime()>a.currentTime?"no-data":""),children:[(0,p.jsx)(ez,{}),(0,p.jsx)("div",{ref:O,className:"kpi-wrapper"})]})]})}function ez(){let{t:e}=(0,B.$G)("common"),t=(0,k.C)(e=>e.global),n=(0,k.C)(e=>e.token).tokenDetail.createTime+P.Z.Hours.fromString("1").toJSTime(),a=0===t.currentTime?0:C.Z.convertTimeDifference(new Date(n-t.currentTime));return(0,p.jsx)("div",{className:"",children:0!==a?(0,p.jsxs)("div",{className:"absolute left-0 right-0 top-[20%] z-10 flex flex-col items-center gap-6",children:[(0,p.jsx)("span",{className:"text-[16px] text-secondary",children:e("Online Time")}),(0,p.jsx)("span",{className:"text-[48px] text-primary",children:a.toFormated()})]}):null})}class eH extends CustomEvent{constructor(e){super(s.KLINE_UPDATED,{detail:{data:e}})}}function eW(){return(eW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}var eU=function(e){return Q.createElement("svg",eW({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 25"},e),u||(u=Q.createElement("path",{fill:"currentColor",d:"M18.575 4.138H6.002v15.836H3.925V2.271h13.783v1.335h2.273V0H1.651v22.246h4.35v2.748h17.924V9.324zm-.608 2.574 3.147 3.05h-3.147zM8.274 22.723V6.41h7.42v5.624h5.96v10.69z"})))},eq=n(59075),eK=n(72546),eQ=n(54325),eG=n(25455),e$=n(73321),eJ=n(34456);function eX(){let e=(0,k.C)(e=>e.token);return(0,p.jsx)(x.Z,{horizontalArrangement:y.cV.SpaceBetween,className:"gap-2 projects-contain",children:[{key:"x",checker:()=>!!e.tokenDetail.x,Icon:eK.Z,onClick:()=>{e.tokenDetail.x&&C.Z.createWindow(e.tokenDetail.x)}},{key:"website",checker:()=>!!e.tokenDetail.website,Icon:eq.Z,onClick:()=>{e.tokenDetail.website&&C.Z.createWindow(e.tokenDetail.website)}},{key:"telegram",checker:()=>!!e.tokenDetail.telegram,Icon:eQ.Z,onClick:()=>{e.tokenDetail.telegram&&C.Z.createWindow(e.tokenDetail.telegram)}},{key:"discord",checker:()=>!!e.tokenDetail.discord,Icon:eG.Z,onClick:()=>{e.tokenDetail.discord&&C.Z.createWindow(e.tokenDetail.discord)}},{key:"tiktok",checker:()=>!!e.tokenDetail.tiktok,Icon:e$.Z,onClick:()=>{e.tokenDetail.tiktok&&C.Z.createWindow(e.tokenDetail.tiktok)}},{key:"youtube",checker:()=>!!e.tokenDetail.youtube,Icon:eJ.Z,onClick:()=>{e.tokenDetail.youtube&&C.Z.createWindow(e.tokenDetail.youtube)}}].map((e,t)=>(0,p.jsx)(eY,{className:e.checker()?"cursor-pointer hover:opacity-90 text-secondary":"text-tip",onClick:e.onClick,children:(0,p.jsx)(e.Icon,{className:"w-[30px] h-[30px]"})},e.key))})}function eY(e){let{className:t,children:n,onClick:a,...r}=e;return(0,p.jsx)(x.Z,{horizontalArrangement:y.cV.Center,verticalAlignment:y.v2.Center,className:"icon-box-component ".concat(null!=t?t:""),onClick:a,...r,children:n})}var e0=n(64018),e1=n(51800),e2=n(33704),e6=n(78171),e5=n(12642);function e3(e){let t=(0,k.C)(e=>e.user),{i18n:n,t:a}=(0,B.$G)(["common"]),r=n.language,[i,s]=g.useState(""),[l,o]=g.useState(!1),c=new e0.Z.CommentHandler,[d,u]=g.useTransition(),[m,y]=g.useState((0,Y.ki)({pageIndex:1})),N=g.useRef(m);function I(t){var n;function a(e){r.abort(e)}let r=new AbortController,i=N.current;if(!t.restart&&i.isLoading)return{promise:Promise.resolve(),cancel:a};let s=t.restart?1:null!==(n=t.page)&&void 0!==n?n:i.pageIndex+1;y({...i,data:[],isLoading:!0});let l=new w.Z;return{promise:new eu.M2y(l.buildConfigure()).getCoinComments({page:s,pageSize:i.pageSize,tokenId:e.tokenId},{signal:r.signal}).then(e=>{var t,n,a;let r=new el.zv(e);if(r.hasError())throw Error(r.getError().msg);let l=null!==(n=null===(t=r.getData())||void 0===t?void 0:t.commentVOs)&&void 0!==n?n:[],o=null!==(a=r.getTotalPage())&&void 0!==a?a:i.total,c=0===r.getTotalPage()||0===l.length||l.length<i.pageSize,d=[...l.map(e=>({...e,dateShow:C.Z.latestDate(new Date(1e3*e.createTime)),createTime:Number(e.createTime)}))];y({...i,pageIndex:s,isLoading:!1,total:o,isEnd:c,data:d})}).catch(e=>{A.Z.D("getTokens err",e),f.Z.canBeIgnore(e)||(0,h.L6)(new h.HU(e,"Error in get comment list").asToastMessage())}),cancel:a}}async function T(){if(!e.tokenId){(0,h.L6)(a("Token not found"));return}let t=new w.Z,n=new eu.M2y(t.buildConfigure()),r=await n.createComment1({commentCreateRequestVO:{tokenId:e.tokenId,content:i}});s("");let l=new el.zv(r);if(l.hasError()){let e=l.getError();(0,h.L6)(e.msg);return}(0,h.x9)(a("Success")),C.Z.sleepForAnimationFrame(16).promise.then(()=>{I({restart:!0})})}return g.useEffect(()=>{N.current=m},[m]),g.useEffect(()=>{if(!e.tokenId||N.current.isLoading)return;let t=C.Z.sleepForAnimationFrame(500);return t.promise.then(()=>{y({...m,data:[],pageIndex:1,isEnd:!1,isLoading:!1}),u(()=>I({restart:!0}).promise)}),()=>{t.cancel(f.Z.ReactError.useEffectDestroy())}},[e.tokenId]),(0,p.jsx)(j.ZP,{autoBorder:!1,autoMargin:!1,background:j.nV.Grey,children:(0,p.jsxs)(S.Z,{className:"gap-[20px]",children:[(0,p.jsx)("div",{className:"relative",children:(0,p.jsx)(j.ZP,{autoBorder:!0,autoMargin:!1,children:(0,p.jsxs)(S.Z,{children:[(0,p.jsx)("textarea",{value:i,onChange:e=>s(e.target.value),className:"block rounded-xl min-h-[22px] text-white resize-none bg-transparent focus:outline-none placeholder-tip",placeholder:a("Fill in reply"),maxLength:c.maxLength}),(0,p.jsxs)("div",{className:"relative flex justify-between items-end gap-3",children:[(0,p.jsxs)("p",{className:"text-tip text-[12px]",children:[(0,p.jsxs)("span",{className:i.length>c.maxLength?"text-primary":"text-disabled",children:[i.length,"/"]}),(0,p.jsx)("span",{className:"text-tip",children:c.maxLength})]}),(0,p.jsxs)("div",{className:"flex items-center gap-4",children:[(0,p.jsx)(Z.ZP,{status:Z.Dv.None,size:Z.qE.Customize,className:"text-[14px] text-center flex -flex-col items-center",onClick:()=>o(!l),children:(0,p.jsx)(e1.Z,{})}),(0,p.jsx)(Z.ZP,{size:Z.qE.Normal,className:"bg-purple-600 hover:bg-purple-700",status:i.length>0?Z.Dv.Active:Z.Dv.Disabled,waitForClick:!0,onClick:()=>T(),children:a("Submit")})]}),(0,p.jsx)("div",{className:(0,M.m6)("absolute top-[120%] left-0 md:left-auto right-0  transition-all w-full md:w-[300px] h-[450px] z-3",l?"block":"hidden"),children:(0,p.jsx)(e2.Z,{className:"w-full h-[450px]",data:e6,onEmojiSelect:function(e){A.Z.I(e),s(t=>t+e.native),o(!1)},theme:"dark",locale:r,dynamicWidth:!0})})]})]})})}),(0,p.jsx)(em.ZP,{pageInfo:{page:m.pageIndex,totalPage:m.total||1},onPaginationChange:t=>{let{page:n}=t;return 0!==n&&e.tokenId?(y(e=>({...e,data:[],isLoading:!0,pageIndex:n})),I({page:n,restart:!1})):{promise:Promise.resolve(),cancel:()=>{}}},children:(0,p.jsx)(S.Z,{className:"gap-[15px]",children:m.data.map((e,n)=>{let a=e.createBy===t.ethInfo.walletAddress;return(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)(x.Z,{className:"justify-start items-center gap-2",children:[a?(0,p.jsx)(e5.Z,{className:"w-[20px] h-[20px]"}):null,(0,p.jsx)(b.Z,{address:e.createBy,text:v.Z.toShort(e.createBy),className:a?"text-gradient":"text-secondary"}),(0,p.jsx)("span",{className:"text-tip",children:e.dateShow})]}),(0,p.jsx)("p",{className:"text-third break-all",children:e.content}),(0,p.jsx)("p",{className:"w-full h-[1px] bg-[#111]"})]},e.id)})})})]})})}var e4=n(41525),e7=n(24521);function e8(e){let{t}=(0,B.$G)(["common"]),n=(0,k.C)(e=>e.token),[a,r]=g.useTransition(),i=n.tokenContractDetail.decimals,l=new w.Z,o=R.Q.getTargetNet(),c=[{title:t("Account"),dataIndex:"account",key:"account",width:250,align:"left",render:(e,t,n)=>(0,p.jsx)(b.Z,{className:"user-address",chainId:o.chainId,address:t.account,text:v.Z.toShort(t.account)})},{title:t("Type"),dataIndex:"type",key:"type",width:250,render:(e,n,a)=>(0,p.jsx)(x.Z,{horizontalArrangement:y.cV.Center,verticalAlignment:y.v2.Center,className:"type-contain",children:n.type===eR._.SwapType.Buy?(0,p.jsx)("span",{className:"type type-success",children:t("Buy")}):(0,p.jsx)("span",{className:"type type-error",children:t("Sell")})})},{title:o.nativeCurrency.symbol,dataIndex:"balance",key:"balance",width:250,render:(e,t,n)=>(0,p.jsx)(x.Z,{horizontalArrangement:y.cV.Center,verticalAlignment:y.v2.Center,className:"amount-contain",children:(0,p.jsx)(N.eO,{value:Number(t.type===eR._.SwapType.Buy?t.amountIn:t.amountOut)/Math.pow(10,o.nativeCurrency.decimals)})})},{title:"".concat(e.tokenSymbol),dataIndex:"tokenAmount",key:"tokenAmount",width:250,render:(e,t,n)=>(0,p.jsx)(x.Z,{horizontalArrangement:y.cV.Center,verticalAlignment:y.v2.Center,className:"amount-contain",children:(0,p.jsx)(N.eO,{value:Number(t.type===eR._.SwapType.Buy?t.amountOut:t.amountIn)/Math.pow(10,i)})})},{title:t("Date"),dataIndex:"date",key:"date",width:250,render:(e,t,n)=>(0,p.jsx)(x.Z,{horizontalArrangement:y.cV.Center,verticalAlignment:y.v2.Center,className:"date whitespace-nowrap",children:t.dateShow})},{title:t("Transaction"),dataIndex:"transaction",key:"transaction",width:250,align:"right",render:(e,t,n)=>(0,p.jsx)(x.Z,{horizontalArrangement:y.cV.End,children:(0,p.jsx)(e4.Z,{chainId:o.chainId,hash:t.hash,text:v.Z.toShort(t.hash)})})}],[d,u]=g.useState((0,Y.ki)({pageSize:20})),m=g.useRef(d);function j(e){var r;function i(e){s.abort(e)}let s=new AbortController;if(a)return{promise:Promise.resolve(),cancel:i};let o=n.tokenSwapPage.tokenAddress,c=e.restart?1:null!==(r=e.page)&&void 0!==r?r:1;u(e=>({...e,data:[],isLoading:!0,pageIndex:c})),Promise.resolve();let m=e=>{var n,a;let r=new el.zv(e);if(r.hasError())return Promise.reject(r.getError());let i=r.getData(),s=null!==(n=null==i?void 0:i.coinTxList)&&void 0!==n?n:[],l=null!==(a=r.getTotalPage())&&void 0!==a?a:d.total,o={justNow:t("JustNow"),minutesAgo:t("MinutesAgo",{minutes:"{0}"}),hoursAgo:t("HoursAgo",{hours:"{0}"}),daysAgo:t("DaysAgo",{days:"{0}"}),monthsAgo:t("MonthsAgo",{months:"{0}"}),yearsAgo:t("YearsAgo",{years:"{0}"}),yesterday:t("Yesterday"),today:t("Today")};u({...d,isLoading:!1,data:s.map((e,t)=>({hash:e.txHash,dateShow:C.Z.latestDate(new Date(1e3*e.createTime),o),account:e.createBy,type:Number(e.type),amountIn:e.amountIn.toString(),amountOut:e.amountOut.toString()})),pageIndex:c,total:l})};return{promise:(async()=>{if(o===n.tokenSwapPage.tokenAddress&&n.tokenSwapPage.tokenAddress)return l.getTXHistory({page:c,pageSize:d.pageSize,tokenAddress:n.tokenSwapPage.tokenAddress,abortController:s}).then(m).catch(e=>{f.Z.isUserAbort(e)||e===f.Z.ReactError.useEffectDestroy().asString()||(0,h.L6)(new h.HU(e,"Error in getTXHistory").asToastMessage())})})(),cancel:i}}return g.useEffect(()=>{m.current=d},[d]),g.useRef(null),g.useEffect(()=>{if(!n.tokenSwapPage.tokenAddress||m.current.isLoading)return;let e=C.Z.sleepForAnimationFrame(500);e.promise.then(()=>{u({...d,data:[],pageIndex:1,isEnd:!1,isLoading:!1}),r(()=>j({restart:!0}).promise)});let t=new AbortController;return document.addEventListener(s.SWAP_DONE,function(){j({restart:!0})},{signal:t.signal}),()=>{let n=f.Z.ReactError.useEffectDestroy();e.cancel(n),t.abort(n)}},[n.tokenSwapPage.tokenAddress]),(0,p.jsx)("div",{className:"tx-history-view",children:(0,p.jsx)(S.Z,{className:"gap-[20px]",children:(0,p.jsx)(em.ZP,{className:"w-full",pageInfo:{page:d.pageIndex,totalPage:d.total||1},onPaginationChange:e=>{let{page:t}=e;return 0===t?{promise:Promise.resolve(),cancel:()=>{}}:(u(e=>({...e,data:[],isLoading:!0,pageIndex:t})),j({page:t,restart:!1}))},children:(0,p.jsx)("div",{className:"w-full overflow-x-auto",children:(0,p.jsx)(e7.ZP,{rowKey:e=>e.hash,emptyText:"",className:"tx-history-table text-center min-w-[760px]",columns:c,data:d.data})})})})})}function e9(e){let t=(0,k.C)(e=>e.token),{t:n}=(0,B.$G)(["common"]),a={title:n("Comment"),url:"commentsInfo",children:()=>e3},r=[a,{title:n("Trading History"),url:"txHistoryInfo",children:()=>e8}],[i,s]=g.useState(a.url);return(0,p.jsxs)(j.ZP,{autoMargin:!1,autoBorder:!0,className:(0,M.m6)("bot-contain",e.className),children:[(0,p.jsx)("div",{className:"tab-title-contain flex justify-between items-center",children:(0,p.jsx)(I.Z,{tabList:r,onClick:function(e){s(e)}})}),r.filter(e=>e.url===i).map(e=>{let n=e.children();return(0,p.jsx)(n,{tokenId:t.tokenDetail.tokenId||null,tokenSymbol:t.tokenDetail.tokenSymbol},e.url)})]})}var te=n(40151);!function(e){function t(){let{t:e}=(0,B.$G)(["common"]);(0,k.C)(e=>e.token);let t=(0,k.C)(e=>e.user);(0,k.T)();let i=(0,eo.Z)(t.ethInfo.walletAddress);g.useEffect(()=>{t.ethInfo.isConnected&&t.ethInfo.walletAddress&&i.updateETHBalance().then(()=>{A.Z.L("ETH余额已更新")}).catch(e=>{A.Z.E("更新ETH余额失败:",e)})},[t.ethInfo.isConnected,t.ethInfo.walletAddress]);let s={title:e("Swap"),url:"transactionInfo",children:()=>a},l=[s,{title:e("Chart"),url:"extraInfoInfo",children:()=>r}],[o,c]=g.useState(s.url);return(0,p.jsx)(S.Z,{horizontalAlignment:y.v2.Center,className:"token-detail-page relative",children:(0,p.jsxs)(S.Z,{horizontalAlignment:y.v2.Stretch,className:"main",children:[(0,p.jsx)(n,{}),(0,p.jsxs)("div",{className:"top",children:[(0,p.jsx)(r,{className:"hidden xl:flex"}),(0,p.jsx)(a,{id:"pc",className:"hidden xl:block"}),(0,p.jsx)(I.Z,{className:"block xl:hidden",tabListTitleClassName:"justify-start",tabItemTitleClassName:e=>e?"text-[16px] border-b border-b-3 border-primary":"text-[16px] ",tabList:l,onClick:function(e){e!==o&&c(e)},children:l.filter(e=>e.url===o).map(e=>{let t=e.children();return(0,p.jsx)(t,{id:"mobile-".concat(e.url)},e.url)})})]})]})})}function n(){var e,t,n;let a=(0,k.T)(),{t:r}=(0,B.$G)(["common"]),l=(0,k.C)(e=>e.token),o=(0,O.Z)(null!==(e=l.tokenSwapPage.tokenAddress)&&void 0!==e?e:""),c=R.Q.getTargetNet(),d=l.tokenContractDetail,u=(0,V.Z)(),m=(0,F.Dp)(l.tokenDetail.tokenSymbol),[I,E]=g.useState(null),L=(0,F.ZP)(null!==(t=null==I?void 0:I.nftAddress)&&void 0!==t?t:""),[_,H]=g.useState(""),W=Number(_||l.tokenDetail.price),U=l.tokenDetail.marketCap,K=new q.Z(eg.Z.wei2eth(l.uniswapV2PairInfo.pairWethBalance)).multipliedBy(l.eth2usd).multipliedBy(2).toNumber();function Q(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new AbortController,t=new w.Z;async function n(){if(!l.tokenSwapPage.tokenAddress)throw Error("Token address is null");let n=await t.getTokenDetail({tokenAddress:l.tokenSwapPage.tokenAddress,abortController:e});if(n.hasError())return Promise.reject(n.getError());let r=n.getData();return l.tokenSwapPage.tokenAddress!==r.tokenAddress&&a(D.Z.slice.actions.updateTokenSwapPageAddress(r.tokenAddress)),a(D.Z.slice.actions.updateTokenDetail({...r,apr:Number(r.apr),price:Number(r.price),h24PricePercent:Number(r.h24PricePercent),pairAddress:eh.UJ(r.pairAddress)?await eh.ru(r.pairAddress):r.pairAddress,daoAddress:eh.UJ(r.daoAddress)?await eh.ru(r.daoAddress):r.daoAddress})),a(D.Z.slice.actions.updateUniswapV2FactoryInfo({...l.uniswapV2FactoryInfo,pairAddress:r.pairAddress})),n}async function r(){var n;if(!l.tokenDetail.tokenAddress)throw Error("Token address is null");let r=await t.getTokenHotDetail({tokenAddress:l.tokenDetail.tokenAddress,abortController:e});if(r.hasError())return Promise.reject(r.getError());let i=r.getData();return a(D.Z.slice.actions.updateTokenDetail({...l.tokenDetail,...i,price:Number(i.price),h24PricePercent:Number(i.h24PricePercent)})),i.tokenAddress=null!==(n=i.tokenAddress)&&void 0!==n?n:l.tokenDetail.tokenAddress,el.zv.Ok(i)}return{promise:(l.tokenDetail.tokenAddress&&l.tokenDetail.tokenAddress===l.tokenSwapPage.tokenAddress?r():n()).catch(e=>{if(!f.Z.canBeIgnore(e))return(0,h.L6)(new h.HU(e,"Error in getTokenDetail").asToastMessage()),Promise.reject(e)}),cancel:t=>{e.abort(t)}}}async function G(e){var t;A.Z.I("getChainDetail");let n=null!==(t=null!=e?e:l.tokenSwapPage.tokenAddress)&&void 0!==t?t:void 0;return o.updateInfo(n).then(e=>Y(e.symbol)).catch(e=>(A.Z.E("Error in get chain info:",e),(0,h.L6)(new h.HU(e,"Error in get chain info:").asToastMessage()),Promise.reject(e)))}function $(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new AbortController;return{promise:Q(e).promise.then(e=>G(e.getData().tokenAddress)),cancel:t=>{e.abort(t)}}}function J(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new AbortController;return A.Z.I("getAllTokenDetailByParallel"),{promise:Promise.all([Q(e),G()]),cancel:t=>{e.abort(t)}}}async function X(){await u.updateInfo()}async function Y(e){let t=await m.updateInfo(null!=e?e:d.symbol);E(t),await L.updateInfo(t.nftAddress)}g.useEffect(()=>{let e;if(!l.tokenSwapPage.tokenAddress)return;let t=C.Z.sleepForAnimationFrame(l.tokenSwapPage.tokenAddress===l.tokenDetail.tokenAddress?5e3:150);return t.promise.then(()=>{X(),e=function(){let e=!1;async function t(){if(a&&await (null==a?void 0:a.promise),n=C.Z.sleepForAnimationFrame(5e3),await n.promise,!e)return a=l.tokenSwapPage.tokenAddress?J():$(),await a.promise,t()}let n=null,a=l.tokenSwapPage.tokenAddress?J():$();return t(),{cancel:function(t){null==a||a.cancel(t),null==n||n.cancel(t),e=!0}}}().cancel}),e=t.cancel,()=>{let t=f.Z.ReactError.useEffectDestroy().message;e(t)}},[l.tokenSwapPage.tokenAddress,l.tokenDetail.tokenAddress]),g.useEffect(()=>{function e(e){0!==e.detail.data.length&&H(e.detail.data[0].close)}return document.addEventListener(s.KLINE_UPDATED,t=>e(t)),()=>document.removeEventListener(s.KLINE_UPDATED,t=>e(t))},[]);let ee=()=>{let e=r("tokenShareContent",{accountName:"TriaiFun",name:l.tokenDetail.tokenSymbol,percent:P.Z.toFixed(100*l.tokenDetail.h24PricePercent,2),link:location.href});C.Z.shareToX(e)};return g.useEffect(()=>{let e=new URLSearchParams(location.search).get(D.Z.TokenParams.TOKEN_ADDRESS);e&&l.tokenSwapPage.tokenAddress!==e&&a(D.Z.slice.actions.updateTokenSwapPageAddress(e))},[]),(0,p.jsx)(j.ZP,{autoMargin:!1,autoBorder:!0,className:"detail-contain",children:(0,p.jsxs)(x.Z,{horizontalArrangement:y.cV.SpaceBetween,verticalAlignment:y.v2.Center,className:"token-info",children:[(0,p.jsxs)(S.Z,{className:"token-main-info relative",children:[(0,p.jsxs)("div",{className:"grid grid-cols-[80px_1fr] gap-1 items-start left",children:[(0,p.jsx)(T.LazyLoadImage,{src:l.tokenDetail.tokenImage,className:"logo"}),(0,p.jsxs)(S.Z,{className:"text-contain",children:[(0,p.jsx)("h1",{className:"name break-all",children:l.tokenDetail.tokenSymbol}),(0,p.jsx)("h2",{className:"text-tip ticker break-all",children:l.tokenDetail.tokenName}),(0,p.jsx)(Z.ZP,{size:Z.qE.Small,status:Z.Dv.None,className:"block md:hidden",onClick:ee,children:(0,p.jsxs)(x.Z,{className:"items-center gap-1 leading-1 text-[12px]",children:[(0,p.jsx)(z,{defsPrexId:"mobile"}),(0,p.jsx)("span",{className:"underline text-gradient",children:r("PostOnTwitter")})]})}),(0,p.jsx)("div",{className:"hidden md:block",children:(0,p.jsx)(eX,{})})]})]}),(0,p.jsx)("div",{className:"block md:hidden",children:(0,p.jsx)(eX,{})})]}),(0,p.jsxs)(x.Z,{className:"info-contain",children:[(0,p.jsx)(i,{title:r("Price"),value:(0,p.jsxs)("div",{className:"flex items-center gap-1",children:[(0,p.jsx)(N.eO,{value:W*l.eth2usd,useSub:!0,preChildren:l.moneyUnit}),(0,p.jsxs)("span",{className:(0,M.m6)(l.tokenDetail.h24PricePercent>=0?"text-[#44B72D]":"text-[#FE0308]"),children:[l.tokenDetail.h24PricePercent>=0?"+":"",P.Z.toFixed(100*l.tokenDetail.h24PricePercent,2),"%"]})]})}),(0,p.jsx)(i,{title:r("Market Cap"),value:(0,p.jsx)(te.J,{value:U*l.eth2usd,decimal:l.decimals})}),(0,p.jsx)(i,{title:r("Liquidity"),value:(0,p.jsx)(te.J,{value:K,decimal:l.decimals})}),(0,p.jsx)(i,{title:r("24H Volume"),value:(0,p.jsx)(te.J,{value:l.tokenDetail.h24Volume*l.eth2usd,decimal:l.decimals})}),(0,p.jsx)(i,{title:r("Token Address"),value:(0,p.jsxs)("div",{className:"flex items-center gap-1",children:[(0,p.jsx)(b.Z,{chainId:c.chainId,address:null!==(n=l.tokenSwapPage.tokenAddress)&&void 0!==n?n:l.tokenDetail.tokenAddress,text:v.Z.toShort(l.tokenDetail.tokenAddress)}),(0,p.jsx)(eU,{className:"w-[12px] h-[12px] cursor-pointer",onClick:async()=>{let[e,t]=await C.Z.tryCopyToClipboard(l.tokenDetail.tokenAddress);if(t){(0,h.L6)(new h.HU(t,"Error in copy token address").asToastMessage());return}(0,h.x9)(r("Success"))}})]})})]}),(0,p.jsx)(Z.ZP,{size:Z.qE.Small,status:Z.Dv.None,className:"hidden md:block",onClick:ee,children:(0,p.jsxs)(S.Z,{className:"items-center gap-1 leading-1 text-[12px]",children:[(0,p.jsx)(z,{defsPrexId:"pc"}),(0,p.jsx)("span",{className:"underline text-gradient",children:r("PostOnTwitter")})]})})]})})}function a(e){var t;let n=(0,k.C)(e=>e.token),a=n.tokenDetail.createTime+P.Z.Hours.fromString("1").toJSTime();return(0,p.jsx)(j.ZP,{autoMargin:!1,autoPadding:!1,background:j.nV.None,className:(0,M.m6)("tx-contain",e.className),children:(0,p.jsx)(eO,{id:"".concat(e.id,"-TransferView"),description:null!==(t=n.tokenDetail.description)&&void 0!==t?t:"",marketCap:n.tokenDetail.marketCap,tokenId:n.tokenDetail.tokenId||null,tokenSymbol:n.tokenDetail.tokenSymbol,mintStartTime:a})})}function r(e){let t=(0,k.C)(e=>e.token);return(0,p.jsxs)("div",{className:(0,M.m6)("flex flex-col kline-and-tx",e.className),children:[t.tokenDetail.tokenId?(0,p.jsx)(eV,{}):null,(0,p.jsx)(e9,{className:""})]})}function i(e){return(0,p.jsxs)(S.Z,{horizontalAlignment:y.v2.Center,className:"detail-prop-component",children:[(0,p.jsx)("p",{className:"title",children:e.title}),(0,p.jsx)("div",{className:"value",children:e.value})]})}e.Page=function(){return(0,p.jsxs)("div",{className:"relative overflow-x-hidden",children:[(0,p.jsx)(_.Z,{}),(0,p.jsx)(E.Z,{}),(0,p.jsx)(t,{}),(0,p.jsx)(L.Z,{})]})}}(m||(m={}));var tt=m.Page},64037:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(57437),r=n(27635);function i(){return(0,a.jsx)(r.Z,{})}n(2265)},64018:function(e,t,n){"use strict";var a,r=n(12249),i=n(43009),s=n(68651),l=n(79787);!function(e){class t{validator(e){return""!==e}}e.BaseValidatable=t;class n{validator(e){let t=new s.O(e),n=e.split(".")[1];return!t.isNaN()&&(this.includeMax?t.lte(this.maxValue.toString()):t.lt(this.maxValue.toString()))&&(this.includeMin?t.gte(this.minValue):t.gt(this.minValue))&&(!n||n.length<=this.decimal)}onChange(e){if(""!==e){let t=new s.O(e),n=this.maxValue;t.isNaN()&&(e="0"),t.gt(n.toString())&&(e=n.toString()),t.lt(this.minValue)&&(e=this.minValue.toString())}return e.includes(".")&&e.split(".")[1].length>this.decimal&&(e=Number(e).toFixed(this.decimal)),e}constructor(){(0,r._)(this,"decimal",18),(0,r._)(this,"maxValue",new s.O(i.Z.BigIntMaxValue().toString())),(0,r._)(this,"minValue",new s.O(0)),(0,r._)(this,"includeMin",!1),(0,r._)(this,"includeMax",!0)}}e.BaseValueManager=n;class a{}e.DefaultAsyncValidater=a;class o{validator(e){return e.length<=this.maxLength&&e.length>=this.minLength}onChange(e){return e.length>this.maxLength?e.substring(0,this.maxLength):e}constructor(){(0,r._)(this,"maxLength",268),(0,r._)(this,"minLength",0)}}e.BaseTextManager=o;class c extends o{constructor(...e){super(...e),(0,r._)(this,"maxLength",256)}}e.CommentHandler=c;class d extends o{get rule(){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/}validator(e){return super.validator(e)&&this.rule.test(e)}constructor(...e){super(...e),(0,r._)(this,"minLength",4)}}e.EmailHandler=d;class u extends t{validator(e){return super.validator(e)&&e.type.includes("image")}}e.ImageValidatable=u;class m extends n{validator(e){return super.validator(e)}onChange(e){return super.onChange(e)}constructor(...e){super(...e),(0,r._)(this,"decimal",2),(0,r._)(this,"maxValue",100),(0,r._)(this,"minValue",1)}}e.PercentHandler=m;class p extends t{validator(e){let t=e.toUpperCase();return/^(0X)?[0-9A-F]+$/.test(t)&&t.length>=40&&t.length<=70}onChange(e){return e}}e.EVMAddressHandler=p;class g extends t{validator(e){try{return!0}catch(e){return!1}}onChange(e){return e}}e.TonAddressHandler=g;class f extends t{validator(e){return/[1-9A-HJ-NP-Za-km-z]{32,44}/.test(e)}onChange(e){return e}}e.SolanaAddressHandler=f;class h extends t{validator(e){return/^[0-9a-fA-F]{40}$/.test(e)}onChange(e){return e}}e.SuiAddressHandler=h;class x extends t{validator(e){return""===e||l.Z.isURL(e)}onChange(e){return e}}e.UrlHandler=x}(a||(a={})),t.Z=a},97235:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(57437);n(72787);var r=n(53335);function i(){return(0,a.jsx)("div",{className:(0,r.m6)("component-background")})}},48423:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(57437);n(2265),n(53953);var r=n(22448),i=n(10867),s=n(3682),l=n(53335);function o(e){let{chainId:t,address:n,text:o,children:c,className:d,...u}=e,m=(0,a.jsx)(r.Z,{children:n}),p=new s.Q(t).getAddressUrl(n);return(0,a.jsx)(i.Z,{placement:"top",speaker:m,trigger:"hover",children:(0,a.jsx)("a",{className:(0,l.m6)("component-chain-address-link pointer hover underline",d),href:p,target:"_blank",...u,children:null!=o?o:n})})}},40151:function(e,t,n){"use strict";n.d(t,{J:function(){return s}});var a=n(57437),r=n(43009);n(2265);var i=n(53335);function s(e){let{value:t,preChildren:n,className:s,valueClassName:l,symbol:o=!0,minDecimal:c=0,decimal:d=2,useGrouping:u=!0,children:m,...p}=e,{value:g,suffix:f}=r.Z.getAbbreviatedValue(t),h=g.toLocaleString("en-US",{...o?{style:"currency",currency:"USD"}:{},currencyDisplay:"symbol",minimumFractionDigits:c,maximumFractionDigits:d,useGrouping:u});return(0,a.jsxs)("div",{className:(0,i.m6)("currency-formatter",s),...p,children:[n&&(0,a.jsx)("span",{children:n}),(0,a.jsxs)("span",{className:l,children:[h,f]}),m]})}},6543:function(e,t,n){"use strict";n.d(t,{X7:function(){return l},ZP:function(){return f},n$:function(){return d}});var a,r,i,s,l,o,c,d,u=n(57437),m=n(10433);n(74401);var p=n(2265),g=n(53335);function f(e){var t,n,a,r,i,s,l,o,c;let d=null!==(n=e.inputType)&&void 0!==n?n:"text",[f,h]=p.useState(""),[x,y]=p.useState(!1),v=null!==(a=e.maxLength)&&void 0!==a?a:1/0;function w(t){var n,a;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x;x||(t.target.value=(n=t.target.value).length>v?n.slice(0,v):n),m.Z.I("handleChange",t.target.value),h(t.target.value),r||null===(a=e.onChange)||void 0===a||a.call(e,t)}function k(e){y(!1);let t=e.target;w({target:t,currentTarget:t},!1)}function b(t){var n;null===(n=e.onBlur)||void 0===n||n.call(e,t)}return(null===(t=e.id)||void 0===t?void 0:t.includes("test"))&&m.Z.I("InputBox",null===(r=e.value)||void 0===r?void 0:r.length,e.value,"->",f.length,f),p.useEffect(()=>{var t,n,a;(null===(t=e.id)||void 0===t?void 0:t.includes("test"))&&m.Z.I("props.value change",null===(n=e.value)||void 0===n?void 0:n.length,e.value,"->",f.length,f),e.value!==f&&h(null!==(a=e.value)&&void 0!==a?a:"")},[e.value]),(0,u.jsxs)("div",{className:(0,g.m6)("input-box grid grid-cols-[1fr_auto] justify-between items-center text-secondary","".concat(null!==(i=e.status)&&void 0!==i?i:"normal-status"," ").concat(null===(s=e.autoPadding)||void 0===s||s?"with-padding":"no-padding"," ").concat(null===(l=e.autoMargin)||void 0===l||l?"with-margin":"no-margin"," ").concat(null!==(o=e.border)&&void 0!==o?o:"with-border"," ").concat(null!==(c=e.round)&&void 0!==c?c:"middle-round"),e.className),children:[(0,u.jsxs)("div",{className:"flex justify-center items-center gap-2 start",children:[e.title?(0,u.jsx)("label",{className:"input-box-title",children:e.title}):"",e.icon?(0,u.jsx)("img",{src:e.icon,alt:"",className:"input-box-icon"}):"",e.IconElement?(0,u.jsx)(e.IconElement,{className:(0,g.m6)("input-box-icon",e.iconClassName)}):null,"text"===d?(0,u.jsx)("input",{className:(0,g.m6)("input-box-input",e.inputClassName),type:"text",placeholder:e.placeholder,value:f,onChange:w,onBlur:b,onCompositionStart:()=>y(!0),onCompositionEnd:k,maxLength:e.maxLength,readOnly:e.readOnly}):null,"textarea"===d?(0,u.jsx)("textarea",{className:(0,g.m6)("input-box-input resize-none",e.inputClassName),placeholder:e.placeholder,value:f,onChange:w,onBlur:b,onCompositionStart:()=>y(!0),onCompositionEnd:k,maxLength:e.maxLength}):null]}),(0,u.jsxs)("div",{className:"flex items-center end",children:[void 0!==e.isChecked?(0,u.jsx)("span",{className:"checker ".concat(e.isChecked?"checked":"no-check")}):"",e.children]})]})}(a=l||(l={})).Normal="normal-status",a.Simple="simple-status",(r=o||(o={})).ON="with-border",r.OFF="no-border",(i=c||(c={})).Big="big-round",i.Middle="middle-round",i.Small="small-round",i.None="no-round",(s=d||(d={})).Text="text",s.TextArea="textarea"},56679:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var a,r,i=n(57437),s=n(2265);n(26679);var l=n(4810),o=n.n(l),c=n(94746);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}var u=function(e){return c.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),a||(a=c.createElement("g",{clipPath:"url(#icon-close_svg__a)"},c.createElement("path",{fill:"#666",d:"m5.637 3.938.055.05 6.795 6.796 6.545-6.545a1 1 0 0 1 1.465 1.36l-.05.055-6.546 6.544 6.545 6.544a1 1 0 0 1-1.36 1.466l-.054-.051-6.545-6.545-6.795 6.796a1 1 0 0 1-1.465-1.36l.05-.054 6.796-6.796-6.795-6.795a1 1 0 0 1 1.359-1.465"}))),r||(r=c.createElement("defs",null,c.createElement("clipPath",{id:"icon-close_svg__a"},c.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"})))))},m=n(72790),p=n(11340),g=n(53335),f=n(65435);function h(e){let{title:t,showCloseButton:n,children:a,className:r,onRequestClose:l,controls:c,tipText:d,size:h="normal",...x}=e,y=(0,s.useRef)(null);n=null!=n&&n;let v={active:"flex-1 h-[50px] bg-gradient-to-r from-[#E700E6] to-[#4B4BDF] text-white font-semibold rounded-[8px]",normal:"flex-1 h-[50px] bg-[#111111] text-white font-semibold rounded-[8px]",disabled:"flex-1 h-[50px] bg-[#111111] border border-[#30251d] text-white font-semibold rounded-[8px]"};return(0,i.jsx)("div",{ref:y,className:"react-modal-contain flex justify-center items-center",children:(0,i.jsxs)(o(),{overlayClassName:"react-modal-overlay flex flex-col justify-center",onRequestClose:null!=l?l:null,className:"react-modal-content size-".concat(h," ").concat(null!=r?r:""),...x,children:[t||n?(0,i.jsxs)(m.Z,{className:"top-nav",horizontalArrangement:n?p.cV.SpaceBetween:p.cV.Center,verticalAlignment:p.v2.Center,children:[(0,i.jsx)("h1",{className:"text-[18px] font-medium modal-title",children:t}),n?(0,i.jsx)(u,{className:"cursor-pointer",onClick:()=>null==l?void 0:l()}):""]}):null,(0,i.jsx)("div",{className:"content",children:a}),(null==c?void 0:c.buttons.length)||d?(0,i.jsxs)("div",{className:"bottom flex flex-col mt-[20px] gap-[20px]",children:[(null==c?void 0:c.buttons.length)?(0,i.jsx)("div",{className:"flex justify-end gap-4 mt-[20px]",children:c.buttons.map((e,t)=>(0,i.jsx)(f.ZP,{status:f.Dv.None,className:(0,g.m6)(v[e.type],e.className),waitForClick:!0,onClick:e.onClick,children:e.text},t))}):null,d?(0,i.jsx)("p",{className:"text-[12px] text-white font-medium text-center",children:d}):null]}):null]})})}},54740:function(e,t,n){"use strict";n.d(t,{eO:function(){return d}});var a=n(57437);n(17104);var r=n(72790),i=n(11340),s=n(53335),l=n(43009),o=n(10433);function c(e){var t,n,r,i;let l=e.value.indexOf("."),o=-1===l?"":e.value.substring(l+1),c=o.match(/^(0+)/),d=c?c[0].length:0,u=o.substring(d),m=null!==(t=e.keepDecimal)&&void 0!==t?t:4,p=null!==(n=e.decimal)&&void 0!==n?n:18,g=null!==(r=e.useSub)&&void 0!==r&&r;u.length>m&&(u=u.substring(0,m));let f=e.value.substring(0,-1===l?e.value.length:l+d+1)+u;return(0,a.jsxs)("span",{className:(0,s.m6)("format-decimal",e.className),children:[g&&-1!==l&&d>0&&null===o.match(/^0+$/)?(0,a.jsxs)(a.Fragment,{children:[f.substring(0,l+2),(0,a.jsx)("sub",{className:(0,s.m6)("zero-count",e.subClassName),children:d}),u.replace(/0+$/,"")]}):0===Number(e.value)?0:-1!==l&&e.value.length>l+1+p?"".concat(e.value.substring(0,l+1+p)):e.value,null!==(i=e.children)&&void 0!==i?i:""]})}function d(e){let{preChildren:t,value:n,minDecimal:d,decimal:u,className:m,valueClassName:p,keepDecimal:g,useSub:f,children:h,...x}=e;if(isNaN(n)||"number"!=typeof n)return o.Z.W("NumberFormatter received invalid value:",n,"type:",typeof n),(0,a.jsx)("span",{className:(0,s.m6)("invalid-number",m),children:"0"});let y=null!=d?d:0;g=null!=g?g:4,void 0!==d&&(u=Math.max(Math.min(d,20),0));let v=null!=u?u:18;void 0!==u&&(u=Math.max(Math.min(u,20),0));let{value:w,suffix:k}=l.Z.getAbbreviatedValue(n);if(""!==k)return(0,a.jsxs)(r.Z,{horizontalArrangement:i.cV.Center,className:"number-formatter ".concat(null!=m?m:""),...x,children:[null!=t?t:"",(0,a.jsx)(c,{value:w.toFixed(g),useSub:f,decimal:u,className:p}),k,h]});let b=n.toFixed(v),N=b.indexOf(".");if(-1!==N){let e=b.substring(N+1),t=(e.match(/^(0+)/)||[""])[0].length,a=e.substring(t);void 0===u&&a.length>g&&(a=a.substring(0,g)),b=n.toLocaleString("en-US",{minimumFractionDigits:y,maximumFractionDigits:null!=u?u:t+a.length})}else b=n.toLocaleString("en-US",{minimumFractionDigits:y,maximumFractionDigits:u});return(0,a.jsxs)(r.Z,{className:(0,s.m6)("number-formatter justify-center",m),...x,children:[null!=t?t:"",(0,a.jsx)(c,{value:b,useSub:f,decimal:u,className:p,subClassName:m}),h]})}},68071:function(e,t,n){"use strict";n.d(t,{W7:function(){return l},ZP:function(){return m},bC:function(){return o},nV:function(){return c}});var a,r,i,s,l,o,c,d,u=n(57437);function m(e){let{children:t,autoBorder:n,autoMargin:a,autoPadding:r,width:i,round:s,background:l,className:o,...c}=e,d=(n=null!=n&&n)?"boolean"==typeof n?"with-border":n:"no-border";return(0,u.jsx)("div",{className:"layout-contain ".concat(d," ").concat(null!=i?i:"content-width"," ").concat(null==a||a?"with-margin":"no-margin"," ").concat(null==r||r?"with-padding":"no-padding"," ").concat(null!=s?s:"small-round"," ").concat(null!=l?l:"grey-background"," ").concat(null!=o?o:""),...c,children:t})}n(61117),(a=l||(l={})).Wrapper="wrapper-width",a.Content="content-width",a.ContentV2="content-width-v2",a.Info="info-width",(r=o||(o={})).Big="big-round",r.Small="small-round",r.SuperSmall="super-small-round",r.None="no-round",(i=c||(c={})).Black="black-background",i.Grey="grey-background",i.Linear="linear-background",i.Green="green-background",i.Red="red-background",i.None="no-background",(s=d||(d={})).TOP="top-border",s.LEFT="left-border",s.RIGHT="right-border",s.BOTTOM="bottom-border"},72525:function(e,t,n){"use strict";var a=n(57437),r=n(2265);n(69616),t.Z=(0,r.forwardRef)(function(e,t){let{children:n,modify:r,horizontalAlignment:i,verticalArrangement:s,className:l,...o}=e;return(0,a.jsx)("div",{ref:t,className:"layout-column ".concat(null!=r?r:""," ").concat(null!=i?i:""," ").concat(null!=s?s:""," ").concat(null!=l?l:""),...o,children:n})})},11340:function(e,t,n){"use strict";var a,r,i,s,l,o;n.d(t,{cV:function(){return a},l2:function(){return i},v2:function(){return r}}),(s=a||(a={})).Start="justify-start",s.Center="justify-center",s.End="justify-end",s.SpaceBetween="justify-between",s.SpaceAround="justify-around",(l=r||(r={})).Start="items-start",l.Center="items-center",l.End="items-end",l.Stretch="items-stretch",(o=i||(i={})).MaxSize="max-size",o.MaxWidth="max-width",o.MaxHeight="max-height"},72790:function(e,t,n){"use strict";var a=n(57437),r=n(2265);n(69616),t.Z=(0,r.forwardRef)(function(e,t){let{children:n,modify:r,horizontalArrangement:i,verticalAlignment:s,className:l,...o}=e;return(0,a.jsx)("div",{ref:t,className:"layout-row ".concat(null!=r?r:""," ").concat(null!=i?i:""," ").concat(null!=s?s:""," ").concat(null!=l?l:""),...o,children:n})})},69787:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(57437),r=n(2265);n(76360);var i=n(52926),s=n(66917);function l(e){let t=e.isEnd||!1,n=r.useRef(null),l=r.useRef(null),[o,c]=r.useState(!1);return r.useEffect(()=>{if(!l.current||!n.current)return;let t=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(e.onScrollBottom().finally(()=>{c(!1)}),c(!0))})},{root:n.current,threshold:.1});return t.observe(l.current),()=>{t.disconnect()}},[n,l]),(0,a.jsxs)("div",{className:"flex flex-col scroll-layout ".concat(e.className||""),children:[(0,a.jsx)("div",{ref:n,className:"scroll-wrapper",children:e.children}),e.loading||o?(0,a.jsx)(i.Z,{}):null,e.loading||o||t?null:(0,a.jsx)(s.Z,{ref:l,text:"Load More"})]})}},5664:function(e,t,n){"use strict";n.d(t,{Dp:function(){return w},ZP:function(){return y},we:function(){return v}});var a=n(3682),r=n(21707),i=n(59868),s=n(33082),l=n(54881),o=n(81939),c=n(13965),d=n(2265),u=n(6178),m=n(76211),p=n(83123),g=n(43949),f=n(10433),h=n(43009),x=n(97887);function y(e){let{t}=(0,g.$G)(["common"]),n=(0,u.C)(e=>e.global),[s,l]=d.useState({cap:0n,price:0n,startTs:0,endTs:0,nftStakingRewards:"",walletMaxSupply:0n,creator:"",imageAddress:"",externalLink:"",totalSupply:0n,maxMintAmount:0});async function m(t){if(!(t=t||e))throw Error("Can't found nftAddress!");let n=new r.C(t,x.n),i=a.Q.getDefaultProvider(),s=new r.z(a.Q.getTargetNet().chainId,i),[l,o,c,d,u,m,p,g,f]=await s.all([n.cap(),n.price(),n.startTs(),n.endTs(),n.stakingRewards(),n.creator(),n.imageAddress(),n.externalLink(),n.totalSupply()]),y=BigInt("1000");return{cap:l,price:o,startTs:h.Z.Time.fromTimestamp(c).toJSTime(),endTs:h.Z.Time.fromTimestamp(d).toJSTime(),nftStakingRewards:u,walletMaxSupply:y,creator:m,imageAddress:p,externalLink:g,totalSupply:f,maxMintAmount:1e3}}async function y(e){l(await m(e))}async function v(t,r){if(!(r=r||e))throw Error("Can't found nftAddress!");t=null!=t?t:Math.floor(n.currentTime/1e3);let s=c.r.getInstance(),l=a.Q.getTargetNet(),d=o.Z.getInstance(s.getProvider(),l.chainId),u=await d.getSigner(),m=new i.CH(r,x.n,u),p=await m.setEndTs(t);return await p.wait()}class w extends p.HU{asToastMessage(){let e=super.asToastMessage();if(f.Z.I("message",e),"string"!=typeof e)return e;let n=t("TrinityNFT"),[a,...r]=e.split(":");return(null==r?void 0:r.length)>0?[n,...r].join(":"):e}}return{nftInfo:s,setNftInfo:l,getInfo:m,updateInfo:y,setEnd:v,NFTToastMessageWrapper:w,refund:async function(t,n){if(!(n=n||e))throw Error("Can't found nftAddress!");let r=c.r.getInstance(),s=a.Q.getTargetNet(),l=o.Z.getInstance(r.getProvider(),s.chainId),d=await l.getSigner(),u=new i.CH(n,x.n,d),m=await u.refund(BigInt(t));return await m.wait()},refundAll:async function(t){if(!(t=t||e))throw Error("Can't found nftAddress!");let n=c.r.getInstance(),r=a.Q.getTargetNet(),s=o.Z.getInstance(n.getProvider(),r.chainId),l=await s.getSigner(),d=new i.CH(t,x.n,l),u=await d.refundAll();return await u.wait()}}}function v(e,t){function n(n,a){if(n=n||e,a=a||t,!n)throw Error("Can't found nftStakingRewardsAddress!");let i=new r.C(n,l.M);return[i.userRewardPerTokenPaid(a),i.rewards(a),i.balanceOf(a),i.earned(a)]}async function s(i,s){if(i=i||e,s=s||t,!i)throw Error("Can't found nftStakingRewardsAddress!");let o=new r.C(i,l.M),c=new r.z(a.Q.getTargetNet().chainId,a.Q.getDefaultProvider()),[d,u,m,p,g,f,h,x,y,v,w]=await c.all([c.getEthBalance(e),o.stakingToken(),o.stakingRewards(),o.factory(),o.lastUpdateTime(),o.rewardPerTokenStored(),o.liquidityRate(),...s?n(i,t):[]]);return{ethBalance:d,stakingToken:u,stakingRewards:m,factory:p,lastUpdateTime:g,rewardPerTokenStored:f,liquidityRate:h,userRewardPerTokenPaid:null!=x?x:0n,rewards:null!=y?y:0n,stakedAmount:null!=v?v:0n,earned:null!=w?w:0n}}async function d(e,t){let i=n(e,t),s=a.Q.getDefaultProvider(),l=new r.z(a.Q.getTargetNet().chainId,s),[o,c]=await l.all(i);return{stakedAmount:o,earned:c}}return{buildAccountInfoCall:n,getInfo:s,getAccountInfo:d,withdrawRewards:async function(t){if(!e)throw Error("Can't found nftStakingRewardsAddress!");let n=a.Q.getTargetNet(),r=c.r.getInstance(),s=o.Z.getInstance(r.getProvider(),n.chainId);await s.getChain()!==n.chainId&&await s.switchToChain(n.chainId);let d=await s.getSigner(),u=new i.CH(e,l.M,d),m=await u.withdraw(t);return await m.wait()},getRewards:async function(t){if(!(t=t||e))throw Error("Can't found nftStakingRewardsAddress!");let n=a.Q.getTargetNet(),r=c.r.getInstance(),s=o.Z.getInstance(r.getProvider(),n.chainId);await s.getChain()!==n.chainId&&await s.switchToChain(n.chainId);let d=await s.getSigner();return new i.CH(e,l.M,d).getReward()}}}function w(e){let t=(0,u.T)();async function n(t){if(!(t=null!=t?t:e))throw Error("Can't found symbol!");let n=a.Q.getNftFactoryContractAddress();if(!n)throw Error("Can't found nftFactoryAddress!");let i=new r.C(n,s.h),l=new r.z(a.Q.getTargetNet().chainId,a.Q.getDefaultProvider()),[o,c]=await l.all([i.nftInfoBySymbol(t),i.tokenInfoBySymbol(t)]);return{nftAddress:o,tokenAddress:c}}async function i(e){let a=await n(e);return t(m.Z.slice.actions.updateSymbolInfo(a)),a}return{getInfo:n,updateInfo:i}}},60389:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a=n(3682),r=n(21707);let i=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"getLatestPrice",outputs:[{internalType:"int256",name:"",type:"int256"},{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"randomNum",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];var s=n(6178),l=n(72300),o=n(68651);let c=[{inputs:[{internalType:"address",name:"_aggregator",type:"address"},{internalType:"address",name:"_accessController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"int256",name:"current",type:"int256"},{indexed:!0,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"updatedAt",type:"uint256"}],name:"AnswerUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!0,internalType:"address",name:"startedBy",type:"address"},{indexed:!1,internalType:"uint256",name:"startedAt",type:"uint256"}],name:"NewRound",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"accessController",outputs:[{internalType:"contract AccessControllerInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"aggregator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_aggregator",type:"address"}],name:"confirmAggregator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"description",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"getAnswer",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"getRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"getTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestAnswer",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRound",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"",type:"uint16"}],name:"phaseAggregators",outputs:[{internalType:"contract AggregatorV2V3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"phaseId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_aggregator",type:"address"}],name:"proposeAggregator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"proposedAggregator",outputs:[{internalType:"contract AggregatorV2V3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"proposedGetRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"proposedLatestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_accessController",type:"address"}],name:"setController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function d(){let e=(0,s.T)();async function t(e){e="0xc97F4512bBa696E5ee073C90514b6682a6D60E6C";let t=a.Q.getDefaultProvider(),n=new r.z(a.Q.getTargetNet().chainId,t),s=new r.C(e,i),[l]=await n.all([s.getLatestPrice()]),[o,c]=l;return{price:o,decimals:Number(c)}}async function n(n){let a=await t(n);e(l.Z.slice.actions.updateEth2usd(new o.Z(a.price.toString()).div(10**a.decimals).toNumber()))}async function d(){let e="0x4aDC67696bA383F43DD60A9e78F2C97Fbbfc7cb1";if(!e)throw Error("Can't found NEXT_PUBLIC_PRICE_EACAggregator_CONTRACT_ADDRESS!");let t=a.Q.getDefaultProvider(),n=new r.z(a.Q.getTargetNet().chainId,t),i=new r.C(e,c),[s,l]=await n.all([i.latestAnswer(),i.decimals()]);return{price:s,decimals:Number(l)}}async function u(){let t=await d();e(l.Z.slice.actions.updateEth2usd(new o.Z(t.price.toString()).div(10**t.decimals).toNumber()))}return{getInfo:t,updateInfo:n,getEth2UsdPrice:d,updateEth2UsdPrice:u}}},31434:function(e,t,n){"use strict";var a,r;n.d(t,{t:function(){return a}}),(r=a||(a={}))[r.FALSE=0]="FALSE",r[r.TRUE=1]="TRUE"},45556:function(e,t,n){"use strict";n.d(t,{R:function(){return a}});let a=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amountToken",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountETH",type:"uint256"},{indexed:!1,internalType:"uint256",name:"liquidity",type:"uint256"}],name:"AddLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amountIn",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountOut",type:"uint256"},{indexed:!1,internalType:"uint256",name:"reserveA",type:"uint256"},{indexed:!1,internalType:"uint256",name:"reserveB",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ts",type:"uint256"}],name:"Swap",type:"event"},{inputs:[],name:"COMMON_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountTokenDesired",type:"uint256"},{internalType:"uint256",name:"amountTokenMin",type:"uint256"},{internalType:"uint256",name:"amountETHMin",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"addLiquidityETH",outputs:[{internalType:"uint256",name:"amountToken",type:"uint256"},{internalType:"uint256",name:"amountETH",type:"uint256"},{internalType:"uint256",name:"liquidity",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"addWhiteList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"developerOperator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"reserveIn",type:"uint256"},{internalType:"uint256",name:"reserveOut",type:"uint256"}],name:"getAmountIn",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"reserveIn",type:"uint256"},{internalType:"uint256",name:"reserveOut",type:"uint256"}],name:"getAmountOut",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_router02",type:"address"},{internalType:"address",name:"_priceConsumerV3",type:"address"},{internalType:"address",name:"_trinityswapV2Factory",type:"address"},{internalType:"address payable",name:"_stakingRewardsFactory",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceConsumerV3",outputs:[{internalType:"contract PriceConsumerV3",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"router02",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addWhiteUser",type:"address"}],name:"setAddWhiteUser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_dao",type:"address"}],name:"setDao",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_developer",type:"address"}],name:"setDeveloper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"}],name:"setDeveloperOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_router02",type:"address"}],name:"setRouter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"fee",type:"uint256"}],name:"setTokenSwapFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"}],name:"setTokenSwapFeeOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stakingRewardsFactory",outputs:[{internalType:"contract IStakingRewardsFactory",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"inputAmount",type:"uint256"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapETHForExactTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"inputAmount",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactETHForTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactTokensForETH",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapTokensForExactETH",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tokenSwapFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenSwapFeeOperator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"trinityswapV2Factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"usedAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whiteList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}]},76211:function(e,t,n){"use strict";var a,r=n(10433),i=n(1455);(a||(a={})).slice=(0,i.oM)({name:"nft",initialState:{nftStakingRewardsContractDetail:{ethBalance:0n,stakingToken:"",stakingRewards:"",factory:"",lastUpdateTime:0,rewardPerTokenStored:0n,liquidityRate:0n,userRewardPerTokenPaid:0n,rewards:0n,stakedAmount:0n,earned:0n},symbolInfo:{nftAddress:"",tokenAddress:""},nftContractInfo:{maxMintAmount:0,cap:0n,price:0n,startTs:0,endTs:0,nftStakingRewards:"",walletMaxSupply:0n,creator:"",imageAddress:"",externalLink:"",totalSupply:0n},globalInfo:{tokenAddress:""}},reducers:{updateNftStakingRewardsContractDetail(e,t){e.nftStakingRewardsContractDetail.ethBalance=t.payload.ethBalance,e.nftStakingRewardsContractDetail.stakingToken=t.payload.stakingToken,e.nftStakingRewardsContractDetail.stakingRewards=t.payload.stakingRewards,e.nftStakingRewardsContractDetail.factory=t.payload.factory,e.nftStakingRewardsContractDetail.lastUpdateTime=t.payload.lastUpdateTime,e.nftStakingRewardsContractDetail.rewardPerTokenStored=t.payload.rewardPerTokenStored,e.nftStakingRewardsContractDetail.liquidityRate=t.payload.liquidityRate},updateNftStakingRewardsAccountInfo(e,t){e.nftStakingRewardsContractDetail.userRewardPerTokenPaid=t.payload.userRewardPerTokenPaid,e.nftStakingRewardsContractDetail.rewards=t.payload.rewards,e.nftStakingRewardsContractDetail.stakedAmount=t.payload.stakedAmount,e.nftStakingRewardsContractDetail.earned=t.payload.earned},updateSymbolInfo(e,t){e.symbolInfo=t.payload},updateNftContractInfo(e,t){e.nftContractInfo=t.payload},updateGlobalInfo(e,t){r.Z.I("updateGlobalInfo",t.payload),e.globalInfo.tokenAddress=t.payload.tokenAddress}}}),t.Z=a},27635:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var a,r,i,s,l,o=n(57437),c=n(53335),d=n(96201),u=n.n(d),m=n(43949);let p={x:"https://x.com/TriaiFun",telegram:"https://t.me/TrinityLabsX",gitbook:"https://trinitylabs.gitbook.io/x",discord:"https://discord.gg/a2JpcbBfdP",youtube:"https://www.youtube.com/@TrinityLabsX",github:"https://github.com/trinitylabsx"};var g=n(72546),f=n(54325),h=n(94746);function x(){return(x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}var y=function(e){return h.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 60 60"},e),a||(a=h.createElement("circle",{cx:30,cy:30,r:29.5,fill:"#000",stroke:"#111"})),r||(r=h.createElement("g",{clipPath:"url(#icon-gitbook_svg__a)"},h.createElement("path",{fill:"#fff",d:"M28.203 36.719a.86.86 0 0 1 .605 1.468.858.858 0 1 1-.605-1.468m13.473-5.313a.857.857 0 0 1-.858-.86.86.86 0 1 1 .858.86m0-3.515a2.66 2.66 0 0 0-2.657 2.657q.001.429.14.845l-8.776 4.672a2.65 2.65 0 0 0-2.18-1.145c-1.014 0-1.936.58-2.384 1.486l-7.884-4.158c-.834-.437-1.457-1.809-1.391-3.058.034-.651.259-1.157.602-1.353.218-.122.48-.112.758.033l.051.028c2.09 1.1 8.928 4.702 9.216 4.835.444.207.69.29 1.448-.07l14.134-7.35c.208-.078.45-.277.45-.58 0-.417-.433-.582-.434-.582-.804-.385-2.04-.963-3.245-1.528-2.577-1.206-5.496-2.573-6.779-3.245-1.107-.58-1.998-.09-2.157.007l-.308.153c-5.771 2.854-13.495 6.68-13.936 6.947-.785.48-1.273 1.434-1.337 2.618-.097 1.879.86 3.838 2.23 4.555l8.338 4.3a2.66 2.66 0 0 0 2.628 2.276 2.66 2.66 0 0 0 2.655-2.616l9.184-4.978a2.654 2.654 0 0 0 4.291-2.093 2.66 2.66 0 0 0-2.657-2.657"}))),i||(i=h.createElement("defs",null,h.createElement("clipPath",{id:"icon-gitbook_svg__a"},h.createElement("path",{fill:"#fff",d:"M15 15h29.333v29.333H15z"})))))},v=n(25455),w=n(34456);function k(){return(k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}var b=function(e){return h.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 60 60"},e),s||(s=h.createElement("circle",{cx:30,cy:30,r:29.5,fill:"#000",stroke:"#111"})),l||(l=h.createElement("path",{fill:"#fff",d:"M30.002 15C21.713 14.997 15 21.889 15 30.396c0 6.727 4.2 12.445 10.048 14.545.788.204.667-.371.667-.764V41.51c-4.548.547-4.732-2.544-5.037-3.06-.617-1.081-2.075-1.357-1.64-1.873 1.036-.548 2.092.137 3.315 1.993.885 1.346 2.611 1.119 3.486.895.191-.809.6-1.532 1.163-2.093-4.712-.868-6.676-3.822-6.676-7.333 0-1.704.546-3.27 1.619-4.534-.684-2.083.063-3.866.164-4.132 1.947-.178 3.971 1.433 4.129 1.56 1.106-.306 2.37-.468 3.784-.468 1.42 0 2.688.169 3.804.478.379-.296 2.255-1.68 4.065-1.511.098.265.828 2.007.185 4.063 1.085 1.266 1.639 2.847 1.639 4.554 0 3.519-1.978 6.476-6.704 7.33a4.45 4.45 0 0 1 1.277 3.133v3.873c.027.31 0 .616.503.616C40.727 42.945 45 37.185 45 30.4 45 21.888 38.283 15 30.002 15"})))};function N(e){let{className:t,linkClassName:n,iconClassName:a,x:r,telegram:i,gitbook:s,discord:l,youtube:d,github:u}=e;a=(0,c.m6)("w-[50px] md:w-[60px] h-[50px] md:h-[60px] text-white rounded-full border border-highlight",a);let m=[{name:"x",href:r,icon:(0,o.jsx)(g.Z,{className:a})},{name:"telegram",href:i,icon:(0,o.jsx)(f.Z,{className:a})},{name:"gitbook",href:s,icon:(0,o.jsx)(y,{className:a})},{name:"discord",href:l,icon:(0,o.jsx)(v.Z,{className:a})},{name:"youtube",href:d,icon:(0,o.jsx)(w.Z,{className:a})},{name:"github",href:u,icon:(0,o.jsx)(b,{className:a})}].filter(e=>e.href);return(0,o.jsx)("div",{className:(0,c.m6)("inline-block grid grid-cols-3 md:grid-cols-[repeat(auto-fit,minmax(60px,1fr))] gap-[18px]",t),children:m.map(e=>(0,o.jsx)("a",{className:(0,c.m6)("cursor-pointer hover:opacity-90 flex justify-center items-center",n),href:e.href,target:(e.href||"").indexOf("http")>=0?"_blank":"_self",children:e.icon},e.name))})}function j(e){let{className:t}=e,{t:n}=(0,m.$G)(["common"]);return(0,o.jsx)("footer",{className:(0,c.m6)("bg-primary-bg text-secondary py-5 md:py-10",u().sectionFooter,t),children:(0,o.jsxs)("main",{className:"mx-auto max-w-[var(--max-content-width)] px-4 md:px-5 flex flex-col items-center m-container text-center",children:[(0,o.jsx)(N,{className:"mx-auto mt-8 justify-center md:mt-16 gap-[20px] max-w-[460px]",...p}),(0,o.jsx)("div",{className:"mb-5 mt-10 text-sm md:my-16 md:text-base",children:n("copyright")})]})})}},38435:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var a=n(57437),r=n(2265),i=n(43949),s=n(99376),l=n(53335);n(94646);var o=n(27648);function c(e){let{className:t,title:n,onBack:r,left:i,center:s,right:o}=e;return(0,a.jsxs)("div",{className:(0,l.m6)("relative z-3 flex h-[70px] items-center px-4",t),children:[i||r&&(0,a.jsx)("a",{className:"flex h-8 w-8 cursor-pointer items-center justify-center",onClick:r,children:(0,a.jsx)("i",{className:"inline-block h-[10px] w-[10px] -rotate-45 border-l-2 border-t-2"})}),s||(0,a.jsx)("h1",{className:"flex-1 text-center text-white",children:n}),o]})}var d=n(6178),u=n(79787),m=n(72790),p=n(11340),g=n(72525),f=n(65435),h=n(80149),x=n(47477),y=n(69356),v=n(35178),w=n(56611),k=n(68071);n(49748),n(80928),n(81939),n(68651);var b=n(33189),N=n(40257);function j(){var e;let{menuVisible:t,MenuTrigger:n}=function(){let[e,t]=(0,r.useState)(!1),n=(0,a.jsxs)("div",{className:(0,l.m6)("group cursor-pointer rounded-3xl px-[14px] py-3 md:hidden",e&&"visible"),onClick:()=>{t(!e)},children:[(0,a.jsx)("i",{className:"block h-[3px] w-[20px] origin-top-left rounded-full bg-white transition-all group-[.visible]:w-[21px] group-[.visible]:translate-x-1 group-[.visible]:rotate-45"}),(0,a.jsx)("i",{className:"my-1 block h-[3px] w-[20px] rounded-full bg-white transition-all group-[.visible]:w-0 group-[.visible]:opacity-0"}),(0,a.jsx)("i",{className:"block h-[3px] w-[20px] origin-bottom-left rounded-full bg-white transition-all group-[.visible]:w-[21px] group-[.visible]:translate-x-1 group-[.visible]:-rotate-45"})]});return{menuVisible:e,MenuTrigger:n}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("header",{className:"fixed left-0 top-0 z-40 w-full bg-black",children:[(0,a.jsx)(b.V6,{}),(0,a.jsxs)(k.ZP,{width:k.W7.Wrapper,background:k.nV.None,autoMargin:!1,autoPadding:!1,className:"mx-auto relative",children:[(0,a.jsx)("div",{className:(0,l.m6)("absolute bottom-0 left-0 right-0 top-0",t?"":"bg-[rgba(0,0,0,1)] backdrop-blur")}),(0,a.jsx)(c,{className:"h-[70px] min-h-[70px] max-h-[70px] justify-between gap-5 px-5 md:h-[90px] md:min-h-[90px] md:max-h-[90px]",left:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("a",{className:"hidden lg:block",href:"".concat(null!==(e=N.env.NEXT_PUBLIC_CANDY_HOST)&&void 0!==e?e:"","/"),children:(0,a.jsx)("img",{className:"max-h-[38px] w-auto",src:"/images/logo.svg",alt:"logo"})}),n]}),center:(0,a.jsx)(I,{menuVisible:t}),right:(0,a.jsxs)("div",{className:"flex items-center gap-4 entries-contain",children:[(0,a.jsx)(x.Z,{}),(0,a.jsx)(C,{className:"entry"})]})})]})]}),(0,a.jsx)("div",{className:"h-[105px] md:h-[125px]"})]})}function I(e){let{menuVisible:t}=e;(0,s.useRouter)();let{t:n,i18n:c}=(0,i.$G)(["common"]),[d,u]=r.useState(""),[m,p]=r.useState(!1);r.useEffect(()=>{p(!0)},[]);let g=e=>m?n(e):({Home:"Home",Launch:"Launch",Swap:"Swap",Ranking:"Ranking",Pool:"Pool",DAO:"DAO",Governance:"Governance"})[e]||e,f={text:g("Home"),link:"/",isCurrent(){return this.link===d}},h=[f,{text:g("Launch"),link:"/nft/launch",isCurrent(){var e,t;return!(null!==(t=null===(e=f.isCurrent)||void 0===e?void 0:e.call(f))&&void 0!==t&&t)&&d===this.link}},{text:g("Swap"),link:"/token",isCurrent(){var e,t,n;return!(null!==(t=null===(e=f.isCurrent)||void 0===e?void 0:e.call(f))&&void 0!==t&&t)&&d.startsWith(null!==(n=this.link)&&void 0!==n?n:"--")}},{text:g("Ranking"),link:"/activity/ranking",isCurrent(){var e,t;return!(null!==(t=null===(e=f.isCurrent)||void 0===e?void 0:e.call(f))&&void 0!==t&&t)&&d===this.link}},{text:g("Pool"),link:"/account",isCurrent(){var e,t;return!(null!==(t=null===(e=f.isCurrent)||void 0===e?void 0:e.call(f))&&void 0!==t&&t)&&d===this.link}},{text:g("DAO"),link:"/dao",isCurrent(){var e,t;return!(null!==(t=null===(e=f.isCurrent)||void 0===e?void 0:e.call(f))&&void 0!==t&&t)&&d.startsWith("/dao")}}];return r.useEffect(()=>{u(location.pathname)},[]),(0,a.jsx)("nav",{className:(0,l.m6)("fixed h-full bottom-0 left-0 right-0 top-[105px] items-start bg-[#000] px-4 gap-3","md:static md:h-[90px] md:min-h-[90px] md:!flex md:!justify-center md:!items-center md:rounded-full md:gap-6 xl:gap-12",t?"flex flex-col pt-4":"hidden md:!flex"),children:h.map(e=>{var t,n,r,i;let s=null!==(r=null===(t=e.isCurrent)||void 0===t?void 0:t.call(e))&&void 0!==r&&r;return(0,a.jsxs)(o.default,{className:(0,l.m6)("block cursor-pointer rounded-full leading-[44px] md:leading-[88px] h-[44px] md:h-[88px]","text-tip hover:text-secondary text-left md:text-center font-medium",s&&"text-secondary"),href:(null!==(i=null===(n=e.getLink)||void 0===n?void 0:n.call(e))&&void 0!==i?i:e.link)||"",onClick:e.onClick,children:[e.text,(0,a.jsx)("span",{className:(0,l.m6)("block w-full h-1 opacity-100",s?"bg-gradient-to-r from-primary to-highlight":"bg-transparent")})]},e.text)})})}function C(e){let t=(0,d.T)(),n=(0,s.useRouter)(),o=(0,d.C)(e=>e.global),c=(0,d.C)(e=>e.user),{connectETHWallet:x,disconnectWallet:k}=r.useContext(h.Cv),{t:b}=(0,i.$G)(["common"]),[N,j]=r.useState(!1),[I,C]=r.useState(!1);if(r.useEffect(()=>{C(!0)},[]),!o.token||!c.ethInfo.walletAddress)return(0,a.jsx)(f.ZP,{className:(0,l.m6)("px-4",e.className),status:f.Dv.Active,size:f.qE.Small,round:f.DB.Big,onClick:()=>T(),children:I?b("ConnectWallet"):"Connect Wallet"});let S=[{title:b("MyWallet"),onClick:()=>{n.push("/account"),j(!1)}},{title:b("Disconnect"),onClick:async()=>{let e=c.ethInfo.walletName;t(y.Z.slice.actions.clearETHWalletInfo()),t(v.Z.slice.actions.clearLoginToken()),await k(e),j(!1)}}];async function T(){c.ethInfo.isConnected||(t(y.Z.slice.actions.updateNeedBinding(!0)),await x(w.w3.WALLETCONNECT))}return(0,a.jsxs)("div",{className:(0,l.m6)("flex justify-center items-center wallet-info-contain langlink",N?"active":"normal",e.className),children:[(0,a.jsx)(m.Z,{verticalAlignment:p.v2.Center,className:"simple",onClick:()=>{j(!N)},children:(0,a.jsxs)(f.ZP,{status:f.Dv.Active,size:f.qE.Small,round:f.DB.Big,className:"flex items-center btn-more",children:[(0,a.jsx)("img",{className:"mr-2 w-[20px] h-[20px]",src:"/images/icon-base.svg",alt:"icon"}),u.Z.toShort(c.ethInfo.walletAddress,4,4)]})}),(0,a.jsx)(g.Z,{verticalArrangement:p.cV.Center,horizontalAlignment:p.v2.Stretch,className:"lang-dropdown text-center",children:(0,a.jsx)("div",{className:"wrapper",children:(0,a.jsx)(g.Z,{verticalArrangement:p.cV.Center,horizontalAlignment:p.v2.Center,className:"btn-drop-list",children:S.map(e=>(0,a.jsx)(m.Z,{verticalAlignment:p.v2.Center,modify:p.l2.MaxWidth,className:"item",children:(0,a.jsx)(f.ZP,{className:"cursor-pointer btn-drop-item w-full",status:f.Dv.None,onClick:()=>e.onClick(),children:e.title})},e.title))})})})]})}},64667:function(){},72787:function(){},53953:function(){},74401:function(){},26679:function(){},17104:function(){},61117:function(){},69616:function(){},76360:function(){},94646:function(){},43847:function(){},96201:function(){}},function(e){e.O(0,[1595,1283,4758,977,2506,5073,287,9409,5844,9481,2784,6870,7181,6764,2744,2010,8575,7920,3448,1707,9738,1811,7072,4521,918,923,344,9302,2580,1937,2971,2117,1744],function(){return e(e.s=28074)}),_N_E=e.O()}]);