"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9481],{49481:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(3682),i=n(81939),s=n(10433),r=n(1804),p=n(97887),u=n(88847),y=n(6178),d=n(72300),o=n(69356),l=n(21707),m=n(2265);function c(e){let t=(0,y.T)(),[n,c]=m.useState(0n),f=(0,y.C)(e=>e.token),T=(0,y.C)(e=>e.user),b=new Map(T.tokenBalances.map(e=>["".concat(e.chainId,",").concat(e.address),e.balance])),w=new Map(f.balanceOfTokens.map(e=>["".concat(e.chainId,",").concat(e.address),e.balance])),v=new Map;for(let e of T.nftBalances)v.set("".concat(e.chainId,",").concat(e.address),e.balance);async function M(t){if(!(t=t||e))throw Error("No wallet address provided");let n=a.Q.getDefaultProvider(),i=await n.getBalance(t);return c(i),i}async function g(){if(!T.ethInfo.walletAddress)throw Error("No wallet address provided");let e=await M(T.ethInfo.walletAddress);return t(o.Z.slice.actions.updateETHWalletBalance(i.Z.wei2eth(e))),e}async function k(t,n){if(0===t.length)return[];if(!(n=n||e))throw Error("No wallet address provided");return await new u.Z().getTokenBalances(t,n)}async function I(e){let n=[null!=e?e:[],T.tokenBalances].flat().reduce((e,t)=>(e.find(e=>e.address===t.address)||e.push(t),e),[]);if(0===n.length)return;let a=T.ethInfo.walletAddress;if(!a)throw Error("No wallet address provided");let s=(await k(n.map(e=>e.address),a)).map((e,t)=>({...n[t],balance:i.Z.wei2eth(e)}));t(o.Z.slice.actions.updateTokenBalances(s))}async function h(t,n){if(0===t.length)return[];if(!(n=n||e))throw Error("No wallet address provided");let i=a.Q.getTargetNet().chainId,s=a.Q.getDefaultProvider(),r=new l.z(i,s),u=new Map;for(let e of t)u.set(e,new l.C(e,p.n).balanceOf(n));return await r.all(Array.from(u.values())).then(e=>e)}async function E(){let e=T.nftBalances;if(0===e.length)return;let n=T.ethInfo.walletAddress;if(!n)throw Error("No wallet address provided");let a=await h(e.map(e=>e.address),n);t(o.Z.slice.actions.updateNFTBalances(a.map((t,n)=>({...e[n],balance:t.toString()}))))}return{ethInfo:n,tokenBalancesMap:b,balanceOfTokensMap:w,nftBalancesMap:v,getETHBalance:M,updateETHBalance:g,updateBalanceOfTokens:async function(e){let n=a.Q.getTargetNet(),p=n.chainId;if(s.Z.D("targetChainId:".concat(p)),p===r.a.NoNetwork)return;let y=await new u.Z().getBalanceOfTokens(e,n.chainId).catch(e=>(s.Z.E(e),Promise.reject(e)));return t(d.Z.slice.actions.updateBalanceOfTokens(y.map((t,a)=>({chainId:n.chainId,address:e[a],balance:i.Z.wei2eth(t),icon:"",symbol:"",name:"",decimals:0})))),y},getTokenBalances:k,updateTokenBalances:I,getNFTBalances:h,updateNFTBalances:E}}},1804:function(e,t,n){var a,i;n.d(t,{a:function(){return a}}),(i=a||(a={}))[i.NoNetwork=-1]="NoNetwork",i[i.Testnet=8888888888]="Testnet",i[i.Livenet=0]="Livenet"},97887:function(e,t,n){n.d(t,{n:function(){return a}});let a=[{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"string",name:"image",type:"string"},{internalType:"string",name:"link",type:"string"},{internalType:"address",name:"_factory",type:"address"},{internalType:"uint256",name:"_cap",type:"uint256"},{internalType:"uint256",name:"_startTs",type:"uint256"},{internalType:"address",name:"_creator",type:"address"},{internalType:"address",name:"_dao",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ERC721EnumerableForbiddenBatchMint",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],name:"ERC721IncorrectOwner",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721InsufficientApproval",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC721InvalidApprover",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC721InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"ERC721InvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC721InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC721InvalidSender",type:"error"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721NonexistentToken",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"ERC721OutOfBoundsIndex",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"cap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"creator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"deploySwap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"endTs",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"externalLink",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStakingRewards",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"hasSettled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"imageAddress",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"minters",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"overAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"refund",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"refundAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_endTs",type:"uint256"}],name:"setEndTs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"_nftStakingRewards",type:"address"}],name:"setNftStakingRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_overAmount",type:"uint256"}],name:"setOverAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"settle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stakingRewards",outputs:[{internalType:"contract NftStakingRewards",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"startTs",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"swap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"trulyCap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}]}}]);