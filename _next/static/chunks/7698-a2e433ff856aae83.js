(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7698],{71845:function(e,t,n){"use strict";var a,o=n(94746);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:15,height:8,fill:"none"},e),a||(a=o.createElement("path",{fill:"currentColor",d:"M7.096 8c.315 0 .596-.141.785-.363a1 1 0 0 0 .207-.157l5.832-5.886a.937.937 0 0 0-.002-1.322l-.004-.004a.925.925 0 0 0-1.308.006l-5.51 5.56-5.51-5.56-.029-.028a.925.925 0 0 0-1.28.022L.274.272l-.028.03a.94.94 0 0 0 .027 1.292L6.104 7.48l.03.029a1 1 0 0 0 .177.128A1.03 1.03 0 0 0 7.096 8"})))}},66917:function(e,t,n){"use strict";var a=n(57437),o=n(2265),l=n(71845),i=n(53335);t.Z=o.forwardRef(function(e,t){let{text:n,className:o,...r}=e;return(0,a.jsxs)("p",{ref:t,className:(0,i.m6)("mt-5 text-tip flex justify-center items-center gap-2 component-load-more",o),...r,children:[n," ",(0,a.jsx)(l.Z,{})]})})},52926:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(57437);n(2265),n(75546);var o=n(18030);function l(e){let{text:t,className:n,children:l,...i}=e;return(0,a.jsxs)("div",{className:"component-loading text-secondary text-center ".concat(null!=n?n:""),children:[(0,a.jsx)(o.Z,{className:"icon mx-auto"}),t?(0,a.jsx)("p",{className:"text-tip text-[14px]",children:t}):null,l]})}},56679:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var a,o,l=n(57437),i=n(2265);n(26679);var r=n(4810),s=n.n(r),c=n(94746);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}var u=function(e){return c.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),a||(a=c.createElement("g",{clipPath:"url(#icon-close_svg__a)"},c.createElement("path",{fill:"#666",d:"m5.637 3.938.055.05 6.795 6.796 6.545-6.545a1 1 0 0 1 1.465 1.36l-.05.055-6.546 6.544 6.545 6.544a1 1 0 0 1-1.36 1.466l-.054-.051-6.545-6.545-6.795 6.796a1 1 0 0 1-1.465-1.36l.05-.054 6.796-6.796-6.795-6.795a1 1 0 0 1 1.359-1.465"}))),o||(o=c.createElement("defs",null,c.createElement("clipPath",{id:"icon-close_svg__a"},c.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"})))))},f=n(72790),m=n(11340),p=n(53335),v=n(65435);function g(e){let{title:t,showCloseButton:n,children:a,className:o,onRequestClose:r,controls:c,tipText:d,size:g="normal",...x}=e,h=(0,i.useRef)(null);n=null!=n&&n;let N={active:"flex-1 h-[50px] bg-gradient-to-r from-[#E700E6] to-[#4B4BDF] text-white font-semibold rounded-[8px]",normal:"flex-1 h-[50px] bg-[#111111] text-white font-semibold rounded-[8px]",disabled:"flex-1 h-[50px] bg-[#111111] border border-[#30251d] text-white font-semibold rounded-[8px]"};return(0,l.jsx)("div",{ref:h,className:"react-modal-contain flex justify-center items-center",children:(0,l.jsxs)(s(),{overlayClassName:"react-modal-overlay flex flex-col justify-center",onRequestClose:null!=r?r:null,className:"react-modal-content size-".concat(g," ").concat(null!=o?o:""),...x,children:[t||n?(0,l.jsxs)(f.Z,{className:"top-nav",horizontalArrangement:n?m.cV.SpaceBetween:m.cV.Center,verticalAlignment:m.v2.Center,children:[(0,l.jsx)("h1",{className:"text-[18px] font-medium modal-title",children:t}),n?(0,l.jsx)(u,{className:"cursor-pointer",onClick:()=>null==r?void 0:r()}):""]}):null,(0,l.jsx)("div",{className:"content",children:a}),(null==c?void 0:c.buttons.length)||d?(0,l.jsxs)("div",{className:"bottom flex flex-col mt-[20px] gap-[20px]",children:[(null==c?void 0:c.buttons.length)?(0,l.jsx)("div",{className:"flex justify-end gap-4 mt-[20px]",children:c.buttons.map((e,t)=>(0,l.jsx)(v.ZP,{status:v.Dv.None,className:(0,p.m6)(N[e.type],e.className),waitForClick:!0,onClick:e.onClick,children:e.text},t))}):null,d?(0,l.jsx)("p",{className:"text-[12px] text-white font-medium text-center",children:d}):null]}):null]})})}},97644:function(e,t,n){"use strict";n.d(t,{ZP:function(){return g}});var a=n(57437),o=n(2265),l=n(25103),i=n.n(l),r=n(63671),s=n(10433),c=n(74439),d=n(72525),u=n(72790),f=n(11340),m=n(52926),p=n(20605);n(83123),n(66917),n(41849),n(43949);var v=n(53335);function g(e){var t,n,l;let g=null!==(t=e.needRelocationAfterUpdate)&&void 0!==t&&t,x=null!==(n=e.offsetY)&&void 0!==n?n:-70,h=o.useRef(null),[N,C]=o.useState((0,r.ki)(e.pageInfo)),[b,w]=o.useTransition();function y(t){let n=e=>{};return e.isLoading||N.isLoading||(C({...N,isLoading:!0,isError:!1}),w(async()=>{let a=e.onPaginationChange({page:t});if(n=a.cancel,await a.promise.catch(e=>{if(p.Z.canBeIgnore(e))return Promise.resolve();s.Z.E(JSON.stringify(e)),C({...N,isLoading:!1,isError:!0})}),C({...N,isLoading:!1,isError:!1}),(null==h?void 0:h.current)&&0!==e.pageInfo.page){if(!g)return;c.Z.sleepForAnimationFrame(16).promise.then(()=>{if(!h.current)return;let e=c.Z.getOffsetTop(h.current)+x;s.Z.I("scroll to y: ",e),c.Z.scrollTo({y:e})})}})),n}return o.useEffect(()=>{let t=c.Z.sleepForAnimationFrame();return t.promise.then(()=>{var t;y(null!==(t=e.pageInfo.page)&&void 0!==t?t:1)}),()=>t.cancel("useEffect callback")},[]),(0,a.jsxs)(d.Z,{className:(0,v.m6)("paginate-table-container",e.className),children:[(0,a.jsxs)(d.Z,{className:"paginate-wrapper w-full",children:[(0,a.jsx)("div",{className:"paginate-content w-full",ref:h,children:e.children}),(0,a.jsxs)(u.Z,{horizontalArrangement:f.cV.Center,verticalAlignment:f.v2.Center,className:"status-contain",children:[b||e.isLoading||N.isLoading?(0,a.jsx)(m.Z,{children:e.loadingText}):"",e.isLoading||N.isLoading||0!==e.pageInfo.totalPage||!e.emptyText?"":(0,a.jsx)("div",{className:"paginate-table-placeholder",children:e.emptyText})]})]}),e.pageInfo.totalPage>1?(0,a.jsx)("div",{className:"paginate-contain",children:(0,a.jsx)(i(),{className:"flex justify-center items-center",pageCount:null!==(l=e.pageInfo.totalPage)&&void 0!==l?l:0,pageRangeDisplayed:2,marginPagesDisplayed:4,breakLabel:"...",previousLabel:"<",nextLabel:">",onPageChange:e=>y(e.selected+1),renderOnZeroPageCount:null})}):""]})}},41849:function(e,t,n){"use strict";var a=n(57437),o=n(2265),l=n(53335);t.Z=o.forwardRef(function(e,t){var n,o;return(0,a.jsxs)("p",{ref:t,className:(0,l.m6)("my-5 text-tip flex justify-center items-center gap-2 component-text-tip",null!==(n=e.className)&&void 0!==n?n:""),children:[null!==(o=e.text)&&void 0!==o?o:"Thereâ€˜s nothing more left",e.children]})})},32223:function(e,t,n){"use strict";n.d(t,{L:function(){return o},Z:function(){return s}});var a,o,l=n(57437),i=n(53335);n(61940);var r=n(2265);function s(e){var t,n;let[a,o]=(0,r.useState)(null!==(t=e.activeIndex)&&void 0!==t?t:0),s=null!==(n=e.displayType)&&void 0!==n?n:"default";return(0,r.useEffect)(()=>{void 0!==e.activeIndex&&e.activeIndex!==a&&o(e.activeIndex)},[e.activeIndex]),(0,l.jsxs)("div",{className:(0,i.m6)("tab-list-v2 flex flex-col items-stretch ".concat(s),e.className),children:[(0,l.jsxs)("ul",{className:(0,i.m6)("list tab-list-title flex flex-row items-center",e.tabListTitleClassName),children:[e.title?(0,l.jsx)("li",{className:(0,i.m6)("item tab-list-title-item bold transition-fast no-active text-[12px] md:text-[14px]",e.tabList.length>3?"flex-1 md:flex-none":"",e.titleClassName),children:(0,l.jsx)("span",{className:"flex justify-center items-center title cursor-pointer hover transition-fast",children:e.title})},-1):null,e.tabList.map((t,n)=>{var r,c;return(0,l.jsx)("li",{className:(0,i.m6)("item tab-list-title-item bold transition-fast text-[12px] md:text-[14px] ".concat(a==n?"in-active":"no-active"),e.tabList.length>3?"flex-1 md:flex-none":"",null===(r=e.tabItemClassName)||void 0===r?void 0:r.call(e,a===n)),children:(0,l.jsx)("span",{onClick:()=>{o(n),e.onClick(e.tabList[n].url)},className:(0,i.m6)("flex justify-center items-center title cursor-pointer hover transition-fast w-full",null===(c=e.tabItemTitleClassName)||void 0===c?void 0:c.call(e,a===n)),children:(0,l.jsx)("i",{className:a==n&&("default"===s||"border-gradient"===s)?"text-gradient":"text-secondary",children:t.title})})},n)})]}),e.children?(0,l.jsx)("ul",{className:"list tab-list-content",children:e.children}):""]})}(a=o||(o={})).Default="default",a.BorderGradient="border-gradient",a.BgGradient="bg-gradient"},12628:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a=n(57437),o=n(32223),l=n(43949),i=n(89769),r=n(99376),s=n(53335),c=n(95665);function d(e){let t=(0,r.useRouter)(),{t:n}=(0,l.$G)(["dao"]),d=[{title:n("TabVote"),url:"/dao/node",target:i.r.VotingTabEnum.VOTE},{title:n("TabEWV"),url:"/dao/ewv",target:i.r.VotingTabEnum.EWV},{title:n("TabNode"),url:"/dao/user",target:i.r.VotingTabEnum.NODE}];return(0,a.jsx)("div",{className:"flex flex-col items-stretch md:items-center",children:(0,a.jsx)(o.Z,{className:(0,s.m6)("mb-10",e.className),tabItemClassName:()=>"w-[33%] md:w-[180px]",tabItemTitleClassName:()=>"w-full",displayType:o.L.BgGradient,activeIndex:d.findIndex(t=>t.target===e.activeTarget),tabList:d,onClick:e=>{let n=new URLSearchParams(location.search);if(!n.has(c.Z.Params.DAO_ADDRESS))return t.push(e);let a=new URL(e,location.origin),o=new URLSearchParams(a.search);o.set(c.Z.Params.DAO_ADDRESS,n.get(c.Z.Params.DAO_ADDRESS)),a.search=o.toString(),t.push("".concat(a.origin).concat(a.pathname,"?").concat(o.toString()))}})})}},50544:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var a=n(2265),o=n(89769),l=n(43949),i=n(6178),r=n(21707),s=n(40366),c=n(71549),d=n(10433),u=n(95665),f=n(81939);function m(){var e,t,n,m,p,v,g,x,h,N,C,b,w,y,E,j,I,T,L,Z;let A=(0,i.T)(),{t:P,i18n:S}=(0,l.$G)(["dao"]),R=(0,i.C)(e=>e.dao),D="/images/dao/",k=new Map([[o.r.NodeType.NONE,{color1:"#000",color2:"#fff",title:P("notNode.title"),description:P("notNode.description"),image:"".concat(D,"not-node.png"),upgradeInfo:{userNodeCount:0n,requiredNodeCount:0n,ethPrice:0n}}],[o.r.NodeType.CANDIDATE,{color1:"#E700E6",color2:"#4B4BDF",title:P("candidateNode.title"),description:P("candidateNode.description",{title:P("candidateNode.title").toLocaleLowerCase(),token:R.tokenInfo.symbol,value:f.Z.wei2eth(null!==(C=null===(e=R.daoContractInfo)||void 0===e?void 0:e.applyCandidateEthAmount)&&void 0!==C?C:0n)}),image:"".concat(D,"candidate-node.png"),upgradeInfo:{userNodeCount:0n,requiredNodeCount:0n,ethPrice:null!==(b=null===(t=R.daoContractInfo)||void 0===t?void 0:t.applyCandidateEthAmount)&&void 0!==b?b:0n}}],[o.r.NodeType.MASTER,{color1:"#EA7D01",color2:"#B06D00",title:P("mainNode.title"),description:P("mainNode.description",{prevTitle:P("candidateNode.title").toLocaleLowerCase(),title:P("mainNode.title").toLocaleLowerCase(),nodeCount:String(null!==(w=null===(n=R.daoContractInfo)||void 0===n?void 0:n.votesForMaster)&&void 0!==w?w:0n)}),image:"".concat(D,"main-node.png"),upgradeInfo:{userNodeCount:null!==(y=null===(m=R.userInfo)||void 0===m?void 0:m.userInfo.sonCount)&&void 0!==y?y:0n,requiredNodeCount:null!==(E=null===(p=R.daoContractInfo)||void 0===p?void 0:p.votesForMaster)&&void 0!==E?E:0n,ethPrice:0n}}],[o.r.NodeType.SUPER,{color1:"#00E7D4",color2:"#4B4BDF",title:P("superNode.title"),description:P("superNode.description",{prevTitle:P("mainNode.title").toLocaleLowerCase(),title:P("superNode.title").toLocaleLowerCase(),token:R.tokenInfo.symbol,value:f.Z.wei2eth(null!==(j=null===(v=R.daoContractInfo)||void 0===v?void 0:v.applySuperEthAmount)&&void 0!==j?j:0n),nodeCount:String(null!==(I=null===(g=R.daoContractInfo)||void 0===g?void 0:g.masterForSuper)&&void 0!==I?I:0n)}),image:"".concat(D,"super-node.png"),upgradeInfo:{userNodeCount:null!==(T=null===(x=R.userInfo)||void 0===x?void 0:x.userInfo.sonMasterNodeCount)&&void 0!==T?T:0n,requiredNodeCount:null!==(L=null===(h=R.daoContractInfo)||void 0===h?void 0:h.masterForSuper)&&void 0!==L?L:0n,ethPrice:null!==(Z=null===(N=R.daoContractInfo)||void 0===N?void 0:N.applySuperEthAmount)&&void 0!==Z?Z:0n}}]]),O=Array.from(k.entries()),_=new Map;O.forEach((e,t)=>{let n=e[0],a=O[t+1];_.set(n,{nextKey:a?Number(a[0]):void 0,nextValue:a?a[1]:void 0})});let B=new Map(R.nodesCurrentRoundInfo.map(e=>["".concat(e.daoAddress,",").concat(e.nodeAddress),e]));async function F(e,t){if(0===e.length)return[];let n=new r.C(t.daoAddress,s.K),a=e.map(e=>n.promotions(t.currentRoundNO,e)),o=c.Q.getDefaultProvider(),l=new r.z(c.Q.getTargetNet().chainId,o),i=await l.all(a),u=e.map((e,n)=>({nodeAddress:e,daoAddress:t.daoAddress,promotionInfo:i[n]}));return d.Z.I("getNodeCurrentRoundSimpleInfo",u),u}async function M(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(!(t=null!=t?t:R.daoContractInfo))throw Error("daoAddress and currentRoundNO can't be empty");let n=await F([e,R.nodes.data.map(e=>e.walletAddress)].flat(),t);A(u.Z.slice.actions.updateNodesCurrentRoundInfo(n))}return a.useEffect(()=>{k.set(o.r.NodeType.MASTER,{...k.get(o.r.NodeType.MASTER),title:P("mainNode.title")}),k.set(o.r.NodeType.SUPER,{...k.get(o.r.NodeType.SUPER),title:P("superNode.title")})},[S.language]),{nodeMap:k,nodeToNextMap:_,getNodeCurrentRoundSimpleInfo:F,updateNodeCurrentRoundInfoSimpleInfo:M,nodeCurrentRoundSimpleInfoMap:B}}},75546:function(){},26679:function(){},61940:function(){}}]);