(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1898],{66773:function(e,t,n){"use strict";n.d(t,{eO:function(){return y}});var a=n(37821);n(56444);var i=n(50239),s=n(40794),r=n(31638),u=n(2321),p=n(60616);function d(e){var t,n,i,s;let u=e.value.indexOf("."),p=-1===u?"":e.value.substring(u+1),d=p.match(/^(0+)/),y=d?d[0].length:0,l=p.substring(y),o=null!==(t=e.keepDecimal)&&void 0!==t?t:4,m=null!==(n=e.decimal)&&void 0!==n?n:18,c=null!==(i=e.useSub)&&void 0!==i&&i;l.length>o&&(l=l.substring(0,o));let T=e.value.substring(0,-1===u?e.value.length:u+y+1)+l;return(0,a.jsxs)("span",{className:(0,r.m6)("format-decimal",e.className),children:[c&&-1!==u&&y>1&&null===p.match(/^0+$/)?(0,a.jsxs)(a.Fragment,{children:[T.substring(0,u+2),(0,a.jsx)("sub",{className:(0,r.m6)("zero-count",e.subClassName),children:y}),l.replace(/0+$/,"")]}):0===Number(e.value)?0:-1!==u&&e.value.length>u+1+m?"".concat(e.value.substring(0,u+1+m)):e.value,null!==(s=e.children)&&void 0!==s?s:""]})}function y(e){let{preChildren:t,value:n,minDecimal:y,decimal:l,className:o,valueClassName:m,keepDecimal:c,useSub:T,horizontalArrangement:w,children:f,...b}=e;if(isNaN(n)||"number"!=typeof n)return p.Z.W("NumberFormatter received invalid value:",n,"type:",typeof n),(0,a.jsx)("span",{className:(0,r.m6)("invalid-number",o),children:"0"});let v=null!=y?y:0;c=null!=c?c:4,void 0!==y&&(l=Math.max(Math.min(y,20),0));let h=null!=l?l:18;void 0!==l&&(l=Math.max(Math.min(l,20),0));let{value:M,suffix:g}=u.Z.getAbbreviatedValue(n);if(""!==g)return(0,a.jsxs)(i.Z,{horizontalArrangement:null!=w?w:s.cV.Center,className:(0,r.m6)("number-formatter items-baseline",o),...b,children:[null!=t?t:"",(0,a.jsx)(d,{value:M.toFixed(c),useSub:T,decimal:l,className:m}),g,f]});let k=n.toFixed(h),x=k.indexOf(".");if(-1!==x){let e=k.substring(x+1),t=(e.match(/^(0+)/)||[""])[0].length,a=e.substring(t);void 0===l&&a.length>c&&(a=a.substring(0,c)),k=n.toLocaleString("en-US",{minimumFractionDigits:v,maximumFractionDigits:null!=l?l:t+a.length})}else k=n.toLocaleString("en-US",{minimumFractionDigits:v,maximumFractionDigits:l});return(0,a.jsxs)(i.Z,{horizontalArrangement:null!=w?w:s.cV.Center,className:(0,r.m6)("number-formatter items-baseline",o),...b,children:[null!=t?t:"",(0,a.jsx)(d,{value:k,useSub:T,decimal:l,className:m,subClassName:o}),f]})}},30249:function(e,t,n){"use strict";n.d(t,{YI:function(){return i},h5:function(){return s},nj:function(){return u},ns:function(){return o},yn:function(){return l}});var a=n(82949);let i="/images/icon-base.svg",s="/images/icon-eth.svg";function r(e){if(!e)return"";let t=e.trim();return 0===t.length?"":t}let u=r("0x9cF77F5EE10F6275A383ed276b3948d870C00b2d"),p=r("0x663A56dF027710F8Bc1D665b76A19fe5FF287ECd"),d=r("0x4200000000000000000000000000000000000006"),y=r(a.env.NEXT_PUBLIC_MINER_REWARD_DISTRIBUTION_ADDRESS),l=u&&p&&d?[{key:"".concat(p.toLowerCase(),"-").concat(d.toLowerCase()),stakingTokenAddress:p,rewardTokenAddress:d,rewardDistributionAddress:y||void 0,baseIcon:i,quoteIcon:s}]:[];function o(){return!!(u&&l.length>0)}},23430:function(e,t,n){"use strict";n.d(t,{JL:function(){return p}});var a=n(58078),i=n(60616),s=n(30249),r=n(69967),u=n(5038);function p(e){let t=(0,u.C)(e=>e.user.ethInfo.walletAddress),[n,s]=a.useState(null),[p,d]=a.useState(!1),[y,l]=a.useState(null),o=a.useCallback(async n=>{if(!e){s(null),l(null),d(!1);return}(null==n?void 0:n.cancelled)||d(!0);try{let a=await (0,r.fL)(e,null!=t?t:void 0);if(null==n?void 0:n.cancelled)return;s(a),l(a?null:"Pool not found")}catch(e){if(null==n?void 0:n.cancelled)return;i.Z.E("fetchMinerPoolDetail failed",e),s(null),l(e instanceof Error?e.message:String(e))}finally{(null==n?void 0:n.cancelled)||d(!1)}},[e,t]);return a.useEffect(()=>{let e={cancelled:!1};return o(e).catch(e=>i.Z.E("load miner pool detail failed",e)),()=>{e.cancelled=!0}},[o]),{pool:n,loading:p,error:y,refresh:a.useCallback(async()=>{await o()},[o])}}t.ZP=function(){let e=(0,u.C)(e=>e.user.ethInfo.walletAddress),[t,n]=a.useState([]),[p,d]=a.useState(!1),[y,l]=a.useState(null),o=a.useCallback(async t=>{if(!(0,s.ns)()){if(null==t?void 0:t.cancelled)return;n([]),l(null),d(!1);return}(null==t?void 0:t.cancelled)||d(!0);try{let a=await (0,r.LY)(null!=e?e:void 0);if(null==t?void 0:t.cancelled)return;n(a),l(null)}catch(e){if(null==t?void 0:t.cancelled)return;i.Z.E("fetchMinerPools failed",e),n([]),l(e instanceof Error?e.message:String(e))}finally{(null==t?void 0:t.cancelled)||d(!1)}},[e]);return a.useEffect(()=>{let e={cancelled:!1};return o(e).catch(e=>i.Z.E("load miner pools failed",e)),()=>{e.cancelled=!0}},[o]),{pools:t,loading:p,error:y,refresh:a.useCallback(async()=>{await o()},[o])}}},6746:function(e,t,n){"use strict";n.d(t,{R:function(){return a}});let a=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amountToken",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountETH",type:"uint256"},{indexed:!1,internalType:"uint256",name:"liquidity",type:"uint256"}],name:"AddLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amountIn",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountOut",type:"uint256"},{indexed:!1,internalType:"uint256",name:"reserveA",type:"uint256"},{indexed:!1,internalType:"uint256",name:"reserveB",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ts",type:"uint256"}],name:"Swap",type:"event"},{inputs:[],name:"COMMON_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountTokenDesired",type:"uint256"},{internalType:"uint256",name:"amountTokenMin",type:"uint256"},{internalType:"uint256",name:"amountETHMin",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"addLiquidityETH",outputs:[{internalType:"uint256",name:"amountToken",type:"uint256"},{internalType:"uint256",name:"amountETH",type:"uint256"},{internalType:"uint256",name:"liquidity",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"addWhiteList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"developerOperator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"reserveIn",type:"uint256"},{internalType:"uint256",name:"reserveOut",type:"uint256"}],name:"getAmountIn",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"reserveIn",type:"uint256"},{internalType:"uint256",name:"reserveOut",type:"uint256"}],name:"getAmountOut",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_router02",type:"address"},{internalType:"address",name:"_priceConsumerV3",type:"address"},{internalType:"address",name:"_trinityswapV2Factory",type:"address"},{internalType:"address payable",name:"_stakingRewardsFactory",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceConsumerV3",outputs:[{internalType:"contract PriceConsumerV3",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"router02",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addWhiteUser",type:"address"}],name:"setAddWhiteUser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_dao",type:"address"}],name:"setDao",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_developer",type:"address"}],name:"setDeveloper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"}],name:"setDeveloperOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_router02",type:"address"}],name:"setRouter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"fee",type:"uint256"}],name:"setTokenSwapFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"}],name:"setTokenSwapFeeOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stakingRewardsFactory",outputs:[{internalType:"contract IStakingRewardsFactory",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"inputAmount",type:"uint256"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapETHForExactTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"inputAmount",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactETHForTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactTokensForETH",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapTokensForExactETH",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tokenSwapFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenSwapFeeOperator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"trinityswapV2Factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"usedAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whiteList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}]},21545:function(e,t,n){"use strict";n.d(t,{_:function(){return a}});let a=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0In",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1In",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount0Out",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1Out",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"Swap",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint112",name:"reserve0",type:"uint112"},{indexed:!1,internalType:"uint112",name:"reserve1",type:"uint112"}],name:"Sync",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MINIMUM_LIQUIDITY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"burn",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getReserves",outputs:[{internalType:"uint112",name:"_reserve0",type:"uint112"},{internalType:"uint112",name:"_reserve1",type:"uint112"},{internalType:"uint32",name:"_blockTimestampLast",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token0",type:"address"},{internalType:"address",name:"_token1",type:"address"},{internalType:"address",name:"_WETH",type:"address"},{internalType:"uint256",name:"_burnRate",type:"uint256"},{internalType:"address",name:"_router",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"kLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"liquidity",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"price0CumulativeLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price1CumulativeLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"router",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"skim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount0Out",type:"uint256"},{internalType:"uint256",name:"amount1Out",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"swap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"sync",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}]},69967:function(e,t,n){"use strict";n.d(t,{yP:function(){return F},fL:function(){return I},LY:function(){return A},AP:function(){return O},TS:function(){return S}});var a=n(36051),i=n(75),s=n(60616),r=n(48616),u=n(95744),p=n(30249);let d=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"AddressEmptyCode",type:"error"},{inputs:[{internalType:"address",name:"implementation",type:"address"}],name:"ERC1967InvalidImplementation",type:"error"},{inputs:[],name:"ERC1967NonPayable",type:"error"},{inputs:[],name:"FailedCall",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"SafeERC20FailedOperation",type:"error"},{inputs:[],name:"UUPSUnauthorizedCallContext",type:"error"},{inputs:[{internalType:"bytes32",name:"slot",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amountBurned",type:"uint256"}],name:"BurnedOnEarlyWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"rewardDistribution",type:"address"},{indexed:!1,internalType:"uint256",name:"startTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"duration",type:"uint256"},{indexed:!1,internalType:"uint256",name:"lockPeriod",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minFirstStake",type:"uint256"}],name:"ParamsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"RewardAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"RewardPaid",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Staked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"newEntryTimestamp",type:"uint256"}],name:"UserEntryUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[],name:"DURATION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"LOCK_PERIOD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"deployTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"earned",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"exit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getReward",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getRewardForDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"rewardToken",type:"address"},{internalType:"address",name:"stakingToken",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"address",name:"rewardDistribution",type:"address"},{internalType:"uint256",name:"lockPeriod",type:"uint256"},{internalType:"uint256",name:"minFirstStake",type:"uint256"}],internalType:"struct IMinerRewards.InitParams",name:"params",type:"tuple"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lastTimeRewardApplicable",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastUpdateTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minFirstStake",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minerFactory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"reward",type:"uint256"}],name:"notifyRewardAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"periodFinish",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxiableUUID",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"recoverERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardDistribution",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardPerToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardPerTokenStored",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"rewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_rewardDistribution",type:"address"},{internalType:"uint256",name:"_startTime",type:"uint256"},{internalType:"uint256",name:"_duration",type:"uint256"},{internalType:"uint256",name:"_lockPeriod",type:"uint256"},{internalType:"uint256",name:"_minFirstStake",type:"uint256"}],name:"setParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stakingToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"startTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"}],name:"upgradeTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userEntryTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userRewardPerTokenPaid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],y=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"miner",type:"address"},{indexed:!0,internalType:"address",name:"stakingToken",type:"address"},{indexed:!0,internalType:"address",name:"rewardToken",type:"address"},{indexed:!1,internalType:"uint256",name:"startTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"duration",type:"uint256"},{indexed:!1,internalType:"uint256",name:"index",type:"uint256"},{indexed:!1,internalType:"address",name:"rewardDistribution",type:"address"},{indexed:!1,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"MinerCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"address",name:"stakingToken",type:"address"},{internalType:"address",name:"rewardToken",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"address",name:"rewardDistribution",type:"address"},{internalType:"uint256",name:"lockPeriod",type:"uint256"},{internalType:"uint256",name:"minFirstStake",type:"uint256"}],name:"createMiner",outputs:[{internalType:"address",name:"miner",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"stakingToken",type:"address"},{internalType:"address",name:"rewardToken",type:"address"}],name:"getFirstMiner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"stakingToken",type:"address"},{internalType:"address",name:"rewardToken",type:"address"}],name:"getLatestMiner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"stakingToken",type:"address"},{internalType:"address",name:"rewardToken",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getMinerAt",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"stakingToken",type:"address"},{internalType:"address",name:"rewardToken",type:"address"}],name:"getMinerCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"stakingToken",type:"address"},{internalType:"address",name:"rewardToken",type:"address"}],name:"getMiners",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"minerImplementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"miner",type:"address"},{internalType:"address",name:"_rewardDistribution",type:"address"},{internalType:"uint256",name:"_startTime",type:"uint256"},{internalType:"uint256",name:"_duration",type:"uint256"},{internalType:"uint256",name:"_lockPeriod",type:"uint256"},{internalType:"uint256",name:"_minFirstStake",type:"uint256"}],name:"setParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newImplementation",type:"address"}],name:"updateMinerImplementation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minerProxy",type:"address"}],name:"upgradeMiner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"miners",type:"address[]"}],name:"upgradeMinerBatch",outputs:[],stateMutability:"nonpayable",type:"function"}];var l=n(42117),o=n(61101),m=n(31744),c=n(74795);let T=["function decimals() view returns (uint8)","function symbol() view returns (string)","function name() view returns (string)","function balanceOf(address) view returns (uint256)","function allowance(address owner, address spender) view returns (uint256)","function approve(address spender, uint256 amount) returns (bool)"],w=new i.Z(86400),f=new i.Z(31536e3),b=new Map,v=new Map;function h(e,t){let n=new i.Z(e.toString());if(0===t)return n;let a=new i.Z(10).pow(t);return new i.Z(n.dividedBy(a))}function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return e.isFinite()?e.isZero()?"0":e.toFixed(t,i.Z.ROUND_DOWN).replace(/\.0+$/,"").replace(/(\.\d*?)0+$/,"$1"):"--"}function g(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return e.isFinite()?e.isZero()?"0 ".concat(t):"".concat(M(e,n)," ").concat(t):"--"}async function k(e){let t=e.toLowerCase();if(v.has(t))return v.get(t);let n=(async()=>{try{let t=await (0,l.co)(e),n=null==t?void 0:t.sellPriceETH;if(!n||!Number.isFinite(n)||n<=0)return null;return new i.Z(n.toString())}catch(e){return s.Z.W("Failed to load staking token price",e),null}})();return v.set(t,n),n}async function x(e,t){let n=e.toLowerCase();if(b.has(n))return b.get(n);let a=new o.CH(e,T,t),i=(async()=>{let t="",i="",s=18;try{t=await a.symbol()}catch(e){t="TOKEN"}try{i=await a.name()}catch(e){i=t}try{let e=await a.decimals();s=Number(null!=e?e:18)}catch(e){s=18}return t||(t=i||"TOKEN-".concat(n.slice(2,6).toUpperCase())),{address:e,symbol:t,name:i||t,decimals:s}})();return b.set(n,i),i}async function E(e){var t,n,a,r;let u;let{minerAddress:y,provider:l,account:m,overrideConfig:c,preset:b}=e,v=new o.CH(y,d,l),E=null!==(t=null==b?void 0:b.rewardTokenAddress)&&void 0!==t?t:await v.rewardToken(),A=null!==(n=null==b?void 0:b.stakingTokenAddress)&&void 0!==n?n:await v.stakingToken(),[I,C,P,O,S,F,R]=await Promise.all([v.rewardRate(),v.totalSupply(),v.DURATION(),v.periodFinish(),v.startTime(),v.LOCK_PERIOD(),v.minFirstStake()]),[N,_]=await Promise.all([x(E,l),x(A,l)]),Z=new o.CH(E,T,l),D=new o.CH(A,T,l),U=await Z.balanceOf(y);if(m)try{let[e,t,n,a]=await Promise.all([v.balanceOf(m),v.earned(m),v.userEntryTimestamp(m),D.balanceOf(m)]),i=h(e,_.decimals),s=h(t,N.decimals),r=h(a,_.decimals);u={stakedRaw:e,earnedRaw:t,entryTimestamp:Number(n),metrics:{staked:i,earned:s,walletBalance:r},display:{staked:g(i,_.symbol),earned:g(s,N.symbol),walletBalance:g(r,_.symbol)}}}catch(e){s.Z.W("Failed to load user miner data",e)}let L=h(I,N.decimals),H=new i.Z(L.times(w)),z=new i.Z(L.times(f)),B=h(U,N.decimals),W=h(C,_.decimals),V=h(R,_.decimals),$=null;try{$=await k(A)}catch(e){s.Z.W("getStakingTokenPriceInEth failed",e)}let j=new i.Z(0);if($&&$.gt(0)){let e=W.times($);if(!e.isZero()){let t=new i.Z(z.dividedBy(e));t.isFinite()&&(j=new i.Z(t.times(100)))}}else if(!W.isZero()){let e=new i.Z(z.dividedBy(W));e.isFinite()&&(j=new i.Z(e.times(100)))}let q={rewardPerDay:H,rewardReserve:B,totalStaked:W,apyPercent:j,minFirstStake:V},K={rewardPerDay:g(H,N.symbol),rewardReserve:g(B,N.symbol),totalStaked:g(W,_.symbol),apy:j.isZero()?"--":function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e.isFinite()?"".concat(M(e,t),"%"):"--"}(j),minFirstStake:g(V,_.symbol)},Y=null!=c?c:function(e,t){let n=e.toLowerCase(),a=t.toLowerCase();return p.yn.find(e=>e.stakingTokenAddress.toLowerCase()===n&&e.rewardTokenAddress.toLowerCase()===a)}(A,E);return{id:y,minerAddress:y,name:"".concat(_.symbol||"STAKE"," - ").concat(N.symbol||"REWARD"),baseIcon:null!==(a=null==Y?void 0:Y.baseIcon)&&void 0!==a?a:p.YI,quoteIcon:null!==(r=null==Y?void 0:Y.quoteIcon)&&void 0!==r?r:p.h5,metrics:q,display:K,tokens:{reward:N,staking:_},startTime:Number(S),periodFinish:Number(O),lockPeriodSeconds:Number(F),raw:{rewardRate:I,duration:P,totalSupply:C,rewardReserve:U,minFirstStake:R,rewardTokenAddress:E,stakingTokenAddress:A},user:u}}async function A(e){if(!(0,p.ns)())return[];let t=a.Q.getDefaultProvider(),n=new o.CH(p.nj,y,t),i=[];for(let a of p.yn){let r=null;try{let e=await n.getMiners(a.stakingTokenAddress,a.rewardTokenAddress);r=e.length>0?e[e.length-1]:null}catch(e){s.Z.E("Failed to load miner list",e);continue}if(r&&r!==m.N)try{let n=await E({minerAddress:r,provider:t,account:e,overrideConfig:a,preset:{stakingTokenAddress:a.stakingTokenAddress,rewardTokenAddress:a.rewardTokenAddress}});n&&i.push(n)}catch(e){s.Z.E("Failed to load miner summary",e)}}return i}async function I(e,t){if(!e)throw Error("Miner address is required");let n=a.Q.getDefaultProvider();try{return await E({minerAddress:e,provider:n,account:t})}catch(e){return s.Z.E("Failed to fetch miner detail",e),null}}async function C(){var e;let t=u.r.getInstance().getProvider();if(!t)throw Error("Wallet not connected");let n=a.Q.getTargetNet(),i=r.Z.getInstance(t,n.chainId),s=await i.getSigner(),p=await s.getAddress(),d=await (null===(e=s.provider)||void 0===e?void 0:e.getNetwork());if(d&&Number(d.chainId)!==n.chainId)throw Error("Please switch to the target network");return{signer:s,address:p}}function P(e,t){let n=e.trim();if(!n)throw Error("Amount is required");try{return c.vz(n,t)}catch(e){throw Error("Invalid amount format")}}async function O(e){var t;let{minerAddress:n,stakingTokenAddress:a,stakingTokenDecimals:i,amount:s}=e,{signer:r,address:u}=await C(),p=P(s,i);if(p<=0n)throw Error("Amount must be greater than zero");let y=new o.CH(a,T,r);if(await y.allowance(u,n)<p){let e=await y.approve(n,p);await e.wait()}let l=new o.CH(n,d,r),m=await l.stake(p),c=await m.wait();return null!==(t=null==c?void 0:c.hash)&&void 0!==t?t:m.hash}async function S(e){var t;let{minerAddress:n,stakingTokenDecimals:a,amount:i}=e,{signer:s}=await C(),r=P(i,a);if(r<=0n)throw Error("Amount must be greater than zero");let u=new o.CH(n,d,s),p=await u.withdraw(r),y=await p.wait();return null!==(t=null==y?void 0:y.hash)&&void 0!==t?t:p.hash}async function F(e){var t;let{signer:n}=await C(),a=new o.CH(e,d,n),i=await a.getReward(),s=await i.wait();return null!==(t=null==s?void 0:s.hash)&&void 0!==t?t:i.hash}},42117:function(e,t,n){"use strict";n.d(t,{co:function(){return w}});var a=n(17147),i=n(36051),s=n(31744),r=n(61101),u=n(74795),p=n(64742),d=n(46942),y=n(7086),l=n(21545),o=n(6746),m=n(60616);class c{async getPairReserves(e){let t,n;let a=await this.getPairAddress(e);if(a===s.N)throw Error("Pair does not exist");let i=new r.CH(a,l._,this.provider);try{let e=await this.provider.getCode(a);if("0x"===e)throw Error("Pair contract does not exist: ".concat(a));let s=await Promise.all([i.token0(),i.token1(),i.getReserves()]);t=s[0],s[1],n=s[2]}catch(e){throw m.Z.E("❌ 获取交易对储备失败:",e),e}let[u,p]=n,d=t.toLowerCase()===this.wethAddress.toLowerCase();return{ethReserve:d?u:p,tokenReserve:d?p:u,pairAddress:a}}async getPairAddress(e){let t=new r.CH(this.tokenSwapAddress,o.R,this.provider);try{let n=await this.provider.getCode(this.tokenSwapAddress);if("0x"===n)return m.Z.E("❌ TokenSwap合约不存在: ".concat(this.tokenSwapAddress)),s.N;let a=await t.trinityswapV2Factory(),i=await this.provider.getCode(a);if("0x"===i)return m.Z.E("❌ Factory合约不存在: ".concat(a)),s.N;try{let t=new r.CH(a,["function getPair(address tokenA, address tokenB) external view returns (address pair)"],this.provider),n=await t.getPair(e,this.wethAddress);if(n!==s.N){let e=await this.provider.getCode(n);if("0x"!==e)return n}}catch(e){}return await this.computePairAddress(a,e,this.wethAddress)}catch(e){return m.Z.E("❌ 获取交易对地址失败:",e),s.N}}async getRealtimePrice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1";try{let{ethReserve:n,tokenReserve:a}=await this.getPairReserves(e),i=u.fi(t),s=this.getAmountOut(i,n,a,997n),r=Number(u.dF(s)),p=u.fi("1"),d=this.getAmountOut(p,a,n,997n),y=Number(u.dF(d)),l=Number(n)/Number(a)*1e18,o=Number(u.dF(BigInt(Math.floor(l))));return{buyPriceETH:r,sellPriceETH:y,midPriceETH:o,slippage:o>0?Math.abs(1/r-y)/o*100:0}}catch(e){throw m.Z.E("❌ 计算价格时发生错误:",e),e}}getAmountOut(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:997n;if(0n===e||0n===t||0n===n)return 0n;let i=e*a;return i*n/(1000n*t+i)}async computePairAddress(e,t,n){let[a,i]=t.toLowerCase()<n.toLowerCase()?[t,n]:[n,t],s=p.w(d.VT(["address","address"],[a,i]));for(let t of["0x96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f","0xd0d4c4cd0848c93cb4fd1f498d7013ee6bfb25783ea21593d5834f5d250ece66","0x00fb7f630766e6a796048ea87d01acd3068e8ff67d078148a3fa3f4a84f69bd5","0xe18a34eb0e04b04f7a0ac29a6e80748dca96319b42c54d679cb821dca90c6303"]){let n=y.h(e,s,t),a=await this.provider.getCode(n);if("0x"!==a&&a.length>2)return n}return y.h(e,s,"0x96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f")}constructor(){if((0,a._)(this,"provider",void 0),(0,a._)(this,"wethAddress",void 0),(0,a._)(this,"tokenSwapAddress",void 0),this.provider=i.Q.getDefaultProvider(),this.wethAddress="0x4200000000000000000000000000000000000006",this.tokenSwapAddress="0x4Cd906AEF43aB89BB5714391B024b3C49bC76617",!this.wethAddress||!this.tokenSwapAddress)throw Error("Missing required environment variables")}}let T=new c;async function w(e){return T.getRealtimePrice(e)}},56444:function(){},46942:function(e,t,n){"use strict";n.d(t,{VT:function(){return o},vP:function(){return m}});var a=n(29206),i=n(64742),s=n(65825),r=n(37748),u=n(76777),p=n(59504);let d=RegExp("^bytes([0-9]+)$"),y=RegExp("^(u?int)([0-9]*)$"),l=RegExp("^(.*)\\[([0-9]*)\\]$");function o(e,t){(0,u.en)(e.length===t.length,"wrong number of values; expected ${ types.length }","values",t);let n=[];return e.forEach(function(e,i){n.push(function e(t,n,i){switch(t){case"address":if(i)return(0,s.Pw)((0,s.U3)(n,32));return(0,s.Pw)((0,a.K)(n));case"string":return(0,r.Y0)(n);case"bytes":return(0,s.Pw)(n);case"bool":if(n=n?"0x01":"0x00",i)return(0,s.Pw)((0,s.U3)(n,32));return(0,s.Pw)(n)}let o=t.match(y);if(o){let e="int"===o[1],a=parseInt(o[2]||"256");return(0,u.en)((!o[2]||o[2]===String(a))&&a%8==0&&0!==a&&a<=256,"invalid number type","type",t),i&&(a=256),e&&(n=(0,p.$j)(n,a)),(0,s.Pw)((0,s.U3)((0,p.ot)(n),a/8))}if(o=t.match(d)){let e=parseInt(o[1]);return((0,u.en)(String(e)===o[1]&&0!==e&&e<=32,"invalid bytes type","type",t),(0,u.en)((0,s.M5)(n)===e,`invalid value for ${t}`,"value",n),i)?(0,s.Pw)((0,s.SK)(n,32)):n}if((o=t.match(l))&&Array.isArray(n)){let a=o[1],i=parseInt(o[2]||String(n.length));(0,u.en)(i===n.length,`invalid array length for ${t}`,"value",n);let r=[];return n.forEach(function(t){r.push(e(a,t,!0))}),(0,s.Pw)((0,s.zo)(r))}(0,u.en)(!1,"invalid type","type",t)}(e,t[i]))}),(0,s.Dv)((0,s.zo)(n))}function m(e,t){return(0,i.w)(o(e,t))}}}]);